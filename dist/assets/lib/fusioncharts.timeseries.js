!function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):function(t){if(!t.document)throw new Error("Window with document not present");return e(t,!0)}:t.FusionCharts=e(t,!0)}("undefined"!=typeof window?window:this,function(t,e){return function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Oi&&e.documentElement.namespaceURI===Oi?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i(t,e,n){return t=r(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function r(e,n,i){return function(r){var o=t.event;t.event=r;try{e.call(this,this.__data__,n,i)}finally{t.event=o}}}function o(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function a(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;o>i;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function s(t,e,n){var o=Yi.hasOwnProperty(t.type)?i:r;return function(i,r,a){var s,u=this.__on,l=o(e,r,a);if(u)for(var c=0,h=u.length;h>c;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function u(e,n,i,r){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(i,r)}finally{t.event=o}}function l(){}function c(){return[]}function h(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function p(t,e,n,i,r,o){for(var a,s=0,u=e.length,l=o.length;l>s;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new h(t,o[s]);for(;u>s;++s)(a=e[s])&&(r[s]=a)}function f(t,e,n,i,r,o,a){var s,u,l,c={},p=e.length,f=o.length,g=new Array(p);for(s=0;p>s;++s)(u=e[s])&&(g[s]=l=or+a.call(u,u.__data__,s,e),l in c?r[s]=u:c[l]=u);for(s=0;f>s;++s)l=or+a.call(t,o[s],s,o),(u=c[l])?(i[s]=u,u.__data__=o[s],c[l]=null):n[s]=new h(t,o[s]);for(s=0;p>s;++s)(u=e[s])&&c[g[s]]===u&&(r[s]=u)}function g(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function d(t){return function(){this.removeAttribute(t)}}function m(t){return function(){this.removeAttributeNS(t.space,t.local)}}function y(t,e){return function(){this.setAttribute(t,e)}}function v(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function w(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function b(t){return function(){this.style.removeProperty(t)}}function C(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function M(t){return function(){delete this[t]}}function S(t,e){return function(){this[t]=e}}function A(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function k(t){return t.trim().split(/^|\s+/)}function N(t){return t.classList||new I(t)}function I(t){this._node=t,this._names=k(t.getAttribute("class")||"")}function T(t,e){for(var n=N(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function P(t,e){for(var n=N(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function L(t){return function(){T(this,t)}}function D(t){return function(){P(this,t)}}function F(t,e){return function(){(e.apply(this,arguments)?T:P)(this,t)}}function E(){this.textContent=""}function R(t){return function(){this.textContent=t}}function O(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function j(){this.innerHTML=""}function H(t){return function(){this.innerHTML=t}}function B(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function G(){this.nextSibling&&this.parentNode.appendChild(this)}function W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function z(){return null}function X(){var t=this.parentNode;t&&t.removeChild(this)}function Y(t,e,n){var i=vr(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function V(t,e){return function(){return Y(this,t,e)}}function U(t,e){return function(){return Y(this,t,e.apply(this,arguments))}}function q(t,e){this._groups=t,this._parents=e}function Z(){return new q([[document.documentElement]],Pr)}function $(){for(var t,e=0,n=arguments.length,i={};n>e;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new Q(i)}function Q(t){this._=t}function K(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function J(t,e){for(var n,i=0,r=t.length;r>i;++i)if((n=t[i]).name===e)return n.value}function tt(t,e,n){for(var i=0,r=t.length;r>i;++i)if(t[i].name===e){t[i]=Fr,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function et(){return Wr||(Yr(nt),Wr=Xr.now()+zr)}function nt(){Wr=0}function it(){this._call=this._time=this._next=null}function rt(t,e,n){var i=new it;return i.restart(t,e,n),i}function ot(){et(),++Or;for(var t,e=Er;e;)(t=Wr-e._time)>=0&&e._call.call(null,t),e=e._next;--Or}function at(){Wr=(Gr=Xr.now())+zr,Or=jr=0;try{ot()}finally{Or=0,ut(),Wr=0}}function st(){var t=Xr.now(),e=t-Gr;e>Br&&(zr-=e,Gr=t)}function ut(){for(var t,e,n=Er,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Er=e);Rr=t,lt(i)}function lt(t){if(!Or){jr&&(jr=clearTimeout(jr));var e=t-Wr;e>24?(1/0>t&&(jr=setTimeout(at,e)),Hr&&(Hr=clearInterval(Hr))):(Hr||(Hr=setInterval(st,Br)),Or=1,Yr(at))}}function ct(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Zr)throw new Error("too late");return n}function ht(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Qr)throw new Error("too late");return n}function pt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function ft(t,e,n){function i(t){n.state=$r,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var l,c,h,p;if(n.state!==$r)return a();for(l in u)if(p=u[l],p.name===n.name){if(p.state===Kr)return Vr(r);p.state===Jr?(p.state=eo,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete u[l]):e>+l&&(p.state=eo,p.timer.stop(),delete u[l])}if(Vr(function(){n.state===Kr&&(n.state=Jr,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=Qr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Qr){for(n.state=Kr,s=new Array(h=n.tween.length),l=0,c=-1;h>l;++l)(p=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(s[++c]=p);s.length=c+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=to,1),r=-1,o=s.length;++r<o;)s[r].call(null,i);n.state===to&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=eo,n.timer.stop(),delete u[e];for(var i in u)return;delete t.__transition}var s,u=t.__transition;u[e]=n,n.timer=rt(i,0,n.time)}function gt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function dt(){}function mt(t){var e;return t=(t+"").trim().toLowerCase(),(e=ho.exec(t))?(e=parseInt(e[1],16),new bt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=po.exec(t))?yt(parseInt(e[1],16)):(e=fo.exec(t))?new bt(e[1],e[2],e[3],1):(e=go.exec(t))?new bt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=mo.exec(t))?vt(e[1],e[2],e[3],e[4]):(e=yo.exec(t))?vt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=vo.exec(t))?Ct(e[1],e[2]/100,e[3]/100,1):(e=xo.exec(t))?Ct(e[1],e[2]/100,e[3]/100,e[4]):wo.hasOwnProperty(t)?yt(wo[t]):"transparent"===t?new bt(NaN,NaN,NaN,0):null}function yt(t){return new bt(t>>16&255,t>>8&255,255&t,1)}function vt(t,e,n,i){return 0>=i&&(t=e=n=NaN),new bt(t,e,n,i)}function xt(t){return t instanceof dt||(t=mt(t)),t?(t=t.rgb(),new bt(t.r,t.g,t.b,t.opacity)):new bt}function wt(t,e,n,i){return 1===arguments.length?xt(t):new bt(t,e,n,null==i?1:i)}function bt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Ct(t,e,n,i){return 0>=i?t=e=n=NaN:0>=n||n>=1?t=e=NaN:0>=e&&(t=NaN),new St(t,e,n,i)}function _t(t){if(t instanceof St)return new St(t.h,t.s,t.l,t.opacity);if(t instanceof dt||(t=mt(t)),!t)return new St;if(t instanceof St)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(i>n):n===o?(i-e)/s+2:(e-n)/s+4,s/=.5>u?o+r:2-o-r,a*=60):s=u>0&&1>u?0:a,new St(a,s,u,t.opacity)}function Mt(t,e,n,i){return 1===arguments.length?_t(t):new St(t,e,n,null==i?1:i)}function St(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function At(t,e,n){return 255*(60>t?e+(n-e)*t/60:180>t?n:240>t?e+(n-e)*(240-t)/60:e)}function kt(t){if(t instanceof It)return new It(t.l,t.a,t.b,t.opacity);if(t instanceof Rt){var e=t.h*bo;return new It(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof bt||(t=xt(t));var n=Dt(t.r),i=Dt(t.g),r=Dt(t.b),o=Tt((.4124564*n+.3575761*i+.1804375*r)/Mo),a=Tt((.2126729*n+.7151522*i+.072175*r)/So),s=Tt((.0193339*n+.119192*i+.9503041*r)/Ao);return new It(116*a-16,500*(o-a),200*(a-s),t.opacity)}function Nt(t,e,n,i){return 1===arguments.length?kt(t):new It(t,e,n,null==i?1:i)}function It(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Tt(t){return t>To?Math.pow(t,1/3):t/Io+ko}function Pt(t){return t>No?t*t*t:Io*(t-ko)}function Lt(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Dt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ft(t){if(t instanceof Rt)return new Rt(t.h,t.c,t.l,t.opacity);t instanceof It||(t=kt(t));var e=Math.atan2(t.b,t.a)*Co;return new Rt(0>e?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Et(t,e,n,i){return 1===arguments.length?Ft(t):new Rt(t,e,n,null==i?1:i)}function Rt(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Ot(t){if(t instanceof Ht)return new Ht(t.h,t.s,t.l,t.opacity);t instanceof bt||(t=xt(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(jo*i+Ro*e-Oo*n)/(jo+Ro-Oo),o=i-r,a=(Eo*(n-r)-Do*o)/Fo,s=Math.sqrt(a*a+o*o)/(Eo*r*(1-r)),u=s?Math.atan2(a,o)*Co-120:NaN;return new Ht(0>u?u+360:u,s,r,t.opacity)}function jt(t,e,n,i){return 1===arguments.length?Ot(t):new Ht(t,e,n,null==i?1:i)}function Ht(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Bt(t,e){return function(n){return t+n*e}}function Gt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Wt(t,e){var n=e-t;return n?Bt(t,n>180||-180>n?n-360*Math.round(n/360):n):zo(isNaN(t)?e:t)}function zt(t){return 1===(t=+t)?Xt:function(e,n){return n-e?Gt(e,n,t):zo(isNaN(e)?n:e)}}function Xt(t,e){var n=e-t;return n?Bt(t,n):zo(isNaN(t)?e:t)}function Yt(t){return function(){return t}}function Vt(t){return function(e){return t(e)+""}}function Ut(t){return"none"===t?ea:(Ho||(Ho=document.createElement("DIV"),Bo=document.documentElement,Go=document.defaultView),Ho.style.transform=t,t=Go.getComputedStyle(Bo.appendChild(Ho),null).getPropertyValue("transform"),Bo.removeChild(Ho),t=t.slice(7,-1).split(","),na(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function qt(t){return null==t?ea:(Wo||(Wo=document.createElementNS("http://www.w3.org/2000/svg","g")),Wo.setAttribute("transform",t),(t=Wo.transform.baseVal.consolidate())?(t=t.matrix,na(t.a,t.b,t.c,t.d,t.e,t.f)):ea)}function Zt(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,a,s){if(t!==r||i!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Uo(t,r)},{i:u-2,x:Uo(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Uo(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function s(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Uo(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function u(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Uo(t,n)},{i:s-2,x:Uo(e,i)})}else(1!==n||1!==i)&&o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),a(e.rotate,n.rotate,i,r),s(e.skewX,n.skewX,i,r),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function $t(t){return((t=Math.exp(t))+1/t)/2}function Qt(t){return((t=Math.exp(t))-1/t)/2}function Kt(t){return((t=Math.exp(2*t))-1)/(t+1)}function Jt(t){return function e(n){function i(e,i){var r=t((e=jt(e)).h,(i=jt(i)).h),o=Xt(e.s,i.s),a=Xt(e.l,i.l),s=Xt(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}function te(t,e){var n,i;return function(){var r=ht(this,t),o=r.tween;if(o!==n){i=n=o;for(var a=0,s=i.length;s>a;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function ee(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=ht(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},u=0,l=r.length;l>u;++u)if(r[u].name===e){r[u]=s;break}u===l&&r.push(s)}o.tween=r}}function ne(t,e,n){var i=t._id;return t.each(function(){var t=ht(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return pt(t,i).value[e]}}function ie(t){return function(){this.removeAttribute(t)}}function re(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oe(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function ae(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function se(t,e,n){var i,r,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===i&&s===r?o:o=e(i=a,r=s))}}function ue(t,e,n){var i,r,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===i&&s===r?o:o=e(i=a,r=s))}}function le(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function ce(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function he(t,e){return function(){ct(this,t).delay=+e.apply(this,arguments)}}function pe(t,e){return e=+e,function(){ct(this,t).delay=e}}function fe(t,e){return function(){ht(this,t).duration=+e.apply(this,arguments)}}function ge(t,e){return e=+e,function(){ht(this,t).duration=e}}function de(t,e){if("function"!=typeof e)throw new Error;return function(){ht(this,t).ease=e}}function me(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function ye(t,e,n){var i,r,o=me(e)?ct:ht;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}function ve(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function xe(t,e){var n,i,r;return function(){var o=vr(this).getComputedStyle(this,null),a=o.getPropertyValue(t),s=(this.style.removeProperty(t),o.getPropertyValue(t));return a===s?null:a===n&&s===i?r:r=e(n=a,i=s)}}function we(t){return function(){this.style.removeProperty(t)}}function be(t,e,n){var i,r;return function(){var o=vr(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===i?r:r=e(i=o,n)}}function Ce(t,e,n){var i,r,o;return function(){var a=vr(this).getComputedStyle(this,null),s=a.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=a.getPropertyValue(t)),s===u?null:s===i&&u===r?o:o=e(i=s,r=u)}}function _e(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}function Me(t){return function(){this.textContent=t}}function Se(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function Ae(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ke(t){return Z().transition(t)}function Ne(){return++Ta}function Ie(t){return t*t}function Te(t){return t*(2-t)}function Pe(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Le(t){return t*t*t}function De(t){return--t*t*t+1}function Fe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function Ee(t){return 1-Math.cos(t*Oa)}function Re(t){return Math.sin(t*Oa)}function Oe(t){return(1-Math.cos(Ra*t))/2}function je(t){return Math.pow(2,10*t-10)}function He(t){return 1-Math.pow(2,-10*t)}function Be(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Ge(t){return 1-Math.sqrt(1-t*t)}function We(t){return Math.sqrt(1- --t*t)}function ze(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Xe(t){return 1-Ye(1-t)}function Ye(t){return(t=+t)<ja?Ua*t*t:Ba>t?Ua*(t-=Ha)*t+Ga:za>t?Ua*(t-=Wa)*t+Xa:Ua*(t-=Ya)*t+Va}function Ve(t){return((t*=2)<=1?1-Ye(1-t):Ye(t-1)+1)/2}function Ue(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return rs.time=et(),rs;return n}function qe(){t.event.stopImmediatePropagation()}function Ze(t,e){var n=t.document.documentElement,i=Lr(t).on("dragstart.drag",null);e&&(i.on("click.drag",as,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function $e(t,e,n,i,r,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function Qe(){return!t.event.button}function Ke(){return this.parentNode}function Je(e){return null==e?{x:t.event.x,y:t.event.y}:e}function tn(){t.event.stopImmediatePropagation()}function en(t){return{type:t}}function nn(){return!t.event.button}function rn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function on(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function an(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function sn(){return un(ys)}function un(e){function n(t){var n=t.property("__brush",s).selectAll(".overlay").data([en("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",xs.overlay).merge(n).each(function(){var t=on(this).extent;Lr(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([en("selection")]).enter().append("rect").attr("class","selection").attr("cursor",xs.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return xs[t.type]}),t.each(i).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function i(){var t=Lr(this),e=on(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-f/2:e[0][0]-f/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-f/2:e[0][1]-f/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+f:f}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+f:f})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function r(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){function n(){var t=$i(M);!R||C||_||(Math.abs(t[0]-j[0])>Math.abs(t[1]-j[1])?_=!0:C=!0),j=t,b=!0,ps(),o()}function o(){var t;switch(x=j[0]-O[0],w=j[1]-O[1],A){case gs:case fs:k&&(x=Math.max(L-c,Math.min(F-d,x)),p=c+x,m=d+x),N&&(w=Math.max(D-f,Math.min(E-y,w)),g=f+w,v=y+w);break;case ds:0>k?(x=Math.max(L-c,Math.min(F-c,x)),p=c+x,m=d):k>0&&(x=Math.max(L-d,Math.min(F-d,x)),p=c,m=d+x),0>N?(w=Math.max(D-f,Math.min(E-f,w)),g=f+w,v=y):N>0&&(w=Math.max(D-y,Math.min(E-y,w)),g=f,v=y+w);break;case ms:k&&(p=Math.max(L,Math.min(F,c-x*k)),m=Math.max(L,Math.min(F,d+x*k))),N&&(g=Math.max(D,Math.min(E,f-w*N)),v=Math.max(D,Math.min(E,y+w*N)))}p>m&&(k*=-1,t=c,c=d,d=t,t=p,p=m,m=t,S in ws&&G.attr("cursor",xs[S=ws[S]])),g>v&&(N*=-1,t=f,f=y,y=t,t=g,g=v,v=t,S in bs&&G.attr("cursor",xs[S=bs[S]])),I.selection&&(P=I.selection),C&&(p=P[0][0],m=P[1][0]),_&&(g=P[0][1],v=P[1][1]),(P[0][0]!==p||P[0][1]!==g||P[1][0]!==m||P[1][1]!==v)&&(I.selection=[[p,g],[m,v]],i.call(M),H.brush())}function a(){if(tn(),t.event.touches){if(t.event.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500),B.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Ze(t.event.view,b),W.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),G.attr("cursor",xs.overlay),I.selection&&(P=I.selection),an(P)&&(I.selection=null,i.call(M)),H.end()}function s(){switch(t.event.keyCode){case 16:R=k&&N;break;case 18:A===ds&&(k&&(d=m-x*k,c=p+x*k),N&&(y=v-w*N,f=g+w*N),A=ms,o());break;case 32:(A===ds||A===ms)&&(0>k?d=m-x:k>0&&(c=p-x),0>N?y=v-w:N>0&&(f=g-w),A=gs,G.attr("cursor",xs.selection),o());break;default:return}ps()}function u(){switch(t.event.keyCode){case 16:R&&(C=_=R=!1,o());break;case 18:A===ms&&(0>k?d=m:k>0&&(c=p),0>N?y=v:N>0&&(f=g),A=ds,o());break;case 32:A===gs&&(t.event.altKey?(k&&(d=m-x*k,c=p+x*k),N&&(y=v-w*N,f=g+w*N),A=ms):(0>k?d=m:k>0&&(c=p),0>N?y=v:N>0&&(f=g),A=ds),G.attr("cursor",xs[S]),o());break;default:return}ps()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return ps()}else if(l)return;if(h.apply(this,arguments)){var c,p,f,g,d,m,y,v,x,w,b,C,_,M=this,S=t.event.target.__data__.type,A="selection"===(t.event.metaKey?S="overlay":S)?fs:t.event.altKey?ms:ds,k=e===vs?null:Cs[S],N=e===ys?null:_s[S],I=on(M),T=I.extent,P=I.selection,L=T[0][0],D=T[0][1],F=T[1][0],E=T[1][1],R=k&&N&&t.event.shiftKey,O=$i(M),j=O,H=r(M,arguments).beforestart();"overlay"===S?I.selection=P=[[c=e===vs?L:O[0],f=e===ys?D:O[1]],[d=e===vs?F:c,y=e===ys?E:f]]:(c=P[0][0],f=P[0][1],d=P[1][0],y=P[1][1]),p=c,g=f,m=d,v=y;var B=Lr(M).attr("pointer-events","none"),G=B.selectAll(".overlay").attr("cursor",xs[S]);if(t.event.touches)B.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",a,!0);else{var W=Lr(t.event.view).on("keydown.brush",s,!0).on("keyup.brush",u,!0).on("mousemove.brush",n,!0).on("mouseup.brush",a,!0);ss(t.event.view)}tn(),io(M),i.call(M),H.start()}}function s(){var t=this.__brush||{selection:null};return t.extent=c.apply(this,arguments),t.dim=e,t}var l,c=rn,h=nn,p=$(n,"start","brush","end"),f=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){r(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){r(this,arguments).end()}).tween("brush",function(){function t(t){a.selection=1===t&&an(l)?null:c(t),i.call(o),s.brush()}var o=this,a=o.__brush,s=r(o,arguments),u=a.selection,l=e.input("function"==typeof n?n.apply(this,arguments):n,a.extent),c=Ko(u,l);return u&&l?t:t(1)}):t.each(function(){var t=this,o=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,o):n,a.extent),u=r(t,o).beforestart();io(t),a.selection=null==s||an(s)?null:s,i.call(t),u.start().brush().end()})},o.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){u(new hs(n,t,e.output(this.state.selection)),p.apply,p,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(c="function"==typeof t?t:cs([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):c},n.filter=function(t){return arguments.length?(h="function"==typeof t?t:cs(!!t),n):h},n.handleSize=function(t){return arguments.length?(f=+t,n):f},n.on=function(){var t=p.on.apply(p,arguments);return t===p?n:t},n}function ln(t,e,n){this.target=t,this.type=e,this.transform=n}function cn(t,e,n){this.k=t,this.x=e,this.y=n}function hn(){t.event.stopImmediatePropagation()}function pn(){return!t.event.button}function fn(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function gn(){return this.__zoom||Ss}function dn(t){return function(e,n){return Ns(t(e),n)}}function mn(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=Fs?r*=10:o>=Es?r*=5:o>=Rs&&(r*=2),t>e?-r:r}function yn(){}function vn(t,e){var n=new yn;if(t instanceof yn)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function xn(){}function wn(t,e){var n=new xn;if(t instanceof xn)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function bn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Xs(e)}function Cn(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return e>=t?0:t>=n?1:i(t)}}}function _n(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return 0>=t?e:t>=1?n:i(t)}}}function Mn(t,e,n,i){var r=t[0],o=t[1],a=e[0],s=e[1];return r>o?(r=n(o,r),a=i(s,a)):(r=n(r,o),a=i(a,s)),function(t){return a(r(t))}}function Sn(t,e,n,i){var r=Math.min(t.length,e.length)-1,o=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)o[s]=n(t[s],t[s+1]),a[s]=i(e[s],e[s+1]);return function(e){var n=Ps(t,e,1,r)-1;return a[n](o[n](e))}}function An(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function kn(t,e){function n(){return r=Math.min(s.length,u.length)>2?Sn:Mn,o=a=null,i}function i(e){return(o||(o=r(s,u,c?Cn(t):t,l)))(+e)}var r,o,a,s=Vs,u=Vs,l=Ko,c=!1;return i.invert=function(t){return(a||(a=r(u,s,bn,c?_n(e):e)))(+t)},i.domain=function(t){return arguments.length?(s=Ws.call(t,Ys),n()):s.slice()},i.range=function(t){return arguments.length?(u=zs.call(t),n()):u.slice()},i.rangeRound=function(t){return u=zs.call(t),l=Jo,n()},i.clamp=function(t){return arguments.length?(c=!!t,n()):c},i.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function Nn(t){if(!(e=tu.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):Js[c]||(c=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function In(t){return t}function Tn(e){return nu=ru(e),t.format=nu.format,t.formatPrefix=nu.formatPrefix,nu}function Pn(t){var e=t.domain;return t.ticks=function(t){var n=e();return Os(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return uu(e(),t,n)},t.nice=function(n){var i=e(),r=i.length-1,o=null==n?10:n,a=i[0],s=i[r],u=mn(a,s,o);return u&&(u=mn(Math.floor(a/u)*u,Math.ceil(s/u)*u,o),i[0]=Math.floor(a/u)*u,i[r]=Math.ceil(s/u)*u,e(i)),t},t}function Ln(){var t=kn(bn,Uo);return t.copy=function(){return An(t,Ln())},Pn(t)}function Dn(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return n-t>t-e?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(i>n&&o>0))return a;do a.push(new Date(+n));while(e(n,o),t(n),i>n);return a},r.filter=function(n){return Dn(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return lu.setTime(+e),cu.setTime(+i),t(lu),t(cu),Math.floor(n(lu,cu))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t===0}:function(e){return r.count(0,e)%t===0}):r:null}),r}function Fn(t){return Dn(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fu)/mu})}function En(t){return Dn(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/mu})}function Rn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function On(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jn(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Hn(t){function e(t,e){return function(n){var i,r,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=Tu[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var r=jn(1900),o=i(r,t,n+="",0);if(o!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var a="Z"in r?On(jn(r.y)).getUTCDay():e(jn(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(a+5)%7:r.w+7*r.U-(a+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,On(r)):e(r)}}function i(t,e,n,i){for(var r,o,a=0,s=e.length,u=n.length;s>a;){if(i>=u)return-1;if(r=e.charCodeAt(a++),37===r){if(r=e.charAt(a++),o=W[r in Tu?e.charAt(a++):r],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function r(t,e,n){var i=T.exec(e.slice(n));return i?(t.p=P[i[0].toLowerCase()],n+i[0].length):-1}function o(t,e,n){var i=F.exec(e.slice(n));return i?(t.w=E[i[0].toLowerCase()],n+i[0].length):-1}function a(t,e,n){var i=L.exec(e.slice(n));return i?(t.w=D[i[0].toLowerCase()],n+i[0].length):-1}function s(t,e,n){var i=j.exec(e.slice(n));return i?(t.m=H[i[0].toLowerCase()],n+i[0].length):-1}function u(t,e,n){var i=R.exec(e.slice(n));return i?(t.m=O[i[0].toLowerCase()],n+i[0].length):-1}function l(t,e,n){return i(t,C,e,n)}function c(t,e,n){return i(t,_,e,n)}function h(t,e,n){return i(t,M,e,n)}function p(t){return k[t.getDay()]}function f(t){return A[t.getDay()]}function g(t){return I[t.getMonth()]}function d(t){return N[t.getMonth()]}function m(t){return S[+(t.getHours()>=12)]}function y(t){return k[t.getUTCDay()]}function v(t){return A[t.getUTCDay()]}function x(t){return I[t.getUTCMonth()]}function w(t){return N[t.getUTCMonth()]}function b(t){return S[+(t.getUTCHours()>=12)]}var C=t.dateTime,_=t.date,M=t.time,S=t.periods,A=t.days,k=t.shortDays,N=t.months,I=t.shortMonths,T=Wn(S),P=zn(S),L=Wn(A),D=zn(A),F=Wn(k),E=zn(k),R=Wn(N),O=zn(N),j=Wn(I),H=zn(I),B={
a:p,A:f,b:g,B:d,c:null,d:ri,e:ri,H:oi,I:ai,j:si,L:ui,m:li,M:ci,p:m,S:hi,U:pi,w:fi,W:gi,x:null,X:null,y:di,Y:mi,Z:yi,"%":Li},G={a:y,A:v,b:x,B:w,c:null,d:vi,e:vi,H:xi,I:wi,j:bi,L:Ci,m:_i,M:Mi,p:b,S:Si,U:Ai,w:ki,W:Ni,x:null,X:null,y:Ii,Y:Ti,Z:Pi,"%":Li},W={a:o,A:a,b:s,B:u,c:l,d:Qn,e:Qn,H:Jn,I:Jn,j:Kn,L:ni,m:$n,M:ti,p:r,S:ei,U:Yn,w:Xn,W:Vn,x:c,X:h,y:qn,Y:Un,Z:Zn,"%":ii};return B.x=e(_,B),B.X=e(M,B),B.c=e(C,B),G.x=e(_,G),G.X=e(M,G),G.c=e(C,G),{format:function(t){var n=e(t+="",B);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",Rn);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",G);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,On);return e.toString=function(){return t},e}}}function Bn(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function Gn(t){return t.replace(Du,"\\$&")}function Wn(t){return new RegExp("^(?:"+t.map(Gn).join("|")+")","i")}function zn(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Xn(t,e,n){var i=Pu.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Yn(t,e,n){var i=Pu.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Vn(t,e,n){var i=Pu.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Un(t,e,n){var i=Pu.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function qn(t,e,n){var i=Pu.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Zn(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function $n(t,e,n){var i=Pu.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Qn(t,e,n){var i=Pu.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Kn(t,e,n){var i=Pu.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Jn(t,e,n){var i=Pu.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ti(t,e,n){var i=Pu.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ei(t,e,n){var i=Pu.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function ni(t,e,n){var i=Pu.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ii(t,e,n){var i=Lu.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ri(t,e){return Bn(t.getDate(),e,2)}function oi(t,e){return Bn(t.getHours(),e,2)}function ai(t,e){return Bn(t.getHours()%12||12,e,2)}function si(t,e){return Bn(1+yu.count(wu(t),t),e,3)}function ui(t,e){return Bn(t.getMilliseconds(),e,3)}function li(t,e){return Bn(t.getMonth()+1,e,2)}function ci(t,e){return Bn(t.getMinutes(),e,2)}function hi(t,e){return Bn(t.getSeconds(),e,2)}function pi(t,e){return Bn(vu.count(wu(t),t),e,2)}function fi(t){return t.getDay()}function gi(t,e){return Bn(xu.count(wu(t),t),e,2)}function di(t,e){return Bn(t.getFullYear()%100,e,2)}function mi(t,e){return Bn(t.getFullYear()%1e4,e,4)}function yi(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Bn(e/60|0,"0",2)+Bn(e%60,"0",2)}function vi(t,e){return Bn(t.getUTCDate(),e,2)}function xi(t,e){return Bn(t.getUTCHours(),e,2)}function wi(t,e){return Bn(t.getUTCHours()%12||12,e,2)}function bi(t,e){return Bn(1+bu.count(Mu(t),t),e,3)}function Ci(t,e){return Bn(t.getUTCMilliseconds(),e,3)}function _i(t,e){return Bn(t.getUTCMonth()+1,e,2)}function Mi(t,e){return Bn(t.getUTCMinutes(),e,2)}function Si(t,e){return Bn(t.getUTCSeconds(),e,2)}function Ai(t,e){return Bn(Cu.count(Mu(t),t),e,2)}function ki(t){return t.getUTCDay()}function Ni(t,e){return Bn(_u.count(Mu(t),t),e,2)}function Ii(t,e){return Bn(t.getUTCFullYear()%100,e,2)}function Ti(t,e){return Bn(t.getUTCFullYear()%1e4,e,4)}function Pi(){return"+0000"}function Li(){return"%"}function Di(t){return Su=Hn(t),Au=Su.format,ku=Su.parse,Nu=Su.utcFormat,Iu=Su.utcParse,Su}function Fi(t){return t.toISOString()}function Ei(t){var e=new Date(t);return isNaN(e)?null:e}function Ri(t){return this.config=ju,this.attr("selection",t),this}var Oi="http://www.w3.org/1999/xhtml",ji={svg:"http://www.w3.org/2000/svg",xhtml:Oi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hi=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ji.hasOwnProperty(e)?{space:ji[e],local:t}:t},Bi=function(t){var i=Hi(t);return(i.local?n:e)(i)},Gi=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Wi=document.documentElement;if(!Wi.matches){var zi=Wi.webkitMatchesSelector||Wi.msMatchesSelector||Wi.mozMatchesSelector||Wi.oMatchesSelector;Gi=function(t){return function(){return zi.call(this,t)}}}}var Xi=Gi,Yi={};if(t.event=null,"undefined"!=typeof document){var Vi=document.documentElement;"onmouseenter"in Vi||(Yi={mouseenter:"mouseover",mouseleave:"mouseout"})}var Ui=function(t,e,n){var i,r,u=o(t+""),l=u.length;{if(!(arguments.length<2)){for(c=e?s:a,null==n&&(n=!1),i=0;l>i;++i)this.each(c(u[i],e,n));return this}var c=this.node().__on;if(c)for(var h,p=0,f=c.length;f>p;++p)for(i=0,h=c[p];l>i;++i)if((r=u[i]).type===h.type&&r.name===h.name)return h.value}},qi=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},Zi=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},$i=function(t){var e=qi();return e.changedTouches&&(e=e.changedTouches[0]),Zi(t,e)},Qi=function(t){return null==t?l:function(){return this.querySelector(t)}},Ki=function(t){"function"!=typeof t&&(t=Qi(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a,s=e[r],u=s.length,l=i[r]=new Array(u),c=0;u>c;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new q(i,this._parents)},Ji=function(t){return null==t?c:function(){return this.querySelectorAll(t)}},tr=function(t){"function"!=typeof t&&(t=Ji(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;n>o;++o)for(var a,s=e[o],u=s.length,l=0;u>l;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),r.push(a));return new q(i,r)},er=function(t){"function"!=typeof t&&(t=Xi(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;s>l;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new q(i,this._parents)},nr=function(t){return new Array(t.length)},ir=function(){return new q(this._enter||this._groups.map(nr),this._parents)};h.prototype={constructor:h,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var rr=function(t){return function(){return t}},or="$",ar=function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n=e?f:p,i=this._parents,r=this._groups;"function"!=typeof t&&(t=rr(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;o>l;++l){var c=i[l],h=r[l],g=h.length,d=t.call(c,c&&c.__data__,l,i),m=d.length,y=s[l]=new Array(m),v=a[l]=new Array(m),x=u[l]=new Array(g);n(c,h,y,v,x,d,e);for(var w,b,C=0,_=0;m>C;++C)if(w=y[C]){for(C>=_&&(_=C+1);!(b=v[_])&&++_<m;);w._next=b||null}}return a=new q(a,i),a._enter=s,a._exit=u,a},sr=function(){return new q(this._exit||this._groups.map(nr),this._parents)},ur=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;o>s;++s)for(var u,l=e[s],c=n[s],h=l.length,p=a[s]=new Array(h),f=0;h>f;++f)(u=l[f]||c[f])&&(p[f]=u);for(;i>s;++s)a[s]=e[s];return new q(a,this._parents)},lr=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},cr=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=g);for(var n=this._groups,i=n.length,r=new Array(i),o=0;i>o;++o){for(var a,s=n[o],u=s.length,l=r[o]=new Array(u),c=0;u>c;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new q(r,this._parents).order()},hr=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},pr=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},fr=function(){for(var t=this._groups,e=0,n=t.length;n>e;++e)for(var i=t[e],r=0,o=i.length;o>r;++r){var a=i[r];if(a)return a}return null},gr=function(){var t=0;return this.each(function(){++t}),t},dr=function(){return!this.node()},mr=function(t){for(var e=this._groups,n=0,i=e.length;i>n;++n)for(var r,o=e[n],a=0,s=o.length;s>a;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},yr=function(t,e){var n=Hi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?m:d:"function"==typeof e?n.local?w:x:n.local?v:y)(n,e))},vr=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},xr=function(t,e,n){var i;return arguments.length>1?this.each((null==e?b:"function"==typeof e?_:C)(t,e,null==n?"":n)):vr(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},wr=function(t,e){return arguments.length>1?this.each((null==e?M:"function"==typeof e?A:S)(t,e)):this.node()[t]};I.prototype={add:function(t){var e=this._names.indexOf(t);0>e&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var br=function(t,e){var n=k(t+"");if(arguments.length<2){for(var i=N(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?F:e?L:D)(n,e))},Cr=function(t){return arguments.length?this.each(null==t?E:("function"==typeof t?O:R)(t)):this.node().textContent},_r=function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?B:H)(t)):this.node().innerHTML},Mr=function(){return this.each(G)},Sr=function(){return this.each(W)},Ar=function(t){var e="function"==typeof t?t:Bi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},kr=function(t,e){var n="function"==typeof t?t:Bi(t),i=null==e?z:"function"==typeof e?e:Qi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},Nr=function(){return this.each(X)},Ir=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Tr=function(t,e){return this.each(("function"==typeof e?U:V)(t,e))},Pr=[null];q.prototype=Z.prototype={constructor:q,select:Ki,selectAll:tr,filter:er,data:ar,enter:ir,exit:sr,merge:ur,order:lr,sort:cr,call:hr,nodes:pr,node:fr,size:gr,empty:dr,each:mr,attr:yr,style:xr,property:wr,classed:br,text:Cr,html:_r,raise:Mr,lower:Sr,append:Ar,insert:kr,remove:Nr,datum:Ir,on:Ui,dispatch:Tr};var Lr=function(t){return"string"==typeof t?new q([[document.querySelector(t)]],[document.documentElement]):new q([[t]],Pr)},Dr=function(t,e,n){arguments.length<3&&(n=e,e=qi().changedTouches);for(var i,r=0,o=e?e.length:0;o>r;++r)if((i=e[r]).identifier===n)return Zi(t,i);return null},Fr={value:function(){}};Q.prototype=$.prototype={constructor:Q,on:function(t,e){var n,i=this._,r=K(t+"",i),o=-1,a=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=tt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=tt(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=J(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Q(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;n>o;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;n>o;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;o>r;++r)i[r].value.apply(e,n)}};var Er,Rr,Or=0,jr=0,Hr=0,Br=1e3,Gr=0,Wr=0,zr=0,Xr="object"==typeof performance&&performance.now?performance:Date,Yr="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};it.prototype=rt.prototype={constructor:it,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?et():+n)+(null==e?0:+e),this._next||Rr===this||(Rr?Rr._next=this:Er=this,Rr=this),this._call=t,this._time=n,lt()},stop:function(){this._call&&(this._call=null,this._time=1/0,lt())}};var Vr=function(t,e,n){var i=new it;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},Ur=$("start","end","interrupt"),qr=[],Zr=0,$r=1,Qr=2,Kr=3,Jr=4,to=5,eo=6,no=function(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};ft(t,n,{name:e,index:i,group:r,on:Ur,tween:qr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Zr})},io=function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state>Qr&&n.state<to,n.state=eo,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}},ro=function(t){return this.each(function(){io(this,t)})},oo=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},ao=.7,so=1/ao,uo="\\s*([+-]?\\d+)\\s*",lo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",co="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ho=/^#([0-9a-f]{3})$/,po=/^#([0-9a-f]{6})$/,fo=new RegExp("^rgb\\("+[uo,uo,uo]+"\\)$"),go=new RegExp("^rgb\\("+[co,co,co]+"\\)$"),mo=new RegExp("^rgba\\("+[uo,uo,uo,lo]+"\\)$"),yo=new RegExp("^rgba\\("+[co,co,co,lo]+"\\)$"),vo=new RegExp("^hsl\\("+[lo,co,co]+"\\)$"),xo=new RegExp("^hsla\\("+[lo,co,co,lo]+"\\)$"),wo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oo(dt,mt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),oo(bt,wt,gt(dt,{brighter:function(t){return t=null==t?so:Math.pow(so,t),new bt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ao:Math.pow(ao,t),new bt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),oo(St,Mt,gt(dt,{brighter:function(t){return t=null==t?so:Math.pow(so,t),new St(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ao:Math.pow(ao,t),new St(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(.5>n?n:1-n)*e,r=2*n-i;return new bt(At(t>=240?t-240:t+120,r,i),At(t,r,i),At(120>t?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var bo=Math.PI/180,Co=180/Math.PI,_o=18,Mo=.95047,So=1,Ao=1.08883,ko=4/29,No=6/29,Io=3*No*No,To=No*No*No;oo(It,Nt,gt(dt,{brighter:function(t){return new It(this.l+_o*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new It(this.l-_o*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=So*Pt(t),e=Mo*Pt(e),n=Ao*Pt(n),new bt(Lt(3.2404542*e-1.5371385*t-.4985314*n),Lt(-.969266*e+1.8760108*t+.041556*n),Lt(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),oo(Rt,Et,gt(dt,{brighter:function(t){return new Rt(this.h,this.c,this.l+_o*(null==t?1:t),this.opacity)},darker:function(t){return new Rt(this.h,this.c,this.l-_o*(null==t?1:t),this.opacity)},rgb:function(){return kt(this).rgb()}}));var Po=-.14861,Lo=1.78277,Do=-.29227,Fo=-.90649,Eo=1.97294,Ro=Eo*Fo,Oo=Eo*Lo,jo=Lo*Do-Fo*Po;oo(Ht,jt,gt(dt,{brighter:function(t){return t=null==t?so:Math.pow(so,t),new Ht(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ao:Math.pow(ao,t),new Ht(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*bo,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new bt(255*(e+n*(Po*i+Lo*r)),255*(e+n*(Do*i+Fo*r)),255*(e+n*(Eo*i)),this.opacity)}}));var Ho,Bo,Go,Wo,zo=function(t){return function(){return t}},Xo=function Wu(t){function e(t,e){var i=n((t=wt(t)).r,(e=wt(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=Xt(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}var n=zt(t);return e.gamma=Wu,e}(1),Yo=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),a=new Array(i);for(n=0;r>n;++n)o[n]=Ko(t[n],e[n]);for(;i>n;++n)a[n]=e[n];return function(t){for(n=0;r>n;++n)a[n]=o[n](t);return a}},Vo=function(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}},Uo=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},qo=function(t,e){var n,i={},r={};(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={});for(n in e)n in t?i[n]=Ko(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},Zo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$o=new RegExp(Zo.source,"g"),Qo=function(t,e){var n,i,r,o=Zo.lastIndex=$o.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Zo.exec(t))&&(i=$o.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Uo(n,i)})),o=$o.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?Vt(u[0].x):Yt(e):(e=u.length,function(t){for(var n,i=0;e>i;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})},Ko=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?zo(e):("number"===i?Uo:"string"===i?(n=mt(e))?(e=n,Xo):Qo:e instanceof mt?Xo:e instanceof Date?Vo:Array.isArray(e)?Yo:isNaN(e)?qo:Uo)(t,e)},Jo=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},ta=180/Math.PI,ea={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},na=function(t,e,n,i,r,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),e*n>t*i&&(t=-t,e=-e,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*ta,skewX:Math.atan(u)*ta,scaleX:a,scaleY:s}},ia=Zt(Ut,"px, ","px)","deg)"),ra=Zt(qt,", ",")",")"),oa=Math.SQRT2,aa=2,sa=4,ua=1e-12,la=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-r,h=u-o,p=c*c+h*h;if(ua>p)i=Math.log(l/a)/oa,n=function(t){return[r+t*c,o+t*h,a*Math.exp(oa*t*i)]};else{var f=Math.sqrt(p),g=(l*l-a*a+sa*p)/(2*a*aa*f),d=(l*l-a*a-sa*p)/(2*l*aa*f),m=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(d*d+1)-d);i=(y-m)/oa,n=function(t){var e=t*i,n=$t(m),s=a/(aa*f)*(n*Kt(oa*e+m)-Qt(m));return[r+s*c,o+s*h,a*n/$t(oa*e+m)]}}return n.duration=1e3*i,n};Jt(Wt);var ca=Jt(Xt),ha=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=pt(this.node(),n).tween,o=0,a=r.length;a>o;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?te:ee)(n,t,e))},pa=function(t,e){var n;return("number"==typeof e?Uo:e instanceof mt?Xo:(n=mt(e))?(e=n,Xo):Qo)(t,e)},fa=function(t,e){var n=Hi(t),i="transform"===n?ra:pa;return this.attrTween(t,"function"==typeof e?(n.local?ue:se)(n,i,ne(this,"attr."+t,e)):null==e?(n.local?re:ie)(n):(n.local?ae:oe)(n,i,e))},ga=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Hi(t);return this.tween(n,(i.local?le:ce)(i,e))},da=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?he:pe)(e,t)):pt(this.node(),e).delay},ma=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?fe:ge)(e,t)):pt(this.node(),e).duration},ya=function(t){var e=this._id;return arguments.length?this.each(de(e,t)):pt(this.node(),e).ease},va=function(t){"function"!=typeof t&&(t=Xi(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;s>l;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Ae(i,this._parents,this._name,this._id)},xa=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;o>s;++s)for(var u,l=e[s],c=n[s],h=l.length,p=a[s]=new Array(h),f=0;h>f;++f)(u=l[f]||c[f])&&(p[f]=u);for(;i>s;++s)a[s]=e[s];return new Ae(a,this._parents,this._name,this._id)},wa=function(t,e){var n=this._id;return arguments.length<2?pt(this.node(),n).on.on(t):this.each(ye(n,t,e))},ba=function(){return this.on("end.remove",ve(this._id))},Ca=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Qi(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;r>a;++a)for(var s,u,l=i[a],c=l.length,h=o[a]=new Array(c),p=0;c>p;++p)(s=l[p])&&(u=t.call(s,s.__data__,p,l))&&("__data__"in s&&(u.__data__=s.__data__),h[p]=u,no(h[p],e,n,p,h,pt(s,n)));return new Ae(o,this._parents,e,n)},_a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ji(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;r>s;++s)for(var u,l=i[s],c=l.length,h=0;c>h;++h)if(u=l[h]){for(var p,f=t.call(u,u.__data__,h,l),g=pt(u,n),d=0,m=f.length;m>d;++d)(p=f[d])&&no(p,e,n,d,f,g);o.push(f),a.push(u)}return new Ae(o,a,e,n)},Ma=Z.prototype.constructor,Sa=function(){return new Ma(this._groups,this._parents)},Aa=function(t,e,n){var i="transform"==(t+="")?ia:pa;return null==e?this.styleTween(t,xe(t,i)).on("end.style."+t,we(t)):this.styleTween(t,"function"==typeof e?Ce(t,i,ne(this,"style."+t,e)):be(t,i,e),n)},ka=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,_e(t,e,null==n?"":n))},Na=function(t){return this.tween("text","function"==typeof t?Se(ne(this,"text",t)):Me(null==t?"":t+""))},Ia=function(){for(var t=this._name,e=this._id,n=Ne(),i=this._groups,r=i.length,o=0;r>o;++o)for(var a,s=i[o],u=s.length,l=0;u>l;++l)if(a=s[l]){var c=pt(a,e);no(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ae(i,this._parents,t,n)},Ta=0,Pa=Z.prototype;Ae.prototype=ke.prototype={constructor:Ae,select:Ca,selectAll:_a,filter:va,merge:xa,selection:Sa,transition:Ia,call:Pa.call,nodes:Pa.nodes,node:Pa.node,size:Pa.size,empty:Pa.empty,each:Pa.each,on:wa,attr:fa,attrTween:ga,style:Aa,styleTween:ka,text:Na,remove:ba,tween:ha,delay:da,duration:ma,ease:ya};var La=3,Da=function zu(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=zu,e}(La),Fa=function Xu(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=Xu,e}(La),Ea=function Yu(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=Yu,e}(La),Ra=Math.PI,Oa=Ra/2,ja=4/11,Ha=6/11,Ba=8/11,Ga=.75,Wa=9/11,za=10/11,Xa=.9375,Ya=21/22,Va=63/64,Ua=1/ja/ja,qa=1.70158,Za=function Vu(t){function e(e){return e*e*((t+1)*e-t)}return t=+t,e.overshoot=Vu,e}(qa),$a=function Uu(t){function e(e){return--e*e*((t+1)*e+t)+1}return t=+t,e.overshoot=Uu,e}(qa),Qa=function qu(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=qu,e}(qa),Ka=2*Math.PI,Ja=1,ts=.3,es=function Zu(t,e){function n(n){return t*Math.pow(2,10*--n)*Math.sin((i-n)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=Ka);return n.amplitude=function(t){return Zu(t,e*Ka)},n.period=function(e){return Zu(t,e)},n}(Ja,ts),ns=function $u(t,e){function n(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+i)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=Ka);return n.amplitude=function(t){return $u(t,e*Ka)},n.period=function(e){return $u(t,e)},n}(Ja,ts),is=function Qu(t,e){function n(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((i-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((i+n)/e))/2}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=Ka);return n.amplitude=function(t){return Qu(t,e*Ka)},n.period=function(e){return Qu(t,e)},n}(Ja,ts),rs={time:null,delay:0,duration:250,ease:Fe},os=function(t){var e,n;t instanceof Ae?(e=t._id,t=t._name):(e=Ne(),(n=rs).time=et(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;r>o;++o)for(var a,s=i[o],u=s.length,l=0;u>l;++l)(a=s[l])&&no(a,t,e,l,s,n||Ue(a,e));return new Ae(i,this._parents,t,e)};Z.prototype.interrupt=ro,Z.prototype.transition=os;var as=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},ss=function(t){var e=t.document.documentElement,n=Lr(t).on("dragstart.drag",as,!0);"onselectstart"in e?n.on("selectstart.drag",as,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},us=function(t){return function(){return t}};$e.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ls=function(){function e(t){t.on("mousedown.drag",n).on("touchstart.drag",o).on("touchmove.drag",a).on("touchend.drag touchcancel.drag",s).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!h&&p.apply(this,arguments)){var e=l("mouse",f.apply(this,arguments),$i,this,arguments);e&&(Lr(t.event.view).on("mousemove.drag",i,!0).on("mouseup.drag",r,!0),ss(t.event.view),qe(),c=!1,e("start"))}}function i(){as(),c=!0,d.mouse("drag")}function r(){Lr(t.event.view).on("mousemove.drag mouseup.drag",null),Ze(t.event.view,c),as(),d.mouse("end")}function o(){if(p.apply(this,arguments)){var e,n,i=t.event.changedTouches,r=f.apply(this,arguments),o=i.length;for(e=0;o>e;++e)(n=l(i[e].identifier,r,Dr,this,arguments))&&(qe(),n("start"))}}function a(){var e,n,i=t.event.changedTouches,r=i.length;for(e=0;r>e;++e)(n=d[i[e].identifier])&&(as(),n("drag"))}function s(){var e,n,i=t.event.changedTouches,r=i.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),e=0;r>e;++e)(n=d[i[e].identifier])&&(qe(),n("end"))}function l(n,i,r,o,a){var s,l,c,h=r(i,n),p=m.copy();if(u(new $e(e,"beforestart",s,n,y,h[0],h[1],0,0,p),function(){return null==(t.event.subject=s=g.apply(o,a))?!1:(l=s.x-h[0]||0,c=s.y-h[1]||0,!0)}))return function f(t){var g,m=h;switch(t){case"start":d[n]=f,g=y++;break;case"end":delete d[n],--y;case"drag":h=r(i,n),g=y}u(new $e(e,t,s,n,g,h[0]+l,h[1]+c,h[0]-m[0],h[1]-m[1],p),p.apply,p,[t,o,a])}}var c,h,p=Qe,f=Ke,g=Je,d={},m=$("start","drag","end"),y=0;return e.filter=function(t){return arguments.length?(p="function"==typeof t?t:us(!!t),e):p},e.container=function(t){return arguments.length?(f="function"==typeof t?t:us(t),e):f},e.subject=function(t){return arguments.length?(g="function"==typeof t?t:us(t),e):g},e.on=function(){var t=m.on.apply(m,arguments);return t===m?e:t},e},cs=function(t){return function(){return t}},hs=function(t,e,n){this.target=t,this.type=e,this.selection=n},ps=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},fs={name:"drag"},gs={name:"space"},ds={name:"handle"},ms={name:"center"},ys={name:"x",handles:["e","w"].map(en),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},vs={name:"y",handles:["n","s"].map(en),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},xs=({name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(en),input:function(t){return t},output:function(t){return t}},{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),ws={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},bs={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Cs={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},_s={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Ms=function(t){return function(){return t}};cn.prototype={constructor:cn,scale:function(t){return 1===t?this:new cn(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new cn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ss=new cn(1,0,0),As=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},ks=function(){function e(t){t.on("wheel.zoom",c).on("mousedown.zoom",h).on("dblclick.zoom",p).on("touchstart.zoom",f).on("touchmove.zoom",g).on("touchend.zoom touchcancel.zoom",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",gn);
}function n(t,e){return e=Math.max(w,Math.min(b,e)),e===t.k?t:new cn(e,t.x,t.y)}function i(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new cn(t.k,i,r)}function r(t,e){var n=t.invertX(e[0][0])-C,i=t.invertX(e[1][0])-_,r=t.invertY(e[0][1])-M,o=t.invertY(e[1][1])-S;return t.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o))}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function a(t,e,n){t.on("start.zoom",function(){s(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){s(this,arguments).end()}).tween("zoom",function(){var t=this,i=arguments,r=s(t,i),a=x.apply(t,i),u=n||o(a),l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,h="function"==typeof e?e.apply(t,i):e,p=k(c.invert(u).concat(l/c.k),h.invert(u).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=p(t),n=l/e[2];t=new cn(n,u[0]-e[0]*n,u[1]-e[1]*n)}r.zoom(null,t)}})}function s(t,e){for(var n,i=0,r=N.length;r>i;++i)if((n=N[i]).that===t)return n;return new l(t,e)}function l(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=x.apply(t,e)}function c(){function e(){o.wheel=null,o.end()}if(v.apply(this,arguments)){var o=s(this,arguments),a=this.__zoom,u=Math.max(w,Math.min(b,a.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),l=$i(this);if(o.wheel)(o.mouse[0][0]!==l[0]||o.mouse[0][1]!==l[1])&&(o.mouse[1]=a.invert(o.mouse[0]=l)),clearTimeout(o.wheel);else{if(a.k===u)return;o.mouse=[l,a.invert(l)],io(this),o.start()}As(),o.wheel=setTimeout(e,P),o.zoom("mouse",r(i(n(a,u),o.mouse[0],o.mouse[1]),o.extent))}}function h(){function e(){As(),o.moved=!0,o.zoom("mouse",r(i(o.that.__zoom,o.mouse[0]=$i(o.that),o.mouse[1]),o.extent))}function n(){a.on("mousemove.zoom mouseup.zoom",null),Ze(t.event.view,o.moved),As(),o.end()}if(!y&&v.apply(this,arguments)){var o=s(this,arguments),a=Lr(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),u=$i(this);ss(t.event.view),hn(),o.mouse=[u,this.__zoom.invert(u)],io(this),o.start()}}function p(){if(v.apply(this,arguments)){var o=this.__zoom,s=$i(this),u=o.invert(s),l=o.k*(t.event.shiftKey?.5:2),c=r(i(n(o,l),s,u),x.apply(this,arguments));As(),A>0?Lr(this).transition().duration(A).call(a,c,s):Lr(this).call(e.transform,c)}}function f(){if(v.apply(this,arguments)){var e,n,i,r,o=s(this,arguments),a=t.event.changedTouches,u=a.length;for(hn(),n=0;u>n;++n)i=a[n],r=Dr(this,a,i.identifier),r=[r,this.__zoom.invert(r),i.identifier],o.touch0?o.touch1||(o.touch1=r):(o.touch0=r,e=!0);return m&&(m=clearTimeout(m),!o.touch1)?(o.end(),r=Lr(this).on("dblclick.zoom"),void(r&&r.apply(this,arguments))):void(e&&(m=setTimeout(function(){m=null},T),io(this),o.start()))}}function g(){var e,o,a,u,l=s(this,arguments),c=t.event.changedTouches,h=c.length;for(As(),m&&(m=clearTimeout(m)),e=0;h>e;++e)o=c[e],a=Dr(this,c,o.identifier),l.touch0&&l.touch0[2]===o.identifier?l.touch0[0]=a:l.touch1&&l.touch1[2]===o.identifier&&(l.touch1[0]=a);if(o=l.that.__zoom,l.touch1){var p=l.touch0[0],f=l.touch0[1],g=l.touch1[0],d=l.touch1[1],y=(y=g[0]-p[0])*y+(y=g[1]-p[1])*y,v=(v=d[0]-f[0])*v+(v=d[1]-f[1])*v;o=n(o,Math.sqrt(y/v)),a=[(p[0]+g[0])/2,(p[1]+g[1])/2],u=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!l.touch0)return;a=l.touch0[0],u=l.touch0[1]}l.zoom("touch",r(i(o,a,u),l.extent))}function d(){var e,n,i=s(this,arguments),r=t.event.changedTouches,o=r.length;for(hn(),y&&clearTimeout(y),y=setTimeout(function(){y=null},T),e=0;o>e;++e)n=r[e],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0||i.end()}var m,y,v=pn,x=fn,w=0,b=1/0,C=-b,_=b,M=C,S=_,A=250,k=la,N=[],I=$("start","zoom","end"),T=500,P=150;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",gn),t!==n?a(t,e):n.interrupt().each(function(){s(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e})},e.scaleTo=function(t,a){e.transform(t,function(){var t=x.apply(this,arguments),e=this.__zoom,s=o(t),u=e.invert(s),l="function"==typeof a?a.apply(this,arguments):a;return r(i(n(e,l),s,u),t)})},e.translateBy=function(t,n,i){e.transform(t,function(){return r(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),x.apply(this,arguments))})},l.prototype={start:function(){return 1===++this.active&&(this.index=N.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(N.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){u(new ln(e,t,this.that.__zoom),I.apply,I,[t,this.that,this.args])}},e.filter=function(t){return arguments.length?(v="function"==typeof t?t:Ms(!!t),e):v},e.extent=function(t){return arguments.length?(x="function"==typeof t?t:Ms([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):x},e.scaleExtent=function(t){return arguments.length?(w=+t[0],b=+t[1],e):[w,b]},e.translateExtent=function(t){return arguments.length?(C=+t[0][0],_=+t[1][0],M=+t[0][1],S=+t[1][1],e):[[C,M],[_,S]]},e.duration=function(t){return arguments.length?(A=+t,e):A},e.interpolate=function(t){return arguments.length?(k=t,e):k},e.on=function(){var t=I.on.apply(I,arguments);return t===I?e:t},e},Ns=function(t,e){return e>t?-1:t>e?1:t>=e?0:NaN},Is=function(t){return 1===t.length&&(t=dn(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}},Ts=Is(Ns),Ps=Ts.right,Ls=Array.prototype,Ds=(Ls.slice,Ls.map,function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):3>r?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}),Fs=Math.sqrt(50),Es=Math.sqrt(10),Rs=Math.sqrt(2),Os=function(t,e,n){var i=mn(t,e,n);return Ds(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)},js="$";yn.prototype=vn.prototype={constructor:yn,has:function(t){return js+t in this},get:function(t){return this[js+t]},set:function(t,e){return this[js+t]=e,this},remove:function(t){var e=js+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===js&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===js&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===js&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===js&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===js&&++t;return t},empty:function(){for(var t in this)if(t[0]===js)return!1;return!0},each:function(t){for(var e in this)e[0]===js&&t(this[e],e.slice(1),this)}};var Hs=vn.prototype;xn.prototype=wn.prototype={constructor:xn,has:Hs.has,add:function(t){return t+="",this[js+t]=t,this},remove:Hs.remove,clear:Hs.clear,values:Hs.keys,size:Hs.size,empty:Hs.empty,each:Hs.each};var Bs,Gs=Array.prototype,Ws=Gs.map,zs=Gs.slice,Xs=function(t){return function(){return t}},Ys=function(t){return+t},Vs=[0,1],Us=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},qs=function(t){return t=Us(Math.abs(t)),t?t[1]:NaN},Zs=function(t,e){return function(n,i){for(var r=n.length,o=[],a=0,s=t[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),o.push(n.substring(r-=s,r+s)),!((u+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}},$s=function(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;i>r;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},Qs=function(t,e){var n=Us(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Bs=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Us(t,Math.max(0,e+o-1))[0]},Ks=function(t,e){var n=Us(t,e);if(!n)return t+"";var i=n[0],r=n[1];return 0>r?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Js={"":$s,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ks(100*t,e)},r:Ks,s:Qs,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},tu=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,eu=function(t){return new Nn(t)};Nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var nu,iu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],ru=function(t){function e(t){function e(t){var e,r,u,v=g,x=d;if("c"===f)x=m(t)+x,t="";else{t=+t;var w=(0>t||0>1/t)&&(t*=-1,!0);if(t=m(t,p),w)for(e=-1,r=t.length,w=!1;++e<r;)if(u=t.charCodeAt(e),u>48&&58>u||"x"===f&&u>96&&103>u||"X"===f&&u>64&&71>u){w=!0;break}if(v=(w?"("===s?s:"-":"-"===s||"("===s?"":s)+v,x=x+("s"===f?iu[8+Bs/3]:"")+(w&&"("===s?")":""),y)for(e=-1,r=t.length;++e<r;)if(u=t.charCodeAt(e),48>u||u>57){x=(46===u?o+t.slice(e+1):t.slice(e))+x,t=t.slice(0,e);break}}h&&!l&&(t=i(t,1/0));var b=v.length+t.length+x.length,C=c>b?new Array(c-b+1).join(n):"";switch(h&&l&&(t=i(C+t,C.length?c-x.length:1/0),C=""),a){case"<":return v+t+x+C;case"=":return v+C+t+x;case"^":return C.slice(0,b=C.length>>1)+v+t+x+C.slice(b)}return C+v+t+x}t=eu(t);var n=t.fill,a=t.align,s=t.sign,u=t.symbol,l=t.zero,c=t.width,h=t.comma,p=t.precision,f=t.type,g="$"===u?r[0]:"#"===u&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",d="$"===u?r[1]:/[%p]/.test(f)?"%":"",m=Js[f],y=!f||/[defgprs%]/.test(f);return p=null==p?f?6:12:/[gprs]/.test(f)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),e.toString=function(){return t+""},e}function n(t,n){var i=e((t=eu(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(qs(n)/3))),o=Math.pow(10,-r),a=iu[8+r/3];return function(t){return i(o*t)+a}}var i=t.grouping&&t.thousands?Zs(t.grouping,t.thousands):In,r=t.currency,o=t.decimal;return{format:e,formatPrefix:n}};Tn({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ou=function(t){return Math.max(0,-qs(Math.abs(t)))},au=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(qs(e)/3)))-qs(Math.abs(t)))},su=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qs(e)-qs(t))+1},uu=function(e,n,i){var r,o=e[0],a=e[e.length-1],s=mn(o,a,null==n?10:n);switch(i=eu(null==i?",f":i),i.type){case"s":var u=Math.max(Math.abs(o),Math.abs(a));return null!=i.precision||isNaN(r=au(s,u))||(i.precision=r),t.formatPrefix(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=su(s,Math.max(Math.abs(o),Math.abs(a))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=ou(s))||(i.precision=r-2*("%"===i.type))}return t.format(i)},lu=new Date,cu=new Date,hu=Dn(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});hu.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Dn(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):hu:null};var pu=1e3,fu=6e4,gu=36e5,du=864e5,mu=6048e5,yu=(Dn(function(t){t.setTime(Math.floor(t/pu)*pu)},function(t,e){t.setTime(+t+e*pu)},function(t,e){return(e-t)/pu},function(t){return t.getUTCSeconds()}),Dn(function(t){t.setTime(Math.floor(t/fu)*fu)},function(t,e){t.setTime(+t+e*fu)},function(t,e){return(e-t)/fu},function(t){return t.getMinutes()}),Dn(function(t){var e=t.getTimezoneOffset()*fu%gu;0>e&&(e+=gu),t.setTime(Math.floor((+t-e)/gu)*gu+e)},function(t,e){t.setTime(+t+e*gu)},function(t,e){return(e-t)/gu},function(t){return t.getHours()}),Dn(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fu)/du},function(t){return t.getDate()-1})),vu=Fn(0),xu=Fn(1),wu=(Fn(2),Fn(3),Fn(4),Fn(5),Fn(6),Dn(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Dn(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));wu.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Dn(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var bu=(Dn(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*fu)},function(t,e){return(e-t)/fu},function(t){return t.getUTCMinutes()}),Dn(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*gu)},function(t,e){return(e-t)/gu},function(t){return t.getUTCHours()}),Dn(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/du},function(t){return t.getUTCDate()-1})),Cu=En(0),_u=En(1),Mu=(En(2),En(3),En(4),En(5),En(6),Dn(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Dn(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Mu.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Dn(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Su,Au,ku,Nu,Iu,Tu={"-":"",_:" ",0:"0"},Pu=/^\s*\d+/,Lu=/^%/,Du=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Di({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Fu="%Y-%m-%dT%H:%M:%S.%LZ",Eu=(Date.prototype.toISOString?Fi:Nu(Fu),+new Date("2000-01-01T00:00:00.000Z")?Ei:Iu(Fu),function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})});Eu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Eu("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Eu("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Eu("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ca(jt(300,.5,0),jt(-240,.5,1));var Ru,Ou=(ca(jt(-100,.75,.35),jt(80,1.5,.8)),ca(jt(260,.75,.35),jt(80,1.5,.8)),jt(),{mergeRecursive:function Ku(t,e){var n;for(n in e)t[n]instanceof Object?Ku(t[n],e[n]):t[n]=e[n]},isObject:function(t){return"object"==typeof t},clone:function(){return this.parentNode.appendChild(this.cloneNode(!0))},toPrecision:function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}}),ju={animate:250,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,width:600,height:14,orientation:"horizontal",range:!1,step:25,value:0,values:null,handle:{x:70,width:20},buttons:{width:14},bar:{margin:{left:5,right:5,top:0,bottom:0}},goti:{width:20,path:function(t,e){var n=t.attr("handle"),i=Math.min(t.attr("goti").width,8),r=n.x+e/2,o=t.attr("height"),a=o/2,s="";return this.style("visibility",i>e?"hidden":"visible"),s+="M"+r+","+(a-o/4)+"L"+r+","+(a+o/4),s+="M"+(r-i/2)+","+(a-o/4)+"L"+(r-i/2)+","+(a+o/4),s+="M"+(r+i/2)+","+(a-o/4)+"L"+(r+i/2)+","+(a+o/4)}},margin:{left:0,right:0,top:0,bottom:0},change:null,slide:null,start:null,stop:null},Hu=",",Bu=Ou.toPrecision;Ri.prototype.animate=function(t,e){},Ri.prototype.classes=function(){},Ri.prototype.disabled=function(){},Ri.prototype.max=function(){},Ri.prototype.min=function(){},Ri.prototype.value=function(){},Ri.prototype.margin=function(){},Ri.prototype.values=function(){},Ri.prototype.width=function(){},Ri.prototype.height=function(){},Ri.prototype.attr=function(t,e){return e===Ru?this.config[t]:(this.config[t]=e,this)},Ri.prototype.drawSelf=function(){function e(t,e,r){g=t;w.transition().duration(e?!1:p).tween("abc",function(){var t=+w.attr("width");return function(e){if(r){var o=1>e?t+(r-t)*e:r;a+o>d[1]&&(o=d[1]-a),w.attr("width",Bu(o,1))}else r=w.attr("width");var a=n(1!==e?c+e*(g-c):c=g);w.attr("x",Bu(i.attr("handle").x=a,1)),b.attr("d",i.attr("goti").path.call(b,i,Bu(r,1)))}})}function n(t){var e=w.attr("width")/2,n=m(Math.max(d[0]+e,Math.min(t,d[1]-e))-e);return n}var i=this,r=this.attr("selection"),o=this.attr("buttons"),a=this.attr("margin"),s=+this.attr("width")-a.left-a.right,u=this.attr("bar").margin,l=+this.attr("height"),c=0,h=[1],p=this.attr("animate"),l=this.attr("height"),f=this.attr("handle"),g=f.x+f.width/2,d=[a.left+o.width+u.left,s-o.width-u.right],m=Ln().domain(d).range(d),y=r.classed("slider",!0).attr("transform",this.attr("transform")),v=y.selectAll(".track").data(h),x=0;v.enter().append("rect").attr("class","track").select(Ou.clone).attr("class","track-inset").select(Ou.clone).attr("class","track-overlay").call(ls().on("start.interrupt",function(){y.interrupt()}).on("start drag",function(){var e=m.invert(t.event.x),n=i.attr("handle");if("start"===t.event.type){if(e>n.x&&e<n.x+n.width)return void(x=n.x+n.width/2-e);x=0}"start"===t.event.type&&(e<n.x||e>n.x+n.width)||i.emit("slide",e+x)})),y.selectAll(".track, .track-inset, .track-overlay").attr("x",m.range()[0]).attr("y",0).attr("width",m.range()[1]-m.range()[0]).attr("height",l),y.selectAll(".handle").data([1]).enter().insert("rect",".track-overlay").attr("class","handle");var w=y.selectAll(".handle").attr("width",f.width).attr("height",l).attr("x",o.width+u.left+a.left),b=y.selectAll(".goti");return b.data([1]).enter().insert("path",".track-overlay").classed("goti",!0).style("stroke","#000"),b=y.selectAll(".goti"),this.update=function(t,n,r){e((t+n)/2,r,n-t),i.attr("handle").width=n-t,i.emit("change")},e(g,!0),this},Ri.prototype.draw=function(){return this.drawSelf().drawButtons()},Ri.prototype.drawButtons=function(){var t=this,e=(t.graphics,this.attr("selection")),n=(t.buttonsStore||(t.buttonsStore=[]),this.attr("height")),i=this.attr("buttons").width,r=this.attr("width"),o=this.attr("margin"),a=o.left,s=function(t,e){return"translate("+t+Hu+e+")"};e.selectAll(".buttonGroup").data([1]).enter().append("g").classed("buttonGroup",!0).selectAll("g").data([0,1]).enter().append("g").attr("class",function(t,e){return e?"rightButton":"leftButton"}).on("click",function(e,n){var i=t.attr("handle"),r=i.x+(n?1:-1)*t.attr("step");t.emit("slide",r+i.width/2)});e.selectAll(".buttonGroup g").attr("transform",function(t,e){return e?s(r-o.right-i,0):s(2*a,0)}).each(function(t,e){var r=Lr(this),o=r.selectAll("rect").data([1]);o.enter().append("rect").classed("bg",!0).merge(o).attr("x",-a).attr("y",0).attr("width",i).attr("height",n).attr("r",1);var s=r.selectAll("path").data([1]);s.enter().append("path").classed("arrows",!0).merge(s).attr("d",function(){return"M"+((i-2*a)/2+(e?-1:1))+Hu+(n/2-3)+"L"+((i-2*a)/2+(e?-1:1))+Hu+(n/2+3)+"L"+((i-2*a)/2+(e?2:-2))+Hu+n/2+"Z"})});return this},Ri.prototype.selection=function(t){},Ri.prototype.destroy=function(){},Ri.prototype.disable=function(){},Ri.prototype.enable=function(){},Ri.prototype.option=function(){},Ri.prototype.change=function(){},Ri.prototype.create=function(){},Ri.prototype.slide=function(){},Ri.prototype.start=function(){},Ri.prototype.stop=function(){},Ri.prototype.emit=function(t,e){var n,i,r=this.getEvents(t)||[],o=this.attr("selection");for(n=0,i=r.length;i>n;n+=1)o.call(r[n],this,e);return this},Ri.prototype.getEvents=function(t){return this.eventObj&&this.eventObj[t]},Ri.prototype.on=function(t,e){var n=this.eventObj||(this.eventObj={});return n[t]||(n[t]=[]),n[t].push(e),this};var Gu=function(t,e){return"string"==typeof t&&(t=Lr(t)),new Ri(t,e)};t.transition=ke,t.select=Lr,t.drag=ls,t.brushX=sn,t.zoom=ks,t.zoomIdentity=Ss,t.scroller=Gu,t.easeQuad=Pe,t.easeQuadIn=Ie,t.easeQuadOut=Te,t.easeQuadInOut=Pe,t.easeCubic=Fe,t.easeCubicIn=Le,t.easeCubicOut=De,t.easeCubicInOut=Fe,t.easePoly=Ea,t.easePolyIn=Da,t.easePolyOut=Fa,t.easePolyInOut=Ea,t.easeSin=Oe,t.easeSinIn=Ee,t.easeSinOut=Re,t.easeSinInOut=Oe,t.easeExp=Be,t.easeExpIn=je,t.easeExpOut=He,t.easeExpInOut=Be,t.easeCircle=ze,t.easeCircleIn=Ge,t.easeCircleOut=We,t.easeCircleInOut=ze,t.easeBounce=Ye,t.easeBounceIn=Xe,t.easeBounceOut=Ye,t.easeBounceInOut=Ve,t.easeBack=Qa,t.easeBackIn=Za,t.easeBackOut=$a,t.easeBackInOut=Qa,t.easeElastic=ns,t.easeElasticIn=es,t.easeElasticOut=ns,t.easeElasticInOut=is,t.formatDefaultLocale=Tn,t.formatLocale=ru,t.formatSpecifier=eu,t.precisionFixed=ou,t.precisionPrefix=au,t.precisionRound=su,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===K&&e.documentElement.namespaceURI===K?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i(t,e,n){return t=r(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function r(t,e,n){return function(i){var r=st;st=i;try{t.call(this,this.__data__,e,n)}finally{st=r}}}function o(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function a(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;o>i;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function s(t,e,n){var o=at.hasOwnProperty(t.type)?i:r;return function(i,r,a){var s,u=this.__on,l=o(e,r,a);if(u)for(var c=0,h=u.length;h>c;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function u(){}function l(){return[]}function c(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function h(t,e,n,i,r,o){for(var a,s=0,u=e.length,l=o.length;l>s;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new c(t,o[s]);for(;u>s;++s)(a=e[s])&&(r[s]=a)}function p(t,e,n,i,r,o,a){var s,u,l,h={},p=e.length,f=o.length,g=new Array(p);for(s=0;p>s;++s)(u=e[s])&&(g[s]=l=vt+a.call(u,u.__data__,s,e),l in h?r[s]=u:h[l]=u);for(s=0;f>s;++s)l=vt+a.call(t,o[s],s,o),(u=h[l])?(i[s]=u,u.__data__=o[s],h[l]=null):n[s]=new c(t,o[s]);for(s=0;p>s;++s)(u=e[s])&&h[g[s]]===u&&(r[s]=u)}function f(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function g(t){return function(){this.removeAttribute(t)}}function d(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m(t,e){return function(){this.setAttribute(t,e)}}function y(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function w(t){return function(){this.style.removeProperty(t)}}function b(t,e,n){return function(){this.style.setProperty(t,e,n)}}function C(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function _(t){return function(){delete this[t]}}function M(t,e){return function(){this[t]=e}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function A(t){return t.trim().split(/^|\s+/)}function k(t){return t.classList||new N(t)}function N(t){this._node=t,this._names=A(t.getAttribute("class")||"")}function I(t,e){for(var n=k(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function T(t,e){for(var n=k(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function P(t){return function(){I(this,t)}}function L(t){return function(){T(this,t)}}function D(t,e){return function(){(e.apply(this,arguments)?I:T)(this,t)}}function F(){this.textContent=""}function E(t){return function(){this.textContent=t}}function R(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function O(){this.innerHTML=""}function j(t){return function(){this.innerHTML=t}}function H(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function B(){this.nextSibling&&this.parentNode.appendChild(this)}function G(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function W(){return null}function z(){var t=this.parentNode;t&&t.removeChild(this)}function X(t,e,n){var i=Pt(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Y(t,e){return function(){return X(this,t,e)}}function V(t,e){return function(){return X(this,t,e.apply(this,arguments))}}function U(t,e){this._groups=t,this._parents=e}function q(){return new U([[document.documentElement]],Xt)}function Z(t){return t&&t.__esModule?t["default"]:t}function $(t,e){return e={exports:{}},t(e,e.exports),e.exports}function Q(){this.config=te(),this.graphics={},this.measurement={}}var K="http://www.w3.org/1999/xhtml",J={svg:"http://www.w3.org/2000/svg",xhtml:K,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),J.hasOwnProperty(e)?{space:J[e],local:t}:t},et=function(t){var i=tt(t);return(i.local?n:e)(i)},nt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var it=document.documentElement;if(!it.matches){var rt=it.webkitMatchesSelector||it.msMatchesSelector||it.mozMatchesSelector||it.oMatchesSelector;nt=function(t){return function(){return rt.call(this,t)}}}}var ot=nt,at={},st=null;if("undefined"!=typeof document){var ut=document.documentElement;"onmouseenter"in ut||(at={mouseenter:"mouseover",mouseleave:"mouseout"})}var lt=function(t,e,n){var i,r,u=o(t+""),l=u.length;{if(!(arguments.length<2)){for(c=e?s:a,null==n&&(n=!1),i=0;l>i;++i)this.each(c(u[i],e,n));return this}var c=this.node().__on;if(c)for(var h,p=0,f=c.length;f>p;++p)for(i=0,h=c[p];l>i;++i)if((r=u[i]).type===h.type&&r.name===h.name)return h.value}},ct=function(t){return null==t?u:function(){return this.querySelector(t)}},ht=function(t){"function"!=typeof t&&(t=ct(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a,s=e[r],u=s.length,l=i[r]=new Array(u),c=0;u>c;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new U(i,this._parents)},pt=function(t){return null==t?l:function(){return this.querySelectorAll(t)}},ft=function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;n>o;++o)for(var a,s=e[o],u=s.length,l=0;u>l;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),r.push(a));return new U(i,r)},gt=function(t){"function"!=typeof t&&(t=ot(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;s>l;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new U(i,this._parents)},dt=function(t){return new Array(t.length)},mt=function(){return new U(this._enter||this._groups.map(dt),this._parents)};c.prototype={constructor:c,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var yt=function(t){return function(){return t}},vt="$",xt=function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n=e?p:h,i=this._parents,r=this._groups;"function"!=typeof t&&(t=yt(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;o>l;++l){var c=i[l],f=r[l],g=f.length,d=t.call(c,c&&c.__data__,l,i),m=d.length,y=s[l]=new Array(m),v=a[l]=new Array(m),x=u[l]=new Array(g);n(c,f,y,v,x,d,e);for(var w,b,C=0,_=0;m>C;++C)if(w=y[C]){for(C>=_&&(_=C+1);!(b=v[_])&&++_<m;);w._next=b||null}}return a=new U(a,i),a._enter=s,a._exit=u,a},wt=function(){return new U(this._exit||this._groups.map(dt),this._parents)},bt=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;o>s;++s)for(var u,l=e[s],c=n[s],h=l.length,p=a[s]=new Array(h),f=0;h>f;++f)(u=l[f]||c[f])&&(p[f]=u);for(;i>s;++s)a[s]=e[s];return new U(a,this._parents)},Ct=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},_t=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=f);for(var n=this._groups,i=n.length,r=new Array(i),o=0;i>o;++o){for(var a,s=n[o],u=s.length,l=r[o]=new Array(u),c=0;u>c;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new U(r,this._parents).order()},Mt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},St=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},At=function(){for(var t=this._groups,e=0,n=t.length;n>e;++e)for(var i=t[e],r=0,o=i.length;o>r;++r){var a=i[r];if(a)return a}return null},kt=function(){var t=0;return this.each(function(){++t}),t},Nt=function(){return!this.node()},It=function(t){for(var e=this._groups,n=0,i=e.length;i>n;++n)for(var r,o=e[n],a=0,s=o.length;s>a;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},Tt=function(t,e){var n=tt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?d:g:"function"==typeof e?n.local?x:v:n.local?y:m)(n,e))},Pt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Lt=function(t,e,n){var i;return arguments.length>1?this.each((null==e?w:"function"==typeof e?C:b)(t,e,null==n?"":n)):Pt(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},Dt=function(t,e){return arguments.length>1?this.each((null==e?_:"function"==typeof e?S:M)(t,e)):this.node()[t]};N.prototype={add:function(t){var e=this._names.indexOf(t);0>e&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){
var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ft=function(t,e){var n=A(t+"");if(arguments.length<2){for(var i=k(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?D:e?P:L)(n,e))},Et=function(t){return arguments.length?this.each(null==t?F:("function"==typeof t?R:E)(t)):this.node().textContent},Rt=function(t){return arguments.length?this.each(null==t?O:("function"==typeof t?H:j)(t)):this.node().innerHTML},Ot=function(){return this.each(B)},jt=function(){return this.each(G)},Ht=function(t){var e="function"==typeof t?t:et(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Bt=function(t,e){var n="function"==typeof t?t:et(t),i=null==e?W:"function"==typeof e?e:ct(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},Gt=function(){return this.each(z)},Wt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},zt=function(t,e){return this.each(("function"==typeof e?V:Y)(t,e))},Xt=[null];U.prototype=q.prototype={constructor:U,select:ht,selectAll:ft,filter:gt,data:xt,enter:mt,exit:wt,merge:bt,order:Ct,sort:_t,call:Mt,nodes:St,node:At,size:kt,empty:Nt,each:It,attr:Tt,style:Lt,property:Dt,classed:Ft,text:Et,html:Rt,raise:Ot,lower:jt,append:Ht,insert:Bt,remove:Gt,datum:Wt,on:lt,dispatch:zt};var Yt,Vt,Ut=function(t){return"string"==typeof t?new U([[document.querySelector(t)]],[document.documentElement]):new U([[t]],Xt)},qt=$(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){var e=t.document,i=t.navigator,r=i.userAgent,o="DIV",a=Math.ceil,s=Math.floor,u=0,l="fusioncharts-smartlabel-",c=l+"container",h=l+"tag",p=l+"br";return n={win:t,containerClass:c,classNameWithTag:h,classNameWithTagBR:p,maxDefaultCacheLimit:500,classNameReg:new RegExp("\b"+h+"\b"),classNameBrReg:new RegExp("\b"+p+"\b"),spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+h+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+h+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),ltgtRegex:/&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,i,o;return e.getElementsByClassName?(n="getElementsByClassName",i=h,o=!0):(n="getElementsByTagName",i="span",o=!1),{isIE:/msie/i.test(r)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(r),isWebKit:new RegExp(" AppleWebKit/").test(r),childRetriverFn:n,childRetriverString:i,noClassTesting:o}},createContainer:function(t){var n,i;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(i=e.createElement(o)),i.className=c,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),i}else if(n=e.getElementsByTagName("body")[0],n&&n.appendChild)return i=e.createElement(o),i.className=c,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),u+=1,n.appendChild(i),i},getNearestBreakIndex:function(t,e,n){if(!t||!t.length)return 0;var i,r=n._getWidthFn(),o=0,u=0,l=r(t),c=l/t.length;if(i=e,o=a(e/c),e>l)return t.length-1;for(o>t.length&&(i=e-l,o=t.length);i>0;){if(i=e-r(t.substr(0,o)),u=s(i/c),!u)return o;o+=u}for(;0>i;){if(i=e-r(t.substr(0,o)),u=s(i/c),!u)return o;o+=u}return o},setLineHeight:function(t){var e=t.fontSize=t.fontSize||"12px";return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t}}}};e["default"]=n,t.exports=e["default"]}),Zt=$(function(t){function e(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,n){var i;n=n>5?n:5,n=20>n?n:20,this.maxContainers=n,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&(i=a.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),i.setAttributeNS("http://www.w3.org/2000/svg","height","0"),i.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=i,this.rootNode.appendChild(i))}var i=qt,r=e(i),o=r["default"].init("undefined"!=typeof window?window:void 0),a=o.win.document,s=o.getDocumentSupport(),u=s.isWebKit?0:4.5;n.prototype.get=function(t){var e,n,i,r=this.containers,a=this.length,s=this.maxContainers,u="";for(n in o.supportedStyle)void 0!==t[n]&&(u+=o.supportedStyle[n]+":"+t[n]+";");if(!u)return!1;if(i=r[u])this.first!==i&&(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.next=this.first,i.next.prev=i,this.last===i&&(this.last=i.prev),i.prev=null,this.first=i);else{if(a>=s)for(e=a-s+1;e--;)this.removeContainer(this.last);i=this.addContainer(u)}return i},n.prototype.addContainer=function(t){var e,n;return this.containers[t]=n={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},n.next=this.first,n.next&&(n.next.prev=n),this.first=n,this.last||(this.last=n),this.length+=1,e=n.node=a.createElement("div"),this.rootNode.appendChild(e),s.isIE&&!s.hasSVG?e.style.setAttribute("cssText",t):e.setAttribute("style",t),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=o.testStrAvg,n.lineHeight=e.offsetHeight,n.avgCharWidth=e.offsetWidth/3,s.isBrowserLess?(e=n.svgText=a.createElementNS("http://www.w3.org/2000/svg","text"),e.setAttribute("style",t),this.svgRoot.appendChild(e),e.textContent=o.testStrAvg,n.lineHeight=e.getBBox().height,n.avgCharWidth=(e.getBBox().width-u)/3,e.textContent="...",n.ellipsesWidth=e.getBBox().width-u,e.textContent=".",n.dotWidth=e.getBBox().width-u):(e.innerHTML="...",n.ellipsesWidth=e.offsetWidth,e.innerHTML=".",n.dotWidth=e.offsetWidth,e.innerHTML=""),n},n.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node.parentNode.removeChild(t.node),delete this.containers[e])},n.prototype.dispose=function(){var t,e=this.containers;this.maxContainers=null;for(t in e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null},t.exports=n}),$t=$(function(t,e){function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r){var o,a,c,h,p=!1,f=i.store;if("undefined"!=typeof t&&"object"!=typeof t){(h=f[t])&&h.dispose(),f[t]=this,r=r||{},r.maxCacheLimit=isFinite(c=r.maxCacheLimit)?c:u.maxDefaultCacheLimit,"string"==typeof e&&(e=l.getElementById(e)),o=u.createContainer(e),o.innerHTML=u.testStrAvg,(d.isHeadLess||!d.isIE&&!o.offsetHeight&&!o.offsetWidth)&&(p=!0),o.innerHTML="";for(a in u.parentContainerStyle)o.style[a]=u.parentContainerStyle[a];this.id=t,this.parentContainer=o,this._containerManager=new s["default"](o,p,10),this._showNoEllipses=!n,this._init=!0,this.style={},this.options=r,this.setStyle()}}Object.defineProperty(e,"__esModule",{value:!0});var r=qt,o=n(r),a=Zt,s=n(a),u=o["default"].init("undefined"!=typeof window?window:void 0),l=u.win.document,c=u.win.Math,h=c.max,p=c.round,f="",g={" ":"&nbsp;"},d=u.getDocumentSupport(),m=d.isWebKit?0:4.5;i.textToLines=function(t){return t=t||{},t.text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},i.store={},i.prototype._calCharDimWithCache=function(t,e,n){if(!this._init)return!1;var i,r,o,a,s,u,l=this.options.maxCacheLimit,c=this._container,h=this.style||{},p=this._advancedCache||(this._advancedCache={}),d=this._advancedCacheKey||(this._advancedCacheKey=[]),m=t+(h.fontSize||f)+(h.fontFamily||f)+(h.fontWeight||f)+(h.fontStyle||f),y=t+"init"+(h.fontSize||f)+(h.fontFamily||f)+(h.fontWeight||f)+(h.fontStyle||f);return g[t]&&(t=g[t]),e?void 0===(u=p[y])&&(c.innerHTML=t.repeat?t.repeat(n):Array(n+1).join(t),o=c.offsetWidth,c.innerHTML=t,a=c.offsetWidth,u=p[y]=(o-n*a)/(n+1),d.push(y),d.length>l&&delete p[d.shift()]):u=0,(s=p[m])?(r=s.split(","),{width:parseFloat(r[0],10),height:parseFloat(r[1],10)}):(c.innerHTML=t,i={height:c.offsetHeight,width:c.offsetWidth+u},p[m]=i.width+","+i.height,d.push(m),d.length>l&&delete p[d.shift()],i)},i.prototype._getWidthFn=function(){var t=this._containerObj,e=this._container,n=t.svgText;return n?function(t){var e,i;return n.textContent=t,e=n.getBBox(),i=e.width-m,1>i&&(i=e.width),i}:function(t){return e.innerHTML=t,e.offsetWidth}},i.prototype.setStyle=function(t){if(!this._init)return this;var e;if(t!==this.style||this._styleNotSet)return t||(t=this.style),u.setLineHeight(t),this.style=t,this._containerObj=e=this._containerManager.get(t),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,this},i.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},i.prototype.getSmartText=function(t,e,n,i){if(!this._init)return!1;void 0===t||null===t?t="":"string"!=typeof t&&(t=t.toString());var r,o,a,s,c,p,f,g,m,y,v,x,w,b,C,_,M,S,A,k,N,I,T,P,L,D,F=!1,E=0,R=-1,O=-1,j=-1,H=0,B=0,G=[],W=0,z=this._showNoEllipses?"":"...",X=this._lineHeight,Y=this._context,V=this._container,U=this._containerObj,q=U.ellipsesWidth,Z=U.dotWidth,$=[],Q=-1,K=-1,J=-1,tt=function(t){t=t.replace(/^\s\s*/,"");for(var e=/\s/,n=t.length;e.test(t.charAt(n-=1)););return t.slice(0,n+1)},et={text:t,maxWidth:e,maxHeight:n,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(x=this._getWidthFn(),n===X&&(n*=1.2),V){if(!d.isBrowserLess){if(F=u.xmlTagRegEx.test(t),F?(V.innerHTML=t,et.oriTextWidth=f=V.offsetWidth,et.oriTextHeight=g=V.offsetHeight):(s=t.replace(u.ltgtRegex,function(t){return"&lt;"===t?"<":">"}),C=this.getOriSize(s,!0),et.oriTextWidth=f=C.width,et.oriTextHeight=g=C.height),n>=g&&e>=f)return et.width=et.oriTextWidth=f,et.height=et.oriTextHeight=g,et;if(X>n)return et.text="",et.width=et.oriTextWidth=0,et.height=et.oriTextHeight=0,et}if(t=tt(t).replace(/(\s+)/g," "),c=this._showNoEllipses?e:e-q,!F){if(G=t.split(""),r=G.length,o="",a=[],v=G[0],this._cache[v]?A=this._cache[v].width:(A=x(v),this._cache[v]={width:A}),c>A)a=t.substr(0,u.getNearestBreakIndex(t,c,this)).split(""),W=a.length;else{if(A>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;z&&(c=e-2*Z,c>A?z="..":(c=e-Z,c>A?z=".":(c=0,z="")))}if(H=x(a.join("")),B=this._lineHeight,i){for(;r>W;W+=1)if(v=a[W]=G[W],this._cache[v]?A=this._cache[v].width:(C&&(A=C.detailObj[v])||(A=x(v)),this._cache[v]={width:A}),H+=A,H>c&&(o||(o=a.slice(0,-1).join("")),H>e))return et.text=tt(o)+z,et.tooltext=et.oriText,et.width=x(et.text),et.height=this._lineHeight,et;return et.text=a.join(""),et.width=H,et.height=this._lineHeight,et}for(;r>W;W+=1)if(v=a[W]=G[W]," "!==v||Y||(v="&nbsp;"),this._cache[v]?A=this._cache[v].width:(C&&(A=C.detailObj[v])||(A=x(v)),this._cache[v]={width:A}),H+=A,H>c&&(o||(o=a.slice(0,-1).join("")),H>e)){if(O=t.substr(0,a.length).lastIndexOf(" "),R=t.substr(0,a.length).lastIndexOf("-"),O>j?(H=x(a.slice(j+1,O).join("")),a.splice(O,1,"<br/>"),j=O,m=O+1):R>j?(R===a.length-1?(H=x(a.slice(j+1,O).join("")),a.splice(R,1,"<br/>-")):(H=x(a.slice(j+1,O).join("")),a.splice(R,1,"-<br/>")),j=R,m=R+1):(a.splice(a.length-1,1,"<br/>"+G[W]),J=a.length-2,H=x(a.slice(j+1,J+1).join("")),j=J,m=W),B+=this._lineHeight,B>n)return et.text=tt(o)+z,et.tooltext=et.oriText,et.width=e,et.height=B-this._lineHeight,et;E=h(E,H),o=null,y=u.getNearestBreakIndex(t.substr(m),c,this),H=x(t.substr(m,y||1)),a.length<m+y&&(a=a.concat(t.substr(a.length,m+y-a.length).split("")),W=a.length-1)}return E=h(E,H),et.text=a.join(""),et.width=E,et.height=B,et}for(p=t.replace(u.spanAdditionRegx,"$2"),t=t.replace(u.spanAdditionRegx,u.spanAdditionReplacer),t=t.replace(/(<br\s*\/*\>)/g,'<span class="'+[u.classNameWithTag," ",u.classNameWithTagBR].join("")+'">$1</span>'),V.innerHTML=t,_=V[d.childRetriverFn](d.childRetriverString),M=0,S=_.length;S>M;M+=1)k=_[M],(d.noClassTesting||u.classNameReg.test(k.className))&&(N=k.innerHTML,""!==N&&(" "===N?K=$.length:"-"===N&&(Q=$.length),$.push({spaceIdx:K,dashIdx:Q,elem:k}),G.push(N)));if(W=0,r=$.length,A=$[0].elem.offsetWidth,A>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;if(A>c&&!this._showNoEllipses&&(c=e-2*Z,c>A?z="..":(c=e-Z,c>A?z=".":(c=0,z=""))),w=$[0].elem.offsetLeft,b=$[0].elem.offsetTop,i)for(;r>W;W+=1)k=$[W].elem,I=k.offsetLeft-w+k.offsetWidth,I>c&&(D||(D=W),V.offsetWidth>e&&(L=W,W=r));else for(;r>W;W+=1)k=$[W].elem,T=k.offsetHeight+(k.offsetTop-b),I=k.offsetLeft-w+k.offsetWidth,P=null,I>c?(D||(D=W),I>e&&(O=$[W].spaceIdx,R=$[W].dashIdx,O>j?($[O].elem.innerHTML="<br/>",j=O):R>j?(R===W?$[R].elem.innerHTML="<br/>-":$[R].elem.innerHTML="-<br/>",j=R):k.parentNode.insertBefore(P=l.createElement("br"),k),k.offsetHeight+k.offsetTop>n?(P?P.parentNode.removeChild(P):j===R?$[R].elem.innerHTML="-":$[O].elem.innerHTML=" ",L=W,W=r):D=null)):T>n&&(L=W,W=r);if(r>L){for(et.isTruncated=!0,D=D?D:L,W=r-1;W>=D;W-=1)k=$[W].elem,k.parentNode.removeChild(k);for(;W>=0;W-=1)k=$[W].elem,u.classNameBrReg.test(k.className)?k.parentNode.removeChild(k):W=0}return et.text=V.innerHTML.replace(u.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),et.isTruncated&&(et.text+=z,et.tooltext=p),et.height=V.offsetHeight,et.width=V.offsetWidth,et}return et.error=new Error("Body Tag Missing!"),et},i.prototype.getOriSize=function(t,e){if(!this._init)return!1;var n,i,r,o,a,s=0,u=0,l={};if(!e)return this._calCharDimWithCache(t);for(n=t.split(""),o=0,a=n.length;a>o;o++)i=n[o],r=this._calCharDimWithCache(i,!0,n.length),u=h(u,r.height),s+=r.width,l[i]=r.width;return{width:p(s),height:u,detailObj:l}},i.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this},e["default"]=i,t.exports=e["default"]}),Qt=Z($t),Kt={mergeRecursive:function ce(t,e){var n;for(n in e)t[n]instanceof Object?ce(t[n],e[n]):t[n]=e[n]},serialize:function(){},isObject:function(t){return"object"==typeof t},extend2:function(){}},Jt=1,te=function(){return{label:{customTagName:"FT",customTagClassName:"custom-label",text:"",className:"label",style:{"font-size":"12px"},maxDimensions:{width:1600,height:900},valign:"middle"},margin:{left:0,right:0,top:0,bottom:0},padding:{left:0,right:0,top:0,bottom:0},interaction:{hide:!1,listeners:[{action:"click"}],tooltip:{hide:!1,text:"ABC"},className:"fusioncharts-navigator-standardTimeZone-tracker-rect"+Jt,style:{fill:"rgba(192,192,192,0)","stroke-width":"0",cursor:"pointer"}},labelBound:{hide:!0,className:"fusioncharts-navigator-standardTimeZone-label-bound"+Jt,style:{fill:"NONE","stroke-width":"1",stroke:"#000"},customLogicalSpace:Yt,defaultConfig:{pathFn:function(t,e,n,i){return["M",t,e,"L",t+n,e,"L",t+n,e+i,"L",t,e+i,"Z"]},getLogicalSpace:function(t,e,n){var i=2*n["stroke-width"];return t+=i,e+=i,{width:t,height:e}}},customPathFn:Yt}}},ee=window,ne="",ie="-",re=Math,oe=re.max,ae=ee.String,se=ee.parseFloat,ue=ee.getComputedStyle;Q.prototype.margin=function(t){return t&&Kt.mergeRecursive(this.config.margin,t),this},Q.prototype.padding=function(t){return t&&Kt.mergeRecursive(this.config.padding,t),this},Q.prototype.label=function(t,e,n){var i=this.config.label;return t&&(i.text=t),e&&Kt.mergeRecursive(i,e),n&&n.call(this),this},Q.prototype.getSmartLabelInstance=function(t){return this.smartLabel||(this.smartLabel=t||new Qt((new Date).getTime())),this.smartLabel},Q.prototype.getConfig=function(t){return this.config[t]},Q.prototype.getParentSelection=function(t){return t&&(this.selection=t),this.selection},Q.prototype.getStubSelection=function(t,e,n,i){i?i[1]&&(i=" "+i[1]):i=ne;var r,o=e+i;o.split(" ")[1]||o.split(" ")[0];return this._group||(this._group=t.append("g")),r=this._group.attr("class",o),n&&n[2]&&this.recurse(this.normalizeStyle(n[2]),r,"style"),{selection:r,style:this.getSmartComputedStyle(r,o)}},Q.prototype.getSmartComputedStyle=function(t,e){var n,i,r,o="W",a={"fill-opacity":0},s="string"==typeof e?e:void 0;return n=t.append("text").text(o),s?n.attr("class",s):"object"==typeof e&&(delete e["fill-opacity"],Kt.extend2(a,e)),this.recurse(a,n,"style"),i=window.getComputedStyle(n.node()),r={fontSize:i.fontSize,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontStyle:i.fontStyle},n.remove(),r},Q.prototype.normalizeStyle=function(t){var e,n,i=t.replace(/\s/g,"").split(new RegExp(/([\w\-]+):([a-z\s\d]+);/,"ig")).filter(Boolean),r={};for(e=0,n=i.length;n>e;e+=1)r[i[e]]=i[++e];return r},Q.prototype.recurse=function(t,e,n){var i;for(i in t)e[n].call(e,i,t[i])},Q.prototype.parsedText=function(){var t,e,n,i,r,o,a,s,u,l,c,h=this.config.label,p=h.text,f=h.customTagName,g=h.customTagClassName,d=this.textArr,m=this.getParentSelection(),y=[],v=0,x=0,w=this.getSmartLabelInstance();for(d=this.textArr=[],y.push(this.getStubSelection(m,h.className,h.style)),n=p.split(new RegExp("(<"+f+")([^>]*)>|(</"+f+">)","g")),i="<"+f,o="</"+f+">",w.useEllipsesOnOverflow(1),s=0,c=n.length;c>s;s+=1)(t=n[s])!==Vt&&(t===i?(v+=1,a=g+ie+x++,r=n[++s],y[v]=this.getStubSelection(y[v-1].selection,a,new RegExp("\\sstyle=([\"'])([^\\1]+)\\1","g").exec(r),new RegExp("class=[\"']([a-z\\d\\s]+)[\"']","gi").exec(r))):t===o?v-=1:t!==ne&&(e=y[v],u=n[s],w.setStyle(e.style),l=w.getOriSize(u||ne),d.push({selection:e.selection,oriText:u,text:u,oriWidth:l.width,width:l.width,oriHeight:l.height,height:l.height})));return d},Q.prototype.getLogicalSpace=function(t,e){t&&this.getParentSelection(t);var n,i,r,o,a,s,u=this.config,l=this.getSmartLabelInstance(),c=u.label.maxDimensions,h=u.margin,p=h.left+h.right,f=h.top+h.bottom,g=(e&&e.width||c.width)-p,d=(e&&e.height||c.height)-f,m=u.labelBound,y=m.customLogicalSpace||m.defaultConfig.getLogicalSpace,v=this.parsedText(),x=g,w=0;for(o=0,a=v.length;a>o;o+=1)s=v[o],(s.oriWidth>g||s.oriHeight>d)&&(n=l.getSmartText(s.oriText,x,d),s.text=n.text,s.width=n.width,s.height=n.height),x-=s.width,w=oe(w,s.height);return i=w,r=g-x,m.hide?{width:r+p,height:i+f}:y(i,r,m.style)},Q.prototype.tuneText=function(t,e){var n,i=+t.attr("x"),r=+t.attr("y"),o=ue(t.node(),ne),a=ae(e.text).split(/\n|<br\s*?\/?>/gi),s=o?se(o.getPropertyValue("font-size")):10,u=1.2*s,l=this.config.label.valign;return l="top"===l?-.5:"bottom"===l?.5:0,t.selectAll("tspan").data(a).call(this.updateTuning,i,u,a,l).enter().append("tspan").call(this.updateTuning,i,u,a,l),n=t.node().getBBox(),t.select("tspan").attr("dy",r-(n.y+n.height/2)),(a.length-1)*u},Q.prototype.updateTuning=function(t,e,n,i,r){return t.each(function(t,o){Ut(this).attr("x",e).attr("dy",o?n:n*i.length*r).text(i[o])})},Q.prototype.setDrawingConfiguration=function(t,e,n,i){var r=this.measurement;return Kt.isObject(t)&&(e=t.y,n=t.width,i=t.height,t=t.x),r.x=t,r.y=e,r.width=n,r.height=i,this},Q.prototype.draw=function(t,e){return e&&(e.width||e.height)&&this.getLogicalSpace(this.getParentSelection(t),{width:e.width,height:e.height}),this.drawLabelBound.apply(this,arguments).drawLabel.apply(this,arguments).drawTracker.apply(this,arguments)},Q.prototype.drawLabelBound=function(){return this},Q.prototype.drawLabel=function(t,e){e&&this.setDrawingConfiguration(e);var n,i,r,o,a,s,u,l,c,h=this.graphics,p=h.labelArr||(h.labelArr=[]),f=this.measurement,g=this.config.margin,d=this.parsedText();if(n=void 0===n?f.x:n,i=void 0===i?f.y:i,a=void 0===a?f.width:a,s=void 0===s?f.height:s,n+=g.left,i+=g.top,c=n,!a||!s||isFinite(n)&&isFinite(i)){for(r=0,o=d.length;o>r;r+=1)u=d[r],(l=p[r])||(p[r]=l=u.selection.append("text")),n=c,l.attr("x",n).attr("y",i),i+=this.tuneText(l,u),c+=u.width;return this}},Q.prototype.drawTracker=function(){return this},Q.prototype.transform=function(t){return this.getParentSelection().attr("transform",t)},Q.prototype.attachEvents=function(){},Q.prototype.test=function(){return this.getSmartLabelInstance()};var le=function(){return new Q};t.fusiontext=le,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i(t,e,n){return t=r(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function r(t,e,n){return function(i){var r=lt;lt=i;try{t.call(this,this.__data__,e,n)}finally{lt=r}}}function o(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function a(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;o>i;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function s(t,e,n){var o=ut.hasOwnProperty(t.type)?i:r;return function(i,r,a){var s,u=this.__on,l=o(e,r,a);if(u)for(var c=0,h=u.length;h>c;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function u(){}function l(){return[]}function c(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function h(t,e,n,i,r,o){for(var a,s=0,u=e.length,l=o.length;l>s;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new c(t,o[s]);for(;u>s;++s)(a=e[s])&&(r[s]=a)}function p(t,e,n,i,r,o,a){var s,u,l,h={},p=e.length,f=o.length,g=new Array(p);for(s=0;p>s;++s)(u=e[s])&&(g[s]=l=_t+a.call(u,u.__data__,s,e),l in h?r[s]=u:h[l]=u);for(s=0;f>s;++s)l=_t+a.call(t,o[s],s,o),(u=h[l])?(i[s]=u,u.__data__=o[s],h[l]=null):n[s]=new c(t,o[s]);for(s=0;p>s;++s)(u=e[s])&&h[g[s]]===u&&(r[s]=u)}function f(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function g(t){return function(){this.removeAttribute(t)}}function d(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m(t,e){return function(){this.setAttribute(t,e)}}function y(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function w(t){return function(){this.style.removeProperty(t)}}function b(t,e,n){return function(){this.style.setProperty(t,e,n)}}function C(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function _(t){return function(){delete this[t]}}function M(t,e){return function(){this[t]=e}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function A(t){return t.trim().split(/^|\s+/)}function k(t){return t.classList||new N(t)}function N(t){this._node=t,this._names=A(t.getAttribute("class")||"")}function I(t,e){for(var n=k(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function T(t,e){for(var n=k(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function P(t){return function(){I(this,t)}}function L(t){return function(){T(this,t)}}function D(t,e){return function(){(e.apply(this,arguments)?I:T)(this,t)}}function F(){this.textContent=""}function E(t){return function(){this.textContent=t}}function R(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function O(){this.innerHTML=""}function j(t){return function(){this.innerHTML=t}}function H(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function B(){this.nextSibling&&this.parentNode.appendChild(this)}function G(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function W(){return null}function z(){var t=this.parentNode;t&&t.removeChild(this)}function X(t,e,n){var i=Rt(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Y(t,e){return function(){return X(this,t,e)}}function V(t,e){return function(){return X(this,t,e.apply(this,arguments))}}function U(t,e){this._groups=t,this._parents=e}function q(){return new U([[document.documentElement]],Zt)}function Z(t){return t&&t.__esModule?t["default"]:t}function $(t,e){return e={exports:{}},t(e,e.exports),e.exports}function Q(t,e,n){function i(t,e,n){e&&ee.mergeRecursive(t,e),"object"==typeof n&&null!==n?ee.mergeRecursive(t,n):t.text.push(n)}var r,o,a,s,u,l,c=0,h=n.shift(),p=n;for(e=e||{},t=t||{},i(e.title=e.title||{},t.title,h),e.body=e.body||[];a=p.shift();){if(u=e.body[c],u||e.body.push(u=[]),a instanceof Array)for(r=0,o=a.length;o>r;r++)l=u[r],l||u.push(l={}),s=a[r],i(l,t.body,s);else l=u[0],u.push(l={}),i(l,t.body,a),u.splice(1);c++}}function K(t){var e;this.config=t||{},this.smartlabel=new te(Math.random()),this.verticalLimit=void 0,this.horizontalLimit=void 0,this.data=null,this.model=null,this.mountPoint=null,this._firables=null,this._context=null,this.clsNS=this.config.namespace,this.baseClassName=this.clsNS?this.clsNS+"-d3-tooltip":"d3-tooltip",e=this.baseClassName+"-body",this.title={model:null,args:{className:this.baseClassName+"-title",padding:[2,5,5],margin:[2,5]},_graphics:{}},this.body={model:null,args:{className:e,padding:[2,5,5],margin:[2,5],icon:{className:e+"-icon",_size:null},text:{className:e+"-text"}},_graphics:{}}}function J(){function t(t,e){var n=t.node().__mounter||l;n.mount(e)}function e(t,e,n){return function(){var i=[].slice.call(arguments,0),r=gt(this);i.push(r),i.push(this),e[t].apply(n,i)}}function n(t,n){var i="createTouch"in document;return i?(t.on("touchstart.d3-tooltip",e(0,n,o)),t.on("touchmove.d3-tooltip",e(1,n,o)),t.on("touchend.d3-tooltip",e(2,n,o))):(t.on("mouseover.d3-tooltip",e(0,n,o)),t.on("mousemove.d3-tooltip",e(1,n,o)),t.on("mouseout.d3-tooltip",e(2,n,o))),t}function i(t){d?t.each(function(t){this.__mounter.addData(t).mountTo(o)}):(o=a.append("g"),f=[i._onMouseOver,i._onMouseMove,i._onMouseOut],t.each(function(t){n($t(this),f),l=this.__mounter=new K({namespace:g}).addData(t).mountTo(o)})),d=!0}function r(t,e){var n,i,r,o;return(n=t.attr("transform"))?(n=n.replace(/\s/g,""),i=/translate\(\s*([^\s,)]+)[ ,]([^\s,)]+)/.exec(n),r=+i[1],o=+i[2]):r=o=0,e[0]+=r,e[1]+=o,e}var o,a,s,u,l,c=null,h={x:5,y:5},p=null,f=[],g=null,d=!1;return i.attachTo=function(t){return a=t,i},i.offset=function(t){return ee.mergeRecursive(h={},t),i},i.show=function(e,n){if(s){n||(n=l),e||(e=u),t(s,{pos:e});var i,r,a=!1,c=e;return i=n.size(),p?(p.x2&&(c[0]+h.x+i.width>p.x2?c[0]-h.x-i.width<p.x1?(c[0]=p.x1,a=!0):c[0]-=h.x+i.width:c[0]+=2*h.x),(p.y2||a)&&(p.y2=p.y2||Number.POSITIVE_INFINITY,r=a?1.2*h.y:h.y,c[1]+r+i.height>p.y2?c[1]-=r+i.height:c[1]+=r)):(c[0]+=h.x,c[1]+=h.y),o.style("display","block").attr("transform","translate("+c[0]+", "+c[1]+")")}},i.hide=function(){return o.style("display","none")},i.bbox=function(t,e,n,r){return t=t||0,e=e||0,e=e||0,n=n||0,r=r||0,p={x1:t,y1:e,width:n,height:r,x2:t+n,y2:e+r},i},i.track=function(t){return c=t&&"function"==typeof t&&t,i},i.namespace=function(t){return g=t,i},c=i._getDefaultTrack=function(t,e,n,i){return i},i._onMouseOver=function(){return this.style("display","block")},i._onMouseMove=function(){var t=u=c.apply(o,[].slice.call(arguments,0)),e=arguments[4];s=$t(e),i.show(r(s,t),e.__mounter)},i._onMouseOut=i.hide,i}var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),et.hasOwnProperty(e)?{space:et[e],local:t}:t},it=function(t){var i=nt(t);return(i.local?n:e)(i)},rt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ot=document.documentElement;if(!ot.matches){var at=ot.webkitMatchesSelector||ot.msMatchesSelector||ot.mozMatchesSelector||ot.oMatchesSelector;rt=function(t){return function(){return at.call(this,t)}}}}var st=rt,ut={},lt=null;if("undefined"!=typeof document){var ct=document.documentElement;"onmouseenter"in ct||(ut={mouseenter:"mouseover",mouseleave:"mouseout"})}var ht=function(t,e,n){var i,r,u=o(t+""),l=u.length;{if(!(arguments.length<2)){for(c=e?s:a,null==n&&(n=!1),i=0;l>i;++i)this.each(c(u[i],e,n));return this}var c=this.node().__on;if(c)for(var h,p=0,f=c.length;f>p;++p)for(i=0,h=c[p];l>i;++i)if((r=u[i]).type===h.type&&r.name===h.name)return h.value}},pt=function(){for(var t,e=lt;t=e.sourceEvent;)e=t;return e},ft=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},gt=function(t){var e=pt();return e.changedTouches&&(e=e.changedTouches[0]),ft(t,e)},dt=function(t){return null==t?u:function(){return this.querySelector(t)}},mt=function(t){"function"!=typeof t&&(t=dt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a,s=e[r],u=s.length,l=i[r]=new Array(u),c=0;u>c;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new U(i,this._parents)},yt=function(t){return null==t?l:function(){return this.querySelectorAll(t)}},vt=function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;n>o;++o)for(var a,s=e[o],u=s.length,l=0;u>l;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),r.push(a));return new U(i,r)},xt=function(t){"function"!=typeof t&&(t=st(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;s>l;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new U(i,this._parents)},wt=function(t){return new Array(t.length)},bt=function(){return new U(this._enter||this._groups.map(wt),this._parents)};c.prototype={constructor:c,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ct=function(t){return function(){return t}},_t="$",Mt=function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n=e?p:h,i=this._parents,r=this._groups;"function"!=typeof t&&(t=Ct(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;o>l;++l){var c=i[l],f=r[l],g=f.length,d=t.call(c,c&&c.__data__,l,i),m=d.length,y=s[l]=new Array(m),v=a[l]=new Array(m),x=u[l]=new Array(g);n(c,f,y,v,x,d,e);for(var w,b,C=0,_=0;m>C;++C)if(w=y[C]){for(C>=_&&(_=C+1);!(b=v[_])&&++_<m;);w._next=b||null}}return a=new U(a,i),
a._enter=s,a._exit=u,a},St=function(){return new U(this._exit||this._groups.map(wt),this._parents)},At=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;o>s;++s)for(var u,l=e[s],c=n[s],h=l.length,p=a[s]=new Array(h),f=0;h>f;++f)(u=l[f]||c[f])&&(p[f]=u);for(;i>s;++s)a[s]=e[s];return new U(a,this._parents)},kt=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},Nt=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=f);for(var n=this._groups,i=n.length,r=new Array(i),o=0;i>o;++o){for(var a,s=n[o],u=s.length,l=r[o]=new Array(u),c=0;u>c;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new U(r,this._parents).order()},It=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Tt=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Pt=function(){for(var t=this._groups,e=0,n=t.length;n>e;++e)for(var i=t[e],r=0,o=i.length;o>r;++r){var a=i[r];if(a)return a}return null},Lt=function(){var t=0;return this.each(function(){++t}),t},Dt=function(){return!this.node()},Ft=function(t){for(var e=this._groups,n=0,i=e.length;i>n;++n)for(var r,o=e[n],a=0,s=o.length;s>a;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},Et=function(t,e){var n=nt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?d:g:"function"==typeof e?n.local?x:v:n.local?y:m)(n,e))},Rt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Ot=function(t,e,n){var i;return arguments.length>1?this.each((null==e?w:"function"==typeof e?C:b)(t,e,null==n?"":n)):Rt(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},jt=function(t,e){return arguments.length>1?this.each((null==e?_:"function"==typeof e?S:M)(t,e)):this.node()[t]};N.prototype={add:function(t){var e=this._names.indexOf(t);0>e&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ht=function(t,e){var n=A(t+"");if(arguments.length<2){for(var i=k(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?D:e?P:L)(n,e))},Bt=function(t){return arguments.length?this.each(null==t?F:("function"==typeof t?R:E)(t)):this.node().textContent},Gt=function(t){return arguments.length?this.each(null==t?O:("function"==typeof t?H:j)(t)):this.node().innerHTML},Wt=function(){return this.each(B)},zt=function(){return this.each(G)},Xt=function(t){var e="function"==typeof t?t:it(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Yt=function(t,e){var n="function"==typeof t?t:it(t),i=null==e?W:"function"==typeof e?e:dt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},Vt=function(){return this.each(z)},Ut=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},qt=function(t,e){return this.each(("function"==typeof e?V:Y)(t,e))},Zt=[null];U.prototype=q.prototype={constructor:U,select:mt,selectAll:vt,filter:xt,data:Mt,enter:bt,exit:St,merge:At,order:kt,sort:Nt,call:It,nodes:Tt,node:Pt,size:Lt,empty:Dt,each:Ft,attr:Et,style:Ot,property:jt,classed:Ht,text:Bt,html:Gt,raise:Wt,lower:zt,append:Xt,insert:Yt,remove:Vt,datum:Ut,on:ht,dispatch:qt};var $t=function(t){return"string"==typeof t?new U([[document.querySelector(t)]],[document.documentElement]):new U([[t]],Zt)},Qt=$(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){var e=t.document,i=t.navigator,r=i.userAgent,o="DIV",a=Math.ceil,s=Math.floor,u=0,l="fusioncharts-smartlabel-",c=l+"container",h=l+"tag",p=l+"br";return n={win:t,containerClass:c,classNameWithTag:h,classNameWithTagBR:p,maxDefaultCacheLimit:500,classNameReg:new RegExp("\b"+h+"\b"),classNameBrReg:new RegExp("\b"+p+"\b"),spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+h+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+h+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),ltgtRegex:/&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,i,o;return e.getElementsByClassName?(n="getElementsByClassName",i=h,o=!0):(n="getElementsByTagName",i="span",o=!1),{isIE:/msie/i.test(r)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(r),isWebKit:new RegExp(" AppleWebKit/").test(r),childRetriverFn:n,childRetriverString:i,noClassTesting:o}},createContainer:function(t){var n,i;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(i=e.createElement(o)),i.className=c,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),i}else if(n=e.getElementsByTagName("body")[0],n&&n.appendChild)return i=e.createElement(o),i.className=c,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),u+=1,n.appendChild(i),i},getNearestBreakIndex:function(t,e,n){if(!t||!t.length)return 0;var i,r=n._getWidthFn(),o=0,u=0,l=r(t),c=l/t.length;if(i=e,o=a(e/c),e>l)return t.length-1;for(o>t.length&&(i=e-l,o=t.length);i>0;){if(i=e-r(t.substr(0,o)),u=s(i/c),!u)return o;o+=u}for(;0>i;){if(i=e-r(t.substr(0,o)),u=s(i/c),!u)return o;o+=u}return o},setLineHeight:function(t){var e=t.fontSize=t.fontSize||"12px";return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t}}}};e["default"]=n,t.exports=e["default"]}),Kt=$(function(t){function e(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,n){var i;n=n>5?n:5,n=20>n?n:20,this.maxContainers=n,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&(i=a.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),i.setAttributeNS("http://www.w3.org/2000/svg","height","0"),i.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=i,this.rootNode.appendChild(i))}var i=Qt,r=e(i),o=r["default"].init("undefined"!=typeof window?window:void 0),a=o.win.document,s=o.getDocumentSupport(),u=s.isWebKit?0:4.5;n.prototype.get=function(t){var e,n,i,r=this.containers,a=this.length,s=this.maxContainers,u="";for(n in o.supportedStyle)void 0!==t[n]&&(u+=o.supportedStyle[n]+":"+t[n]+";");if(!u)return!1;if(i=r[u])this.first!==i&&(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.next=this.first,i.next.prev=i,this.last===i&&(this.last=i.prev),i.prev=null,this.first=i);else{if(a>=s)for(e=a-s+1;e--;)this.removeContainer(this.last);i=this.addContainer(u)}return i},n.prototype.addContainer=function(t){var e,n;return this.containers[t]=n={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},n.next=this.first,n.next&&(n.next.prev=n),this.first=n,this.last||(this.last=n),this.length+=1,e=n.node=a.createElement("div"),this.rootNode.appendChild(e),s.isIE&&!s.hasSVG?e.style.setAttribute("cssText",t):e.setAttribute("style",t),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=o.testStrAvg,n.lineHeight=e.offsetHeight,n.avgCharWidth=e.offsetWidth/3,s.isBrowserLess?(e=n.svgText=a.createElementNS("http://www.w3.org/2000/svg","text"),e.setAttribute("style",t),this.svgRoot.appendChild(e),e.textContent=o.testStrAvg,n.lineHeight=e.getBBox().height,n.avgCharWidth=(e.getBBox().width-u)/3,e.textContent="...",n.ellipsesWidth=e.getBBox().width-u,e.textContent=".",n.dotWidth=e.getBBox().width-u):(e.innerHTML="...",n.ellipsesWidth=e.offsetWidth,e.innerHTML=".",n.dotWidth=e.offsetWidth,e.innerHTML=""),n},n.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node.parentNode.removeChild(t.node),delete this.containers[e])},n.prototype.dispose=function(){var t,e=this.containers;this.maxContainers=null;for(t in e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null},t.exports=n}),Jt=$(function(t,e){function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r){var o,a,c,h,p=!1,f=i.store;if("undefined"!=typeof t&&"object"!=typeof t){(h=f[t])&&h.dispose(),f[t]=this,r=r||{},r.maxCacheLimit=isFinite(c=r.maxCacheLimit)?c:u.maxDefaultCacheLimit,"string"==typeof e&&(e=l.getElementById(e)),o=u.createContainer(e),o.innerHTML=u.testStrAvg,(d.isHeadLess||!d.isIE&&!o.offsetHeight&&!o.offsetWidth)&&(p=!0),o.innerHTML="";for(a in u.parentContainerStyle)o.style[a]=u.parentContainerStyle[a];this.id=t,this.parentContainer=o,this._containerManager=new s["default"](o,p,10),this._showNoEllipses=!n,this._init=!0,this.style={},this.options=r,this.setStyle()}}Object.defineProperty(e,"__esModule",{value:!0});var r=Qt,o=n(r),a=Kt,s=n(a),u=o["default"].init("undefined"!=typeof window?window:void 0),l=u.win.document,c=u.win.Math,h=c.max,p=c.round,f="",g={" ":"&nbsp;"},d=u.getDocumentSupport(),m=d.isWebKit?0:4.5;i.textToLines=function(t){return t=t||{},t.text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},i.store={},i.prototype._calCharDimWithCache=function(t,e,n){if(!this._init)return!1;var i,r,o,a,s,u,l=this.options.maxCacheLimit,c=this._container,h=this.style||{},p=this._advancedCache||(this._advancedCache={}),d=this._advancedCacheKey||(this._advancedCacheKey=[]),m=t+(h.fontSize||f)+(h.fontFamily||f)+(h.fontWeight||f)+(h.fontStyle||f),y=t+"init"+(h.fontSize||f)+(h.fontFamily||f)+(h.fontWeight||f)+(h.fontStyle||f);return g[t]&&(t=g[t]),e?void 0===(u=p[y])&&(c.innerHTML=t.repeat?t.repeat(n):Array(n+1).join(t),o=c.offsetWidth,c.innerHTML=t,a=c.offsetWidth,u=p[y]=(o-n*a)/(n+1),d.push(y),d.length>l&&delete p[d.shift()]):u=0,(s=p[m])?(r=s.split(","),{width:parseFloat(r[0],10),height:parseFloat(r[1],10)}):(c.innerHTML=t,i={height:c.offsetHeight,width:c.offsetWidth+u},p[m]=i.width+","+i.height,d.push(m),d.length>l&&delete p[d.shift()],i)},i.prototype._getWidthFn=function(){var t=this._containerObj,e=this._container,n=t.svgText;return n?function(t){var e,i;return n.textContent=t,e=n.getBBox(),i=e.width-m,1>i&&(i=e.width),i}:function(t){return e.innerHTML=t,e.offsetWidth}},i.prototype.setStyle=function(t){if(!this._init)return this;var e;if(t!==this.style||this._styleNotSet)return t||(t=this.style),u.setLineHeight(t),this.style=t,this._containerObj=e=this._containerManager.get(t),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,this},i.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},i.prototype.getSmartText=function(t,e,n,i){if(!this._init)return!1;void 0===t||null===t?t="":"string"!=typeof t&&(t=t.toString());var r,o,a,s,c,p,f,g,m,y,v,x,w,b,C,_,M,S,A,k,N,I,T,P,L,D,F=!1,E=0,R=-1,O=-1,j=-1,H=0,B=0,G=[],W=0,z=this._showNoEllipses?"":"...",X=this._lineHeight,Y=this._context,V=this._container,U=this._containerObj,q=U.ellipsesWidth,Z=U.dotWidth,$=[],Q=-1,K=-1,J=-1,tt=function(t){t=t.replace(/^\s\s*/,"");for(var e=/\s/,n=t.length;e.test(t.charAt(n-=1)););return t.slice(0,n+1)},et={text:t,maxWidth:e,maxHeight:n,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(x=this._getWidthFn(),n===X&&(n*=1.2),V){if(!d.isBrowserLess){if(F=u.xmlTagRegEx.test(t),F?(V.innerHTML=t,et.oriTextWidth=f=V.offsetWidth,et.oriTextHeight=g=V.offsetHeight):(s=t.replace(u.ltgtRegex,function(t){return"&lt;"===t?"<":">"}),C=this.getOriSize(s,!0),et.oriTextWidth=f=C.width,et.oriTextHeight=g=C.height),n>=g&&e>=f)return et.width=et.oriTextWidth=f,et.height=et.oriTextHeight=g,et;if(X>n)return et.text="",et.width=et.oriTextWidth=0,et.height=et.oriTextHeight=0,et}if(t=tt(t).replace(/(\s+)/g," "),c=this._showNoEllipses?e:e-q,!F){if(G=t.split(""),r=G.length,o="",a=[],v=G[0],this._cache[v]?A=this._cache[v].width:(A=x(v),this._cache[v]={width:A}),c>A)a=t.substr(0,u.getNearestBreakIndex(t,c,this)).split(""),W=a.length;else{if(A>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;z&&(c=e-2*Z,c>A?z="..":(c=e-Z,c>A?z=".":(c=0,z="")))}if(H=x(a.join("")),B=this._lineHeight,i){for(;r>W;W+=1)if(v=a[W]=G[W],this._cache[v]?A=this._cache[v].width:(C&&(A=C.detailObj[v])||(A=x(v)),this._cache[v]={width:A}),H+=A,H>c&&(o||(o=a.slice(0,-1).join("")),H>e))return et.text=tt(o)+z,et.tooltext=et.oriText,et.width=x(et.text),et.height=this._lineHeight,et;return et.text=a.join(""),et.width=H,et.height=this._lineHeight,et}for(;r>W;W+=1)if(v=a[W]=G[W]," "!==v||Y||(v="&nbsp;"),this._cache[v]?A=this._cache[v].width:(C&&(A=C.detailObj[v])||(A=x(v)),this._cache[v]={width:A}),H+=A,H>c&&(o||(o=a.slice(0,-1).join("")),H>e)){if(O=t.substr(0,a.length).lastIndexOf(" "),R=t.substr(0,a.length).lastIndexOf("-"),O>j?(H=x(a.slice(j+1,O).join("")),a.splice(O,1,"<br/>"),j=O,m=O+1):R>j?(R===a.length-1?(H=x(a.slice(j+1,O).join("")),a.splice(R,1,"<br/>-")):(H=x(a.slice(j+1,O).join("")),a.splice(R,1,"-<br/>")),j=R,m=R+1):(a.splice(a.length-1,1,"<br/>"+G[W]),J=a.length-2,H=x(a.slice(j+1,J+1).join("")),j=J,m=W),B+=this._lineHeight,B>n)return et.text=tt(o)+z,et.tooltext=et.oriText,et.width=e,et.height=B-this._lineHeight,et;E=h(E,H),o=null,y=u.getNearestBreakIndex(t.substr(m),c,this),H=x(t.substr(m,y||1)),a.length<m+y&&(a=a.concat(t.substr(a.length,m+y-a.length).split("")),W=a.length-1)}return E=h(E,H),et.text=a.join(""),et.width=E,et.height=B,et}for(p=t.replace(u.spanAdditionRegx,"$2"),t=t.replace(u.spanAdditionRegx,u.spanAdditionReplacer),t=t.replace(/(<br\s*\/*\>)/g,'<span class="'+[u.classNameWithTag," ",u.classNameWithTagBR].join("")+'">$1</span>'),V.innerHTML=t,_=V[d.childRetriverFn](d.childRetriverString),M=0,S=_.length;S>M;M+=1)k=_[M],(d.noClassTesting||u.classNameReg.test(k.className))&&(N=k.innerHTML,""!==N&&(" "===N?K=$.length:"-"===N&&(Q=$.length),$.push({spaceIdx:K,dashIdx:Q,elem:k}),G.push(N)));if(W=0,r=$.length,A=$[0].elem.offsetWidth,A>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;if(A>c&&!this._showNoEllipses&&(c=e-2*Z,c>A?z="..":(c=e-Z,c>A?z=".":(c=0,z=""))),w=$[0].elem.offsetLeft,b=$[0].elem.offsetTop,i)for(;r>W;W+=1)k=$[W].elem,I=k.offsetLeft-w+k.offsetWidth,I>c&&(D||(D=W),V.offsetWidth>e&&(L=W,W=r));else for(;r>W;W+=1)k=$[W].elem,T=k.offsetHeight+(k.offsetTop-b),I=k.offsetLeft-w+k.offsetWidth,P=null,I>c?(D||(D=W),I>e&&(O=$[W].spaceIdx,R=$[W].dashIdx,O>j?($[O].elem.innerHTML="<br/>",j=O):R>j?(R===W?$[R].elem.innerHTML="<br/>-":$[R].elem.innerHTML="-<br/>",j=R):k.parentNode.insertBefore(P=l.createElement("br"),k),k.offsetHeight+k.offsetTop>n?(P?P.parentNode.removeChild(P):j===R?$[R].elem.innerHTML="-":$[O].elem.innerHTML=" ",L=W,W=r):D=null)):T>n&&(L=W,W=r);if(r>L){for(et.isTruncated=!0,D=D?D:L,W=r-1;W>=D;W-=1)k=$[W].elem,k.parentNode.removeChild(k);for(;W>=0;W-=1)k=$[W].elem,u.classNameBrReg.test(k.className)?k.parentNode.removeChild(k):W=0}return et.text=V.innerHTML.replace(u.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),et.isTruncated&&(et.text+=z,et.tooltext=p),et.height=V.offsetHeight,et.width=V.offsetWidth,et}return et.error=new Error("Body Tag Missing!"),et},i.prototype.getOriSize=function(t,e){if(!this._init)return!1;var n,i,r,o,a,s=0,u=0,l={};if(!e)return this._calCharDimWithCache(t);for(n=t.split(""),o=0,a=n.length;a>o;o++)i=n[o],r=this._calCharDimWithCache(i,!0,n.length),u=h(u,r.height),s+=r.width,l[i]=r.width;return{width:p(s),height:u,detailObj:l}},i.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this},e["default"]=i,t.exports=e["default"]}),te=Z(Jt),ee={};ee.mergeRecursive=function(t,e){return function n(t,e){var i,r;for(i in e)if(e.hasOwnProperty(i))if(r=e[i],r instanceof Array)t[i]=r.slice(0);else if("object"==typeof r){if(null===r)continue;n(r,t[i]||(t[i]={}))}else t[i]=r}(t,e),t},ee.getSmartComputedStyle=function(t,e){var n,i,r,o="W",a={"fill-opacity":0,"stroke-opacity":0},s="string"==typeof e?e:void 0;return n=t.append("text").text(o),s?n.attr("class",s):"object"==typeof e&&(delete e["fill-opacity"],delete e["stroke-opacity"],ee.mergeRecursive(a,e)),n.style(a),i=getComputedStyle(n.node()),r={fontSize:i.fontSize,iFontSize:parseInt(i.fontSize.match(/\d+/)[0],10),fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontStyle:i.fontStyle},n.remove(),r},ee.getArgedText=function(t){var e=[];return t instanceof Array?(e[0]=t[0]||"",e[1]=t[1]||{}):(e[0]=t,e[1]={}),e},ee.applyStyleObj=function(t,e){var n;if(t.node().removeAttribute("style"),!e)return t;for(n in e)t.style(n,e[n]);return t};var ne;K.SEPARATOR={N:"\n",S:"s",T:"	",_def:function(t,e,n){function i(t,e){var n,i,r=0;for(n=0,i=t.length;i>n;n++)r+=t[n]+c*e;return r-c*e}var r,o,a,s=0,u=0,l=t.getOriSize("W"),c=l.width,h=l.height,p=[],f=!1;for(r=0,o=e.length;o>r;r++)if(null===e[r][0]){f=!0;break}if(f)p.push(0);else for(r=0,o=e.length;o>r;r++)p.push(t.getOriSize(e[r][0]).width);switch(n){case K.SEPARATOR.N:a=function(t){return{x:0,y:h*t}};break;case K.SEPARATOR.T:a=function(t){return{x:t?2*c:0,y:0}},s=i(p,2),u=s?h:s;break;case K.SEPARATOR.S:default:a=function(t){return{x:t?.5*c:0,y:0}},s=i(p,.5),u=s?h:s}return{fn:a,oriWidth:s,oriHeight:u,ignore:f}}},(ne=K.prototype).constructor=K,ne._prepareTooltipModel=function(t){var e={},n={title:{icon:null,text:[],breakBy:K.SEPARATOR.S},body:{icon:null,text:[],rank:1,breakBy:K.SEPARATOR.S}};return Q(n,e,t),e},ne._prepareFirables=function(t){function e(t){var e,n,i,r,o,a=[];if(t instanceof Array)for(e=0,n=t.length;n>e;e++)i=t[e],i&&"function"==typeof i&&a.push([e,i]);else r=t,o=arguments[1],i=r[o],i&&"function"==typeof i&&a.push([o,i]);return 0===a.length?null:a.map(function(e){return e.unshift(r||t),e})}var n,i,r,o,a,s,u,l,c=[],h=t.title,p=t.body;for(u=e(h.text),n=0,i=p.length;i>n;n++)for(a=p[n],r=0,o=a.length;o>r;r++)s=a[r],l=e(s.text),l&&[].push.apply(c,l),l=e(s,"rank"),l&&[].push.apply(c,l);return(u||[]).concat(c)},ne._executeFirables=function(t,e){var n,i,r,o,a=this._firables;for(n=0,i=a.length;i>n;n++)r=a[n],(o=r[2])&&"function"==typeof o&&(r[0][r[1]]=r[2](e));return this},ne.setLimit=function(t){return this.limit=t,this},ne.addData=function(t){var e;return this.data=t,e=this.model=this._prepareTooltipModel(t),this._firables=this._prepareFirables(e),this.addTitle(e.title).addBody(e.body),this},ne.addTitle=function(t){return this.title.model=t,ee.mergeRecursive(this.title.args,t.args),this},ne.addBody=function(t){return this.body.model=t,ee.mergeRecursive(this.body.args,t.args),this},ne.mountTo=function(t){return this.mountPoint=t,this},ne.mount=function(t){var e,n,i,r,o=this.mountPoint,a=this.title,s=this.body,u=a.args.className,l=s.args.className;return this.context=t||null,this._executeFirables(this.model,t),i=o.attr("class",this.baseClassName).selectAll("rect").data([1]),i=i.enter().append("rect").merge(i).attr("class",this.baseClassName+"-container"),e=o.selectAll("g."+u).data([a.model]),e.exit().remove(),e=a._graphics.g=e.enter().append("g").attr("class",u).merge(e),n=o.selectAll("g."+l).data(s.model),n.exit().remove(),n=s._graphics.g=n.enter().append("g").attr("class",l).merge(n),r=this.mountTitle(e).mountBody(n).mountComponents(),i.attr("x",0).attr("y",0).attr("height",this.verticalLimit=r.height),i.transition().duration(this.horizontalLimit?this.horizontalLimit<r.width?0:500:0).attr("width",this.horizontalLimit=r.width),this},ne.size=function(){return{height:this.verticalLimit,width:this.horizontalLimit}},ne.mountTitle=function(t){var e,n,i,r=this.title._graphics;return e=t.selectAll("rect").data([1]),r.container=e.enter().append("rect").merge(e).attr("class",t.attr("class")+"-container"),n=t.selectAll("path").data(function(t){return t}),n.exit().remove(),r.icon=n.enter().merge(n).append("path").merge(n).attr("class",t.attr("class")+"-icon"),i=t.selectAll("text").data(function(t){return[t.text]}),i.exit().remove(),r.text=i.enter().append("text").merge(i).attr("class",t.attr("class")+"-text"),this},ne.mountBody=function(t){var e,n,i,r,o=this.body._graphics;return n=t.selectAll("rect").data(function(t){return[t]}),o.container=n.enter().append("rect").classed(t.attr("class")+"-container",!0).merge(n),e=t.selectAll("g").data(function(t){return t}),e.exit().remove(),e=o.unitBodyG=e.enter().append("g").merge(e),i=e.selectAll("path").data(function(t){return[t]}),i.exit().remove(),o.icon=i.enter().append("path").classed(t.attr("class")+"-icon",!0).merge(i),r=e.selectAll("text").data(function(t){return[t.text]}),r.exit().remove(),o.text=r.enter().append("text").classed(t.attr("class")+"-text",!0).merge(r),this},ne.mountComponents=function(){var t,e,n,i,r=0,o=0,a=this._mountAtomicComponent.bind(this),s=Number.NEGATIVE_INFINITY,u=this.title,l=u.args,c=u._graphics,h=this.body,p=h.args,f=h._graphics;return r=l.margin[1],o=l.margin[0],t=a(c.g,i=c.container,{icon:c.icon,text:c.text},{y:o,x:r},{padding:l.padding}),o+=t.height?t.height+l.margin[0]:t.height,s=Math.max(n=s,t.width),f.g.each(function(){var n=$t(this),i=n.selectAll("g"),u=n.selectAll("rect");e=o,i.each(function(){var e=$t(this),n=e.selectAll("path"),i=e.selectAll("text");r=p.margin[1],o+=p.margin[0],t=a(e,null,{icon:n,text:i},{y:o,x:r},{padding:p.padding}),o+=t.height+p.margin[0],s=Math.max(s,t.width+p.margin[1])}),u.attr("x",r).attr("y",e).attr("width",s).attr("height",o-e),o+=p.margin[0]}),s>n&&i.attr("width",s),s+=2*p.margin[1],o+=l.margin[1]-p.margin[0],{height:o,width:s}},ne._mountAtomicComponent=function(t,e,n,i,r){var o,a,s,u,l=0,c=this.smartlabel,h=r.padding[2]||0,p=r.padding[1],f=r.padding[0];return u=n.text.selectAll("tspan").data(function(e){return s=K.SEPARATOR._def(c.setStyle(ee.getSmartComputedStyle(t)),e.map(function(t){return ee.getArgedText(t)}),t.datum().breakBy),s.ignore?[]:e}),n.icon.attr("d",function(t){var e,n,r;return s.ignore?null:(e=t.icon)&&"function"==typeof e?(n=e(.5*s.oriHeight+i.x+p,.5*s.oriHeight+i.y+f,.5*s.oriHeight,this.context),n&&(l=s.oriHeight),r=ee.getArgedText(n),ee.applyStyleObj($t(this),r[1].style),r[0]):void 0}),u.exit().remove(),u.enter().append("tspan").merge(u).text(function(t){var e=ee.getArgedText(t),n=e[1].style;return ee.applyStyleObj($t(this),n),e[0]}).attr("dx",function(t,e){return s.fn(e).x}),n.text.attr("x",l+h+i.x+p).attr("y",i.y+f).attr("dy","0.92em"),o=l+h+s.oriWidth+2*p,a=s.oriHeight?s.oriHeight+2*f:s.oriHeight,e&&e.attr("x",i.x).attr("y",i.y).attr("height",a).attr("width",o),{height:a,width:o}},t.tooltip=J,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return t&&t.__esModule?t["default"]:t}function n(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t,e){var n,i,r,o="W",a={"fill-opacity":0},s="string"==typeof e?e:void 0;return n=t.append("text").text(o),s&&n.attr("class",s),n.style(a),i=window.getComputedStyle(n.node()),r={fontSize:i.fontSize,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontStyle:i.fontStyle},n.remove(),r}function r(t,e,n,r){var o,a=i(n,e);return r.setStyle(a),o=r.getOriSize(t),{width:o.width,height:o.height}}function o(t,e,n){var i,r;for(i in t)if(r=t[i],void 0!==r&&null!==r)if(n){if(e[i])continue;e[i]=r}else"object"==typeof r?(void 0===e[i]&&(e[i]={}),o(r,e[i],n)):e[i]=r}function a(t,e){var n;for(n in e)t.style(n,e[n])}function s(t,e){var n;for(n in e)t.attr(n,e[n])}function u(t){return t&&t.nodeName&&"DIV"===t.nodeName.toUpperCase()?!0:!1}function l(){return Rn.smartLabel||(Rn.smartLabel=new Ln((new Date).getTime()))}function c(t){this.groupId=t,this.listItems=[],this.hideFnIds=[]}function h(t){var e=t.append("div");this.groupId="dropDownMenu-"+(new Date).getTime(),this.parentContainer=e,this.listItems=[],this.config={}}function p(t){return new h(t)}function f(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===jn&&e.documentElement.namespaceURI===jn?e.createElement(t):e.createElementNS(n,t)}}function g(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function d(t,e,n){return t=m(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function m(t,e,n){return function(i){var r=Un;Un=i;try{t.call(this,this.__data__,e,n)}finally{Un=r}}}function y(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function v(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;o>i;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function x(t,e,n){var i=Vn.hasOwnProperty(t.type)?d:m;return function(r,o,a){var s,u=this.__on,l=i(e,o,a);if(u)for(var c=0,h=u.length;h>c;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function w(){}function b(){return[]}function C(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function _(t,e,n,i,r,o){for(var a,s=0,u=e.length,l=o.length;l>s;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new C(t,o[s]);for(;u>s;++s)(a=e[s])&&(r[s]=a)}function M(t,e,n,i,r,o,a){var s,u,l,c={},h=e.length,p=o.length,f=new Array(h);for(s=0;h>s;++s)(u=e[s])&&(f[s]=l=ri+a.call(u,u.__data__,s,e),l in c?r[s]=u:c[l]=u);for(s=0;p>s;++s)l=ri+a.call(t,o[s],s,o),(u=c[l])?(i[s]=u,u.__data__=o[s],c[l]=null):n[s]=new C(t,o[s]);for(s=0;h>s;++s)(u=e[s])&&c[f[s]]===u&&(r[s]=u)}function S(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function A(t){return function(){this.removeAttribute(t)}}function k(t){return function(){this.removeAttributeNS(t.space,t.local)}}function N(t,e){return function(){this.setAttribute(t,e)}}function I(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function T(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function P(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function L(t){return function(){this.style.removeProperty(t)}}function D(t,e,n){return function(){this.style.setProperty(t,e,n)}}function F(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function E(t){return function(){delete this[t]}}function R(t,e){return function(){this[t]=e}}function O(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function j(t){return t.trim().split(/^|\s+/)}function H(t){return t.classList||new B(t)}function B(t){this._node=t,this._names=j(t.getAttribute("class")||"")}function G(t,e){for(var n=H(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function W(t,e){for(var n=H(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function z(t){return function(){G(this,t)}}function X(t){return function(){W(this,t)}}function Y(t,e){return function(){(e.apply(this,arguments)?G:W)(this,t)}}function V(){this.textContent=""}function U(t){return function(){this.textContent=t}}function q(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Z(){this.innerHTML=""}function $(t){return function(){this.innerHTML=t}}function Q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function K(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tt(){return null}function et(){var t=this.parentNode;t&&t.removeChild(this)}function nt(t,e,n){var i=yi(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function it(t,e){return function(){return nt(this,t,e)}}function rt(t,e){return function(){return nt(this,t,e.apply(this,arguments))}}function ot(t,e){this._groups=t,this._parents=e}function at(){return new ot([[document.documentElement]],Ti)}function st(){for(var t,e=0,n=arguments.length,i={};n>e;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new ut(i)}function ut(t){this._=t}function lt(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function ct(t,e){for(var n,i=0,r=t.length;r>i;++i)if((n=t[i]).name===e)return n.value}function ht(t,e,n){for(var i=0,r=t.length;r>i;++i)if(t[i].name===e){t[i]=Li,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function pt(){return Bi||(zi(ft),Bi=Wi.now()+Gi)}function ft(){Bi=0}function gt(){this._call=this._time=this._next=null}function dt(t,e,n){var i=new gt;return i.restart(t,e,n),i}function mt(){pt(),++Ei;for(var t,e=Di;e;)(t=Bi-e._time)>=0&&e._call.call(null,t),e=e._next;--Ei}function yt(){Bi=(Hi=Wi.now())+Gi,Ei=Ri=0;try{mt()}finally{Ei=0,xt(),Bi=0}}function vt(){var t=Wi.now(),e=t-Hi;e>ji&&(Gi-=e,Hi=t)}function xt(){for(var t,e,n=Di,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Di=e);Fi=t,wt(i)}function wt(t){if(!Ei){Ri&&(Ri=clearTimeout(Ri));var e=t-Bi;e>24?(1/0>t&&(Ri=setTimeout(yt,e)),Oi&&(Oi=clearInterval(Oi))):(Oi||(Oi=setInterval(vt,ji)),Ei=1,zi(yt))}}function bt(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Ui)throw new Error("too late");return n}function Ct(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Zi)throw new Error("too late");return n}function _t(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Mt(t,e,n){function i(t){n.state=qi,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var l,c,h,p;if(n.state!==qi)return a();for(l in u)if(p=u[l],p.name===n.name){if(p.state===$i)return Xi(r);p.state===Qi?(p.state=Ji,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete u[l]):e>+l&&(p.state=Ji,p.timer.stop(),delete u[l])}if(Xi(function(){n.state===$i&&(n.state=Qi,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=Zi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Zi){for(n.state=$i,s=new Array(h=n.tween.length),l=0,c=-1;h>l;++l)(p=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(s[++c]=p);s.length=c+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=Ki,1),r=-1,o=s.length;++r<o;)s[r].call(null,i);
n.state===Ki&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Ji,n.timer.stop(),delete u[e];for(var i in u)return;delete t.__transition}var s,u=t.__transition;u[e]=n,n.timer=dt(i,0,n.time)}function St(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function At(){}function kt(t){var e;return t=(t+"").trim().toLowerCase(),(e=lr.exec(t))?(e=parseInt(e[1],16),new Lt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=cr.exec(t))?Nt(parseInt(e[1],16)):(e=hr.exec(t))?new Lt(e[1],e[2],e[3],1):(e=pr.exec(t))?new Lt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=fr.exec(t))?It(e[1],e[2],e[3],e[4]):(e=gr.exec(t))?It(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=dr.exec(t))?Dt(e[1],e[2]/100,e[3]/100,1):(e=mr.exec(t))?Dt(e[1],e[2]/100,e[3]/100,e[4]):yr.hasOwnProperty(t)?Nt(yr[t]):"transparent"===t?new Lt(NaN,NaN,NaN,0):null}function Nt(t){return new Lt(t>>16&255,t>>8&255,255&t,1)}function It(t,e,n,i){return 0>=i&&(t=e=n=NaN),new Lt(t,e,n,i)}function Tt(t){return t instanceof At||(t=kt(t)),t?(t=t.rgb(),new Lt(t.r,t.g,t.b,t.opacity)):new Lt}function Pt(t,e,n,i){return 1===arguments.length?Tt(t):new Lt(t,e,n,null==i?1:i)}function Lt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Dt(t,e,n,i){return 0>=i?t=e=n=NaN:0>=n||n>=1?t=e=NaN:0>=e&&(t=NaN),new Rt(t,e,n,i)}function Ft(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof At||(t=kt(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(i>n):n===o?(i-e)/s+2:(e-n)/s+4,s/=.5>u?o+r:2-o-r,a*=60):s=u>0&&1>u?0:a,new Rt(a,s,u,t.opacity)}function Et(t,e,n,i){return 1===arguments.length?Ft(t):new Rt(t,e,n,null==i?1:i)}function Rt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Ot(t,e,n){return 255*(60>t?e+(n-e)*t/60:180>t?n:240>t?e+(n-e)*(240-t)/60:e)}function jt(t){if(t instanceof Bt)return new Bt(t.l,t.a,t.b,t.opacity);if(t instanceof Ut){var e=t.h*vr;return new Bt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Lt||(t=Tt(t));var n=Xt(t.r),i=Xt(t.g),r=Xt(t.b),o=Gt((.4124564*n+.3575761*i+.1804375*r)/br),a=Gt((.2126729*n+.7151522*i+.072175*r)/Cr),s=Gt((.0193339*n+.119192*i+.9503041*r)/_r);return new Bt(116*a-16,500*(o-a),200*(a-s),t.opacity)}function Ht(t,e,n,i){return 1===arguments.length?jt(t):new Bt(t,e,n,null==i?1:i)}function Bt(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Gt(t){return t>kr?Math.pow(t,1/3):t/Ar+Mr}function Wt(t){return t>Sr?t*t*t:Ar*(t-Mr)}function zt(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Xt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Yt(t){if(t instanceof Ut)return new Ut(t.h,t.c,t.l,t.opacity);t instanceof Bt||(t=jt(t));var e=Math.atan2(t.b,t.a)*xr;return new Ut(0>e?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Vt(t,e,n,i){return 1===arguments.length?Yt(t):new Ut(t,e,n,null==i?1:i)}function Ut(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function qt(t){if(t instanceof $t)return new $t(t.h,t.s,t.l,t.opacity);t instanceof Lt||(t=Tt(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Er*i+Dr*e-Fr*n)/(Er+Dr-Fr),o=i-r,a=(Lr*(n-r)-Tr*o)/Pr,s=Math.sqrt(a*a+o*o)/(Lr*r*(1-r)),u=s?Math.atan2(a,o)*xr-120:NaN;return new $t(0>u?u+360:u,s,r,t.opacity)}function Zt(t,e,n,i){return 1===arguments.length?qt(t):new $t(t,e,n,null==i?1:i)}function $t(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qt(t,e){return function(n){return t+n*e}}function Kt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Jt(t,e){var n=e-t;return n?Qt(t,n>180||-180>n?n-360*Math.round(n/360):n):Br(isNaN(t)?e:t)}function te(t){return 1===(t=+t)?ee:function(e,n){return n-e?Kt(e,n,t):Br(isNaN(e)?n:e)}}function ee(t,e){var n=e-t;return n?Qt(t,n):Br(isNaN(t)?e:t)}function ne(t){return function(){return t}}function ie(t){return function(e){return t(e)+""}}function re(t){return"none"===t?Qr:(Rr||(Rr=document.createElement("DIV"),Or=document.documentElement,jr=document.defaultView),Rr.style.transform=t,t=jr.getComputedStyle(Or.appendChild(Rr),null).getPropertyValue("transform"),Or.removeChild(Rr),t=t.slice(7,-1).split(","),Kr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function oe(t){return null==t?Qr:(Hr||(Hr=document.createElementNS("http://www.w3.org/2000/svg","g")),Hr.setAttribute("transform",t),(t=Hr.transform.baseVal.consolidate())?(t=t.matrix,Kr(t.a,t.b,t.c,t.d,t.e,t.f)):Qr)}function ae(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,a,s){if(t!==r||i!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Xr(t,r)},{i:u-2,x:Xr(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Xr(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function s(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Xr(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function u(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Xr(t,n)},{i:s-2,x:Xr(e,i)})}else(1!==n||1!==i)&&o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),a(e.rotate,n.rotate,i,r),s(e.skewX,n.skewX,i,r),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function se(t){return function e(n){function i(e,i){var r=t((e=Zt(e)).h,(i=Zt(i)).h),o=ee(e.s,i.s),a=ee(e.l,i.l),s=ee(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}function ue(t,e){var n,i;return function(){var r=Ct(this,t),o=r.tween;if(o!==n){i=n=o;for(var a=0,s=i.length;s>a;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function le(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Ct(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},u=0,l=r.length;l>u;++u)if(r[u].name===e){r[u]=s;break}u===l&&r.push(s)}o.tween=r}}function ce(t,e,n){var i=t._id;return t.each(function(){var t=Ct(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return _t(t,i).value[e]}}function he(t){return function(){this.removeAttribute(t)}}function pe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fe(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function ge(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function de(t,e,n){var i,r,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===i&&s===r?o:o=e(i=a,r=s))}}function me(t,e,n){var i,r,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===i&&s===r?o:o=e(i=a,r=s))}}function ye(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function ve(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function xe(t,e){return function(){bt(this,t).delay=+e.apply(this,arguments)}}function we(t,e){return e=+e,function(){bt(this,t).delay=e}}function be(t,e){return function(){Ct(this,t).duration=+e.apply(this,arguments)}}function Ce(t,e){return e=+e,function(){Ct(this,t).duration=e}}function _e(t,e){if("function"!=typeof e)throw new Error;return function(){Ct(this,t).ease=e}}function Me(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function Se(t,e,n){var i,r,o=Me(e)?bt:Ct;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}function Ae(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ke(t,e){var n,i,r;return function(){var o=yi(this).getComputedStyle(this,null),a=o.getPropertyValue(t),s=(this.style.removeProperty(t),o.getPropertyValue(t));return a===s?null:a===n&&s===i?r:r=e(n=a,i=s)}}function Ne(t){return function(){this.style.removeProperty(t)}}function Ie(t,e,n){var i,r;return function(){var o=yi(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===i?r:r=e(i=o,n)}}function Te(t,e,n){var i,r,o;return function(){var a=yi(this).getComputedStyle(this,null),s=a.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=a.getPropertyValue(t)),s===u?null:s===i&&u===r?o:o=e(i=s,r=u)}}function Pe(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}function Le(t){return function(){this.textContent=t}}function De(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function Fe(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Ee(t){return at().transition(t)}function Re(){return++bo}function Oe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function je(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return No.time=pt(),No;return n}function He(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Be(){}function Ge(t){var e;return t=(t+"").trim().toLowerCase(),(e=Ro.exec(t))?(e=parseInt(e[1],16),new Ve(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Oo.exec(t))?We(parseInt(e[1],16)):(e=jo.exec(t))?new Ve(e[1],e[2],e[3],1):(e=Ho.exec(t))?new Ve(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Bo.exec(t))?ze(e[1],e[2],e[3],e[4]):(e=Go.exec(t))?ze(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Wo.exec(t))?Ue(e[1],e[2]/100,e[3]/100,1):(e=zo.exec(t))?Ue(e[1],e[2]/100,e[3]/100,e[4]):Xo.hasOwnProperty(t)?We(Xo[t]):"transparent"===t?new Ve(NaN,NaN,NaN,0):null}function We(t){return new Ve(t>>16&255,t>>8&255,255&t,1)}function ze(t,e,n,i){return 0>=i&&(t=e=n=NaN),new Ve(t,e,n,i)}function Xe(t){return t instanceof Be||(t=Ge(t)),t?(t=t.rgb(),new Ve(t.r,t.g,t.b,t.opacity)):new Ve}function Ye(t,e,n,i){return 1===arguments.length?Xe(t):new Ve(t,e,n,null==i?1:i)}function Ve(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Ue(t,e,n,i){return 0>=i?t=e=n=NaN:0>=n||n>=1?t=e=NaN:0>=e&&(t=NaN),new $e(t,e,n,i)}function qe(t){if(t instanceof $e)return new $e(t.h,t.s,t.l,t.opacity);if(t instanceof Be||(t=Ge(t)),!t)return new $e;if(t instanceof $e)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(i>n):n===o?(i-e)/s+2:(e-n)/s+4,s/=.5>u?o+r:2-o-r,a*=60):s=u>0&&1>u?0:a,new $e(a,s,u,t.opacity)}function Ze(t,e,n,i){return 1===arguments.length?qe(t):new $e(t,e,n,null==i?1:i)}function $e(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qe(t,e,n){return 255*(60>t?e+(n-e)*t/60:180>t?n:240>t?e+(n-e)*(240-t)/60:e)}function Ke(t){if(t instanceof tn)return new tn(t.l,t.a,t.b,t.opacity);if(t instanceof un){var e=t.h*Yo;return new tn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Ve||(t=Xe(t));var n=on(t.r),i=on(t.g),r=on(t.b),o=en((.4124564*n+.3575761*i+.1804375*r)/qo),a=en((.2126729*n+.7151522*i+.072175*r)/Zo),s=en((.0193339*n+.119192*i+.9503041*r)/$o);return new tn(116*a-16,500*(o-a),200*(a-s),t.opacity)}function Je(t,e,n,i){return 1===arguments.length?Ke(t):new tn(t,e,n,null==i?1:i)}function tn(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function en(t){return t>ta?Math.pow(t,1/3):t/Jo+Qo}function nn(t){return t>Ko?t*t*t:Jo*(t-Qo)}function rn(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function on(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function an(t){if(t instanceof un)return new un(t.h,t.c,t.l,t.opacity);t instanceof tn||(t=Ke(t));var e=Math.atan2(t.b,t.a)*Vo;return new un(0>e?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function sn(t,e,n,i){return 1===arguments.length?an(t):new un(t,e,n,null==i?1:i)}function un(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function ln(t){if(t instanceof hn)return new hn(t.h,t.s,t.l,t.opacity);t instanceof Ve||(t=Xe(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(ua*i+aa*e-sa*n)/(ua+aa-sa),o=i-r,a=(oa*(n-r)-ia*o)/ra,s=Math.sqrt(a*a+o*o)/(oa*r*(1-r)),u=s?Math.atan2(a,o)*Vo-120:NaN;return new hn(0>u?u+360:u,s,r,t.opacity)}function cn(t,e,n,i){return 1===arguments.length?ln(t):new hn(t,e,n,null==i?1:i)}function hn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function pn(t,e){return function(n){return t+n*e}}function fn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function gn(t,e){var n=e-t;return n?pn(t,n>180||-180>n?n-360*Math.round(n/360):n):la(isNaN(t)?e:t)}function dn(t){return 1===(t=+t)?mn:function(e,n){return n-e?fn(e,n,t):la(isNaN(e)?n:e)}}function mn(t,e){var n=e-t;return n?pn(t,n):la(isNaN(t)?e:t)}function yn(t){return function(){return t}}function vn(t){return function(e){return t(e)+""}}function xn(t){return function e(n){function i(e,i){var r=t((e=cn(e)).h,(i=cn(i)).h),o=mn(e.s,i.s),a=mn(e.l,i.l),s=mn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}function wn(){return va.smartLabel||(va.smartLabel=new Ln((new Date).getTime()))}function bn(t){this.symbol=t,this.config={className:"d3-button",specificClassName:"d3-button",states:{hover:"d3-button-state-hover",selected:"d3-button-state-selected",disabled:"d3-button-state-disabled"},padding:{top:4,right:4,bottom:4,left:4},radius:1,margin:{top:0,right:5,left:5,bottom:0},animation:{duration:1e3}},this.elements={}}function Cn(){bn.apply(this,arguments),this.setConfig({className:"d3-inputbutton",states:{hover:"d3-inputbutton-state-hover",selected:"d3-inputbutton-state-selected",disabled:"d3-inputbutton-state-disabled"},padding:{left:10}})}function _n(t){return new bn(t)}function Mn(t){return new Cn(t)}function Sn(t){this.options=t,bn.apply(this,arguments),this.setConfig({className:"d3-selectbutton",states:{hover:"d3-selectbutton-state-hover",selected:"d3-selectbutton-state-selected"},dropDownMenu:ya()})}function An(t,e){bn.apply(this,arguments),this.dropDownMenu=new p(Pi(e)),this.setConfig({dropDownMenu:ya()}),this.dropDownMenu.setConfig(this.config.dropDownMenu)}function kn(t,e){return new An(t,e)}function Nn(t){return new Sn(t)}var In=n(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){var e=t.document,i=t.navigator,r=i.userAgent,o="DIV",a=Math.ceil,s=Math.floor,u=0,l="fusioncharts-smartlabel-",c=l+"container",h=l+"tag",p=l+"br";return n={win:t,containerClass:c,classNameWithTag:h,classNameWithTagBR:p,maxDefaultCacheLimit:500,classNameReg:new RegExp("\b"+h+"\b"),classNameBrReg:new RegExp("\b"+p+"\b"),spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+h+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+h+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),ltgtRegex:/&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,i,o;return e.getElementsByClassName?(n="getElementsByClassName",i=h,o=!0):(n="getElementsByTagName",i="span",o=!1),{isIE:/msie/i.test(r)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(r),isWebKit:new RegExp(" AppleWebKit/").test(r),childRetriverFn:n,childRetriverString:i,noClassTesting:o}},createContainer:function(t){var n,i;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(i=e.createElement(o)),i.className=c,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),i}else if(n=e.getElementsByTagName("body")[0],n&&n.appendChild)return i=e.createElement(o),i.className=c,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),u+=1,n.appendChild(i),i},getNearestBreakIndex:function(t,e,n){if(!t||!t.length)return 0;var i,r=n._getWidthFn(),o=0,u=0,l=r(t),c=l/t.length;if(i=e,o=a(e/c),e>l)return t.length-1;for(o>t.length&&(i=e-l,o=t.length);i>0;){if(i=e-r(t.substr(0,o)),u=s(i/c),!u)return o;o+=u}for(;0>i;){if(i=e-r(t.substr(0,o)),u=s(i/c),!u)return o;o+=u}return o},setLineHeight:function(t){var e=t.fontSize=t.fontSize||"12px";return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t}}}};e["default"]=n,t.exports=e["default"]}),Tn=n(function(t){function e(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,n){var i;n=n>5?n:5,n=20>n?n:20,this.maxContainers=n,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&(i=a.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),i.setAttributeNS("http://www.w3.org/2000/svg","height","0"),i.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=i,this.rootNode.appendChild(i))}var i=In,r=e(i),o=r["default"].init("undefined"!=typeof window?window:void 0),a=o.win.document,s=o.getDocumentSupport(),u=s.isWebKit?0:4.5;n.prototype.get=function(t){var e,n,i,r=this.containers,a=this.length,s=this.maxContainers,u="";for(n in o.supportedStyle)void 0!==t[n]&&(u+=o.supportedStyle[n]+":"+t[n]+";");if(!u)return!1;if(i=r[u])this.first!==i&&(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.next=this.first,i.next.prev=i,this.last===i&&(this.last=i.prev),i.prev=null,this.first=i);else{if(a>=s)for(e=a-s+1;e--;)this.removeContainer(this.last);i=this.addContainer(u)}return i},n.prototype.addContainer=function(t){var e,n;return this.containers[t]=n={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},n.next=this.first,n.next&&(n.next.prev=n),this.first=n,this.last||(this.last=n),this.length+=1,e=n.node=a.createElement("div"),this.rootNode.appendChild(e),s.isIE&&!s.hasSVG?e.style.setAttribute("cssText",t):e.setAttribute("style",t),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=o.testStrAvg,n.lineHeight=e.offsetHeight,n.avgCharWidth=e.offsetWidth/3,s.isBrowserLess?(e=n.svgText=a.createElementNS("http://www.w3.org/2000/svg","text"),e.setAttribute("style",t),this.svgRoot.appendChild(e),e.textContent=o.testStrAvg,n.lineHeight=e.getBBox().height,n.avgCharWidth=(e.getBBox().width-u)/3,e.textContent="...",n.ellipsesWidth=e.getBBox().width-u,e.textContent=".",n.dotWidth=e.getBBox().width-u):(e.innerHTML="...",n.ellipsesWidth=e.offsetWidth,e.innerHTML=".",n.dotWidth=e.offsetWidth,e.innerHTML=""),n},n.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node.parentNode.removeChild(t.node),delete this.containers[e])},n.prototype.dispose=function(){var t,e=this.containers;this.maxContainers=null;for(t in e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null},t.exports=n}),Pn=n(function(t,e){function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r){var o,a,c,h,p=!1,f=i.store;if("undefined"!=typeof t&&"object"!=typeof t){(h=f[t])&&h.dispose(),f[t]=this,r=r||{},r.maxCacheLimit=isFinite(c=r.maxCacheLimit)?c:u.maxDefaultCacheLimit,"string"==typeof e&&(e=l.getElementById(e)),o=u.createContainer(e),o.innerHTML=u.testStrAvg,(d.isHeadLess||!d.isIE&&!o.offsetHeight&&!o.offsetWidth)&&(p=!0),o.innerHTML="";for(a in u.parentContainerStyle)o.style[a]=u.parentContainerStyle[a];this.id=t,this.parentContainer=o,this._containerManager=new s["default"](o,p,10),this._showNoEllipses=!n,this._init=!0,this.style={},this.options=r,this.setStyle()}}Object.defineProperty(e,"__esModule",{value:!0});var r=In,o=n(r),a=Tn,s=n(a),u=o["default"].init("undefined"!=typeof window?window:void 0),l=u.win.document,c=u.win.Math,h=c.max,p=c.round,f="",g={" ":"&nbsp;"},d=u.getDocumentSupport(),m=d.isWebKit?0:4.5;i.textToLines=function(t){return t=t||{},t.text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},i.store={},i.prototype._calCharDimWithCache=function(t,e,n){if(!this._init)return!1;var i,r,o,a,s,u,l=this.options.maxCacheLimit,c=this._container,h=this.style||{},p=this._advancedCache||(this._advancedCache={}),d=this._advancedCacheKey||(this._advancedCacheKey=[]),m=t+(h.fontSize||f)+(h.fontFamily||f)+(h.fontWeight||f)+(h.fontStyle||f),y=t+"init"+(h.fontSize||f)+(h.fontFamily||f)+(h.fontWeight||f)+(h.fontStyle||f);return g[t]&&(t=g[t]),e?void 0===(u=p[y])&&(c.innerHTML=t.repeat?t.repeat(n):Array(n+1).join(t),o=c.offsetWidth,c.innerHTML=t,a=c.offsetWidth,u=p[y]=(o-n*a)/(n+1),d.push(y),d.length>l&&delete p[d.shift()]):u=0,(s=p[m])?(r=s.split(","),{width:parseFloat(r[0],10),height:parseFloat(r[1],10)}):(c.innerHTML=t,i={height:c.offsetHeight,width:c.offsetWidth+u},p[m]=i.width+","+i.height,d.push(m),d.length>l&&delete p[d.shift()],i)},i.prototype._getWidthFn=function(){var t=this._containerObj,e=this._container,n=t.svgText;return n?function(t){var e,i;return n.textContent=t,e=n.getBBox(),i=e.width-m,1>i&&(i=e.width),i}:function(t){return e.innerHTML=t,e.offsetWidth}},i.prototype.setStyle=function(t){if(!this._init)return this;var e;if(t!==this.style||this._styleNotSet)return t||(t=this.style),u.setLineHeight(t),this.style=t,this._containerObj=e=this._containerManager.get(t),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,this},i.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},i.prototype.getSmartText=function(t,e,n,i){if(!this._init)return!1;void 0===t||null===t?t="":"string"!=typeof t&&(t=t.toString());var r,o,a,s,c,p,f,g,m,y,v,x,w,b,C,_,M,S,A,k,N,I,T,P,L,D,F=!1,E=0,R=-1,O=-1,j=-1,H=0,B=0,G=[],W=0,z=this._showNoEllipses?"":"...",X=this._lineHeight,Y=this._context,V=this._container,U=this._containerObj,q=U.ellipsesWidth,Z=U.dotWidth,$=[],Q=-1,K=-1,J=-1,tt=function(t){t=t.replace(/^\s\s*/,"");for(var e=/\s/,n=t.length;e.test(t.charAt(n-=1)););return t.slice(0,n+1)},et={text:t,maxWidth:e,maxHeight:n,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(x=this._getWidthFn(),n===X&&(n*=1.2),V){if(!d.isBrowserLess){if(F=u.xmlTagRegEx.test(t),F?(V.innerHTML=t,et.oriTextWidth=f=V.offsetWidth,et.oriTextHeight=g=V.offsetHeight):(s=t.replace(u.ltgtRegex,function(t){return"&lt;"===t?"<":">"}),C=this.getOriSize(s,!0),et.oriTextWidth=f=C.width,et.oriTextHeight=g=C.height),n>=g&&e>=f)return et.width=et.oriTextWidth=f,et.height=et.oriTextHeight=g,et;if(X>n)return et.text="",et.width=et.oriTextWidth=0,et.height=et.oriTextHeight=0,et}if(t=tt(t).replace(/(\s+)/g," "),c=this._showNoEllipses?e:e-q,!F){if(G=t.split(""),r=G.length,o="",a=[],v=G[0],this._cache[v]?A=this._cache[v].width:(A=x(v),this._cache[v]={width:A}),c>A)a=t.substr(0,u.getNearestBreakIndex(t,c,this)).split(""),W=a.length;else{if(A>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;z&&(c=e-2*Z,c>A?z="..":(c=e-Z,c>A?z=".":(c=0,z="")))}if(H=x(a.join("")),B=this._lineHeight,i){for(;r>W;W+=1)if(v=a[W]=G[W],this._cache[v]?A=this._cache[v].width:(C&&(A=C.detailObj[v])||(A=x(v)),this._cache[v]={width:A}),H+=A,H>c&&(o||(o=a.slice(0,-1).join("")),H>e))return et.text=tt(o)+z,et.tooltext=et.oriText,et.width=x(et.text),et.height=this._lineHeight,et;return et.text=a.join(""),et.width=H,et.height=this._lineHeight,et}for(;r>W;W+=1)if(v=a[W]=G[W]," "!==v||Y||(v="&nbsp;"),this._cache[v]?A=this._cache[v].width:(C&&(A=C.detailObj[v])||(A=x(v)),this._cache[v]={width:A}),H+=A,H>c&&(o||(o=a.slice(0,-1).join("")),H>e)){if(O=t.substr(0,a.length).lastIndexOf(" "),R=t.substr(0,a.length).lastIndexOf("-"),O>j?(H=x(a.slice(j+1,O).join("")),a.splice(O,1,"<br/>"),j=O,m=O+1):R>j?(R===a.length-1?(H=x(a.slice(j+1,O).join("")),a.splice(R,1,"<br/>-")):(H=x(a.slice(j+1,O).join("")),a.splice(R,1,"-<br/>")),j=R,m=R+1):(a.splice(a.length-1,1,"<br/>"+G[W]),J=a.length-2,H=x(a.slice(j+1,J+1).join("")),j=J,m=W),B+=this._lineHeight,B>n)return et.text=tt(o)+z,et.tooltext=et.oriText,et.width=e,et.height=B-this._lineHeight,et;E=h(E,H),o=null,y=u.getNearestBreakIndex(t.substr(m),c,this),H=x(t.substr(m,y||1)),a.length<m+y&&(a=a.concat(t.substr(a.length,m+y-a.length).split("")),W=a.length-1)}return E=h(E,H),et.text=a.join(""),et.width=E,et.height=B,et}for(p=t.replace(u.spanAdditionRegx,"$2"),t=t.replace(u.spanAdditionRegx,u.spanAdditionReplacer),t=t.replace(/(<br\s*\/*\>)/g,'<span class="'+[u.classNameWithTag," ",u.classNameWithTagBR].join("")+'">$1</span>'),V.innerHTML=t,_=V[d.childRetriverFn](d.childRetriverString),M=0,S=_.length;S>M;M+=1)k=_[M],(d.noClassTesting||u.classNameReg.test(k.className))&&(N=k.innerHTML,""!==N&&(" "===N?K=$.length:"-"===N&&(Q=$.length),$.push({spaceIdx:K,dashIdx:Q,elem:k}),G.push(N)));if(W=0,r=$.length,A=$[0].elem.offsetWidth,A>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;if(A>c&&!this._showNoEllipses&&(c=e-2*Z,c>A?z="..":(c=e-Z,c>A?z=".":(c=0,z=""))),w=$[0].elem.offsetLeft,b=$[0].elem.offsetTop,i)for(;r>W;W+=1)k=$[W].elem,I=k.offsetLeft-w+k.offsetWidth,I>c&&(D||(D=W),V.offsetWidth>e&&(L=W,W=r));else for(;r>W;W+=1)k=$[W].elem,T=k.offsetHeight+(k.offsetTop-b),I=k.offsetLeft-w+k.offsetWidth,P=null,I>c?(D||(D=W),I>e&&(O=$[W].spaceIdx,R=$[W].dashIdx,O>j?($[O].elem.innerHTML="<br/>",j=O):R>j?(R===W?$[R].elem.innerHTML="<br/>-":$[R].elem.innerHTML="-<br/>",j=R):k.parentNode.insertBefore(P=l.createElement("br"),k),k.offsetHeight+k.offsetTop>n?(P?P.parentNode.removeChild(P):j===R?$[R].elem.innerHTML="-":$[O].elem.innerHTML=" ",L=W,W=r):D=null)):T>n&&(L=W,W=r);if(r>L){for(et.isTruncated=!0,D=D?D:L,W=r-1;W>=D;W-=1)k=$[W].elem,k.parentNode.removeChild(k);for(;W>=0;W-=1)k=$[W].elem,u.classNameBrReg.test(k.className)?k.parentNode.removeChild(k):W=0}return et.text=V.innerHTML.replace(u.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),et.isTruncated&&(et.text+=z,et.tooltext=p),et.height=V.offsetHeight,et.width=V.offsetWidth,et}return et.error=new Error("Body Tag Missing!"),et},i.prototype.getOriSize=function(t,e){if(!this._init)return!1;var n,i,r,o,a,s=0,u=0,l={};if(!e)return this._calCharDimWithCache(t);for(n=t.split(""),o=0,a=n.length;a>o;o++)i=n[o],r=this._calCharDimWithCache(i,!0,n.length),u=h(u,r.height),s+=r.width,l[i]=r.width;return{width:p(s),height:u,detailObj:l}},i.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this},e["default"]=i,t.exports=e["default"]}),Ln=e(Pn),Dn="px",Fn=300,En=window.d3,Rn={},On={click:"touchend"};c.prototype.init=function(t){var e,n=this,i="createTouch"in document;this.container=En.select(t),this.container.node().groupId=this.groupId,e={position:"absolute","z-index":999999,overflow:"wrap",display:"none"},i||n.on("mouseout",function(t){var e=En.event.toElement||En.event.relatedTarget;e&&e.groupId===t.groupId||n.hide()},"default"),a(this.container,e)},c.prototype.getContainer=function(){return this.container},c.prototype.setParentListContainer=function(t){this.parentListCon=t},c.prototype.getDimensions=function(){var t,e=this.container,n=e.node();return e.style("display","block"),t={width:n.offsetWidth,height:n.offsetHeight},e.style("display","none"),t},c.prototype.show=function(t){var e,n,i,r,o,s,l=this.hideFnIds,c={},h=this.parentListCon,p=0,f=this.container.datum(),g=f.measurement||t,d=f.position,m=window.innerWidth,y=function(){var t=n.offsetLeft+n.offsetWidth+o.offsetWidth>m,e=n.offsetLeft-o.offsetWidth<0;return e?1:t?2:0};for(this.visible=!0,i=l.length;i>p;p++)clearTimeout(l[p]);l.length=0,t=this.target=t||this.target,this.container.style("display","block"),h?(h.show(),n=h.getContainer().node(),c.top=n.offsetTop+t.offsetTop+Dn,o=this.container.node(),s=y(o,n),"right"===d?(c.left=(2===s?n.offsetLeft-o.offsetWidth:n.offsetLeft+n.offsetWidth)+Dn,c.right="auto"):(c.left=(2===s||0===s?n.offsetLeft-o.offsetWidth:n.offsetLeft+n.offsetWidth)+Dn,c.right="auto")):!u(t)&&t&&t.getBBox?(e=t.getBBox(),r=this.container.node().offsetWidth,c.top=e.y+e.height+3+Dn,"left"===d?(c.left=e.x+Dn,c.right="auto"):"right"===d&&(c.left=e.x+e.width-r+Dn,c.right="auto")):g&&(c={left:void 0===g.left?"auto":g.left+Dn,top:void 0===g.top?"auto":g.top+Dn,right:void 0===g.right?"auto":g.right+Dn,bottom:void 0===g.bottom?"auto":g.bottom+Dn,width:void 0===g.width?"auto":g.width+Dn,height:void 0===g.height?"auto":g.height+Dn}),a(this.container,c)},c.prototype.hide=function(t){var e=this,n=e.parentListCon,i=e.onhide,r=void 0===t?Fn:t;n&&n.hide(r),this.visible=!1,this.hideFnIds.push(setTimeout(function(){e.container.style("display","none"),i&&i()},r))},c.prototype.classed=function(t,e){this.container.classed(t,e)},c.prototype.on=function(t,e,n){"undefined"==typeof this.container.node()["on"+t]?this["on"+t]=e:this.container.on(t+"."+(n||"custom"),e)},h.prototype.setConfig=function(t){return o(t,this.config),this},h.prototype.setMeasurement=function(t){var e=this.getFirstContainer();return e?e.getContainer().datum().measurement=t:this.measurement=t,this},h.prototype.setPosition=function(t){return this.position=t,this},h.prototype.classed=function(t,e){return this.container.classed(t,e),this.subContainers.forEach(function(n){n.classed(t,e)}),this},h.prototype.namespace=function(t){var e,n=this.config,i=n.container,r=n.listItem,o=r.states;i.className=t+"-"+i.className,r.className=t+"-"+r.className;for(e in o)o[e]=t+"-"+o[e]},h.prototype.add=function(t,e){var n,i,r,o,s,u,h=this,p=h.parentContainer,f=this.config,g=f.listItem||{},d=g.className,m=function(t){var e=h.config,n=e.listItem||{},i=n.states||{},r=i.hover,o=t.subContainer;t.parentContainer&&t.parentContainer.show(),t.interactivity!==!1&&t.listItem.classed(r,!0),o&&o.show(this),En.event.stopPropagation()},y=function(t){var e=h.config,n=e.listItem||{},i=n.states||{},r=i.hover;t.interactivity!==!1&&t.listItem.classed(r,!1),I||t.subContainer&&t.subContainer.hide(),En.event.stopPropagation()},v=function(){return this.parentNode===p.node()},x=function(t){I?t.subContainer||t.parentContainer&&t.parentContainer.hide(1):(t.parentContainer&&t.parentContainer.hide(1),t.subContainer&&t.subContainer.hide(1)),En.event.stopPropagation()},w=function(t){t.container.init(this)},b=f.container&&f.container.className,C=h.containerData||(h.containerData=[]),_=0,M={left:8,right:8,top:3,bottom:3},S={margin:"2px 2px 2px 2px",display:"block"},A={height:"1px",margin:"1px",padding:"0px",display:"block"},k="&#9666;",N=l(),I="createTouch"in document;return C[_]?n=C[_].container:C[_]={container:n=new c(this.groupId),groupId:this.groupId,measurement:this.measurement,position:this.position},r=p.selectAll("div").filter(v).data(C),r.enter().append("div").each(w),n.classed(b,!0),this.container=n,_++,t=h.listItems=h.listItems.concat(t),function T(t,e,n){var r,l,f,g,P,L,D;return L=e?e:h.container,f=L.getContainer(),r=t instanceof Array?t:[t],
P=f.selectAll("div").data(r),P.exit().style("display","none"),D=P.enter().append("div").merge(P),D.each(function(t){var e,r,P,D;D=t.name,e=t.action,r=t.handler,P=t.className,u=t.padding||{},l=En.select(this).classed(d,!0),P&&l.classed(t.className,!0),t.listItem=l,n&&(t.parentListItem=n),t.parentContainer=L,a(l,t.divider?A:S),r&&"function"!=typeof r?(a(l,{"padding-right":(u.right||M.right)+"px","padding-bottom":(u.bottom||M.bottom)+"px","padding-top":(u.top||M.top)+"px"}),o=[{html:k,style:{"padding-left":M.left+Dn}},{html:D,style:{"padding-left":u.left-N.getOriSize("&#9666;").width-M.left+"px"}}],s=l.selectAll("span").data(o),s.enter().append("span").merge(s).each(function(t){a(En.select(this).html(t.html),t.style)}),C[_]?f=C[_].container:C[_]={container:f=new c(h.groupId),groupId:h.groupId,position:h.position},_++,i=p.selectAll("div").filter(v).data(C),i.enter().append("div").each(w),g=T(r,f,l),g.classed(b,!0),t.subContainer=g,g.setParentListContainer(L)):(l.html(D),t.divider!==!0&&a(l,{"padding-left":(u.left||M.left)+"px","padding-right":(u.right||M.right)+"px","padding-bottom":(u.bottom||M.bottom)+"px","padding-top":(u.top||M.top)+"px"})),t.divider!==!0&&(I?(l.on("touchstart.hover",m),l.on("touchend.hoverout",y),l.on("touchend.click",x)):(l.on("mouseover.default",m),l.on("mouseout.default",y),l.on("click.default",x)),e&&"function"==typeof r&&(I?l.on(On[e]+".custom",r):l.on(e+".custom",r)))}),L}(t,e,null),h},h.prototype.show=function(t){0!==this.listItems.length&&this.container.show(t)},h.prototype.hide=function(){0!==this.listItems.length&&(this.container.hide(),this.container.getContainer().selectAll("div").each(function(t){t.subContainer&&t.subContainer.hide()}))},h.prototype.toggleVisibility=function(){0!==this.listItems.length&&(this.container.visible?this.hide():this.show())},h.prototype.getFirstContainer=function(){return this.container},h.prototype.flushItems=function(){this.listItems.length=0};var jn="http://www.w3.org/1999/xhtml",Hn={svg:"http://www.w3.org/2000/svg",xhtml:jn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bn=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Hn.hasOwnProperty(e)?{space:Hn[e],local:t}:t},Gn=function(t){var e=Bn(t);return(e.local?g:f)(e)},Wn=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var zn=document.documentElement;if(!zn.matches){var Xn=zn.webkitMatchesSelector||zn.msMatchesSelector||zn.mozMatchesSelector||zn.oMatchesSelector;Wn=function(t){return function(){return Xn.call(this,t)}}}}var Yn=Wn,Vn={},Un=null;if("undefined"!=typeof document){var qn=document.documentElement;"onmouseenter"in qn||(Vn={mouseenter:"mouseover",mouseleave:"mouseout"})}var Zn=function(t,e,n){var i,r,o=y(t+""),a=o.length;{if(!(arguments.length<2)){for(s=e?x:v,null==n&&(n=!1),i=0;a>i;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;c>l;++l)for(i=0,u=s[l];a>i;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value}},$n=function(t){return null==t?w:function(){return this.querySelector(t)}},Qn=function(t){"function"!=typeof t&&(t=$n(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a,s=e[r],u=s.length,l=i[r]=new Array(u),c=0;u>c;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new ot(i,this._parents)},Kn=function(t){return null==t?b:function(){return this.querySelectorAll(t)}},Jn=function(t){"function"!=typeof t&&(t=Kn(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;n>o;++o)for(var a,s=e[o],u=s.length,l=0;u>l;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),r.push(a));return new ot(i,r)},ti=function(t){"function"!=typeof t&&(t=Yn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;s>l;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new ot(i,this._parents)},ei=function(t){return new Array(t.length)},ni=function(){return new ot(this._enter||this._groups.map(ei),this._parents)};C.prototype={constructor:C,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ii=function(t){return function(){return t}},ri="$",oi=function(t,e){if(!t)return f=new Array(this.size()),l=-1,this.each(function(t){f[++l]=t}),f;var n=e?M:_,i=this._parents,r=this._groups;"function"!=typeof t&&(t=ii(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;o>l;++l){var c=i[l],h=r[l],p=h.length,f=t.call(c,c&&c.__data__,l,i),g=f.length,d=s[l]=new Array(g),m=a[l]=new Array(g),y=u[l]=new Array(p);n(c,h,d,m,y,f,e);for(var v,x,w=0,b=0;g>w;++w)if(v=d[w]){for(w>=b&&(b=w+1);!(x=m[b])&&++b<g;);v._next=x||null}}return a=new ot(a,i),a._enter=s,a._exit=u,a},ai=function(){return new ot(this._exit||this._groups.map(ei),this._parents)},si=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;o>s;++s)for(var u,l=e[s],c=n[s],h=l.length,p=a[s]=new Array(h),f=0;h>f;++f)(u=l[f]||c[f])&&(p[f]=u);for(;i>s;++s)a[s]=e[s];return new ot(a,this._parents)},ui=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},li=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=S);for(var n=this._groups,i=n.length,r=new Array(i),o=0;i>o;++o){for(var a,s=n[o],u=s.length,l=r[o]=new Array(u),c=0;u>c;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new ot(r,this._parents).order()},ci=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},hi=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},pi=function(){for(var t=this._groups,e=0,n=t.length;n>e;++e)for(var i=t[e],r=0,o=i.length;o>r;++r){var a=i[r];if(a)return a}return null},fi=function(){var t=0;return this.each(function(){++t}),t},gi=function(){return!this.node()},di=function(t){for(var e=this._groups,n=0,i=e.length;i>n;++n)for(var r,o=e[n],a=0,s=o.length;s>a;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},mi=function(t,e){var n=Bn(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?k:A:"function"==typeof e?n.local?P:T:n.local?I:N)(n,e))},yi=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},vi=function(t,e,n){var i;return arguments.length>1?this.each((null==e?L:"function"==typeof e?F:D)(t,e,null==n?"":n)):yi(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},xi=function(t,e){return arguments.length>1?this.each((null==e?E:"function"==typeof e?O:R)(t,e)):this.node()[t]};B.prototype={add:function(t){var e=this._names.indexOf(t);0>e&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var wi=function(t,e){var n=j(t+"");if(arguments.length<2){for(var i=H(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Y:e?z:X)(n,e))},bi=function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?q:U)(t)):this.node().textContent},Ci=function(t){return arguments.length?this.each(null==t?Z:("function"==typeof t?Q:$)(t)):this.node().innerHTML},_i=function(){return this.each(K)},Mi=function(){return this.each(J)},Si=function(t){var e="function"==typeof t?t:Gn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ai=function(t,e){var n="function"==typeof t?t:Gn(t),i=null==e?tt:"function"==typeof e?e:$n(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},ki=function(){return this.each(et)},Ni=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Ii=function(t,e){return this.each(("function"==typeof e?rt:it)(t,e))},Ti=[null];ot.prototype=at.prototype={constructor:ot,select:Qn,selectAll:Jn,filter:ti,data:oi,enter:ni,exit:ai,merge:si,order:ui,sort:li,call:ci,nodes:hi,node:pi,size:fi,empty:gi,each:di,attr:mi,style:vi,property:xi,classed:wi,text:bi,html:Ci,raise:_i,lower:Mi,append:Si,insert:Ai,remove:ki,datum:Ni,on:Zn,dispatch:Ii};var Pi=function(t){return"string"==typeof t?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],Ti)},Li={value:function(){}};ut.prototype=st.prototype={constructor:ut,on:function(t,e){var n,i=this._,r=lt(t+"",i),o=-1,a=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=ht(i[n],t.name,e);else if(null==e)for(n in i)i[n]=ht(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=ct(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ut(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;n>o;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;n>o;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;o>r;++r)i[r].value.apply(e,n)}};var Di,Fi,Ei=0,Ri=0,Oi=0,ji=1e3,Hi=0,Bi=0,Gi=0,Wi="object"==typeof performance&&performance.now?performance:Date,zi="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};gt.prototype=dt.prototype={constructor:gt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?pt():+n)+(null==e?0:+e),this._next||Fi===this||(Fi?Fi._next=this:Di=this,Fi=this),this._call=t,this._time=n,wt()},stop:function(){this._call&&(this._call=null,this._time=1/0,wt())}};var Xi=function(t,e,n){var i=new gt;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},Yi=st("start","end","interrupt"),Vi=[],Ui=0,qi=1,Zi=2,$i=3,Qi=4,Ki=5,Ji=6,tr=function(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Mt(t,n,{name:e,index:i,group:r,on:Yi,tween:Vi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ui})},er=function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state>Zi&&n.state<Ki,n.state=Ji,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}},nr=function(t){return this.each(function(){er(this,t)})},ir=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},rr=.7,or=1/rr,ar="\\s*([+-]?\\d+)\\s*",sr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ur="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lr=/^#([0-9a-f]{3})$/,cr=/^#([0-9a-f]{6})$/,hr=new RegExp("^rgb\\("+[ar,ar,ar]+"\\)$"),pr=new RegExp("^rgb\\("+[ur,ur,ur]+"\\)$"),fr=new RegExp("^rgba\\("+[ar,ar,ar,sr]+"\\)$"),gr=new RegExp("^rgba\\("+[ur,ur,ur,sr]+"\\)$"),dr=new RegExp("^hsl\\("+[sr,ur,ur]+"\\)$"),mr=new RegExp("^hsla\\("+[sr,ur,ur,sr]+"\\)$"),yr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ir(At,kt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),ir(Lt,Pt,St(At,{brighter:function(t){return t=null==t?or:Math.pow(or,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?rr:Math.pow(rr,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),ir(Rt,Et,St(At,{brighter:function(t){return t=null==t?or:Math.pow(or,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?rr:Math.pow(rr,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(.5>n?n:1-n)*e,r=2*n-i;return new Lt(Ot(t>=240?t-240:t+120,r,i),Ot(t,r,i),Ot(120>t?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var vr=Math.PI/180,xr=180/Math.PI,wr=18,br=.95047,Cr=1,_r=1.08883,Mr=4/29,Sr=6/29,Ar=3*Sr*Sr,kr=Sr*Sr*Sr;ir(Bt,Ht,St(At,{brighter:function(t){return new Bt(this.l+wr*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Bt(this.l-wr*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Cr*Wt(t),e=br*Wt(e),n=_r*Wt(n),new Lt(zt(3.2404542*e-1.5371385*t-.4985314*n),zt(-.969266*e+1.8760108*t+.041556*n),zt(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),ir(Ut,Vt,St(At,{brighter:function(t){return new Ut(this.h,this.c,this.l+wr*(null==t?1:t),this.opacity)},darker:function(t){return new Ut(this.h,this.c,this.l-wr*(null==t?1:t),this.opacity)},rgb:function(){return jt(this).rgb()}}));var Nr=-.14861,Ir=1.78277,Tr=-.29227,Pr=-.90649,Lr=1.97294,Dr=Lr*Pr,Fr=Lr*Ir,Er=Ir*Tr-Pr*Nr;ir($t,Zt,St(At,{brighter:function(t){return t=null==t?or:Math.pow(or,t),new $t(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?rr:Math.pow(rr,t),new $t(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*vr,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Lt(255*(e+n*(Nr*i+Ir*r)),255*(e+n*(Tr*i+Pr*r)),255*(e+n*(Lr*i)),this.opacity)}}));var Rr,Or,jr,Hr,Br=function(t){return function(){return t}},Gr=function wa(t){function e(t,e){var i=n((t=Pt(t)).r,(e=Pt(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=n(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}var n=te(t);return e.gamma=wa,e}(1),Wr=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),a=new Array(i);for(n=0;r>n;++n)o[n]=Zr(t[n],e[n]);for(;i>n;++n)a[n]=e[n];return function(t){for(n=0;r>n;++n)a[n]=o[n](t);return a}},zr=function(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}},Xr=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},Yr=function(t,e){var n,i={},r={};(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={});for(n in e)n in t?i[n]=Zr(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},Vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ur=new RegExp(Vr.source,"g"),qr=function(t,e){var n,i,r,o=Vr.lastIndex=Ur.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Vr.exec(t))&&(i=Ur.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Xr(n,i)})),o=Ur.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?ie(u[0].x):ne(e):(e=u.length,function(t){for(var n,i=0;e>i;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})},Zr=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?Br(e):("number"===i?Xr:"string"===i?(n=kt(e))?(e=n,Gr):qr:e instanceof kt?Gr:e instanceof Date?zr:Array.isArray(e)?Wr:isNaN(e)?Yr:Xr)(t,e)},$r=180/Math.PI,Qr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Kr=function(t,e,n,i,r,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),e*n>t*i&&(t=-t,e=-e,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*$r,skewX:Math.atan(u)*$r,scaleX:a,scaleY:s}},Jr=ae(re,"px, ","px)","deg)"),to=ae(oe,", ",")",")");Math.SQRT2;se(Jt);var eo=(se(ee),function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=_t(this.node(),n).tween,o=0,a=r.length;a>o;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?ue:le)(n,t,e))}),no=function(t,e){var n;return("number"==typeof e?Xr:e instanceof kt?Gr:(n=kt(e))?(e=n,Gr):qr)(t,e)},io=function(t,e){var n=Bn(t),i="transform"===n?to:no;return this.attrTween(t,"function"==typeof e?(n.local?me:de)(n,i,ce(this,"attr."+t,e)):null==e?(n.local?pe:he)(n):(n.local?ge:fe)(n,i,e))},ro=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Bn(t);return this.tween(n,(i.local?ye:ve)(i,e))},oo=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?xe:we)(e,t)):_t(this.node(),e).delay},ao=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?be:Ce)(e,t)):_t(this.node(),e).duration},so=function(t){var e=this._id;return arguments.length?this.each(_e(e,t)):_t(this.node(),e).ease},uo=function(t){"function"!=typeof t&&(t=Yn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;s>l;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Fe(i,this._parents,this._name,this._id)},lo=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;o>s;++s)for(var u,l=e[s],c=n[s],h=l.length,p=a[s]=new Array(h),f=0;h>f;++f)(u=l[f]||c[f])&&(p[f]=u);for(;i>s;++s)a[s]=e[s];return new Fe(a,this._parents,this._name,this._id)},co=function(t,e){var n=this._id;return arguments.length<2?_t(this.node(),n).on.on(t):this.each(Se(n,t,e))},ho=function(){return this.on("end.remove",Ae(this._id))},po=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=$n(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;r>a;++a)for(var s,u,l=i[a],c=l.length,h=o[a]=new Array(c),p=0;c>p;++p)(s=l[p])&&(u=t.call(s,s.__data__,p,l))&&("__data__"in s&&(u.__data__=s.__data__),h[p]=u,tr(h[p],e,n,p,h,_t(s,n)));return new Fe(o,this._parents,e,n)},fo=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Kn(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;r>s;++s)for(var u,l=i[s],c=l.length,h=0;c>h;++h)if(u=l[h]){for(var p,f=t.call(u,u.__data__,h,l),g=_t(u,n),d=0,m=f.length;m>d;++d)(p=f[d])&&tr(p,e,n,d,f,g);o.push(f),a.push(u)}return new Fe(o,a,e,n)},go=at.prototype.constructor,mo=function(){return new go(this._groups,this._parents)},yo=function(t,e,n){var i="transform"==(t+="")?Jr:no;return null==e?this.styleTween(t,ke(t,i)).on("end.style."+t,Ne(t)):this.styleTween(t,"function"==typeof e?Te(t,i,ce(this,"style."+t,e)):Ie(t,i,e),n)},vo=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Pe(t,e,null==n?"":n))},xo=function(t){return this.tween("text","function"==typeof t?De(ce(this,"text",t)):Le(null==t?"":t+""))},wo=function(){for(var t=this._name,e=this._id,n=Re(),i=this._groups,r=i.length,o=0;r>o;++o)for(var a,s=i[o],u=s.length,l=0;u>l;++l)if(a=s[l]){var c=_t(a,e);tr(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Fe(i,this._parents,t,n)},bo=0,Co=at.prototype;Fe.prototype=Ee.prototype={constructor:Fe,select:po,selectAll:fo,filter:uo,merge:lo,selection:mo,transition:wo,call:Co.call,nodes:Co.nodes,node:Co.node,size:Co.size,empty:Co.empty,each:Co.each,on:co,attr:io,attrTween:ro,style:yo,styleTween:vo,text:xo,remove:ho,tween:eo,delay:oo,duration:ao,ease:so};var _o=3,Mo=(function ba(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=ba,e}(_o),function Ca(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=Ca,e}(_o),function _a(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=_a,e}(_o),1.70158),So=(function Ma(t){function e(e){return e*e*((t+1)*e-t)}return t=+t,e.overshoot=Ma,e}(Mo),function Sa(t){function e(e){return--e*e*((t+1)*e+t)+1}return t=+t,e.overshoot=Sa,e}(Mo),function Aa(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=Aa,e}(Mo),2*Math.PI),Ao=1,ko=.3,No=(function ka(t,e){function n(n){return t*Math.pow(2,10*--n)*Math.sin((i-n)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=So);return n.amplitude=function(t){return ka(t,e*So)},n.period=function(e){return ka(t,e)},n}(Ao,ko),function Na(t,e){function n(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+i)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=So);return n.amplitude=function(t){return Na(t,e*So)},n.period=function(e){return Na(t,e)},n}(Ao,ko),function Ia(t,e){function n(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((i-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((i+n)/e))/2}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=So);return n.amplitude=function(t){return Ia(t,e*So)},n.period=function(e){return Ia(t,e)},n}(Ao,ko),{time:null,delay:0,duration:250,ease:Oe}),Io=function(t){var e,n;t instanceof Fe?(e=t._id,t=t._name):(e=Re(),(n=No).time=pt(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;r>o;++o)for(var a,s=i[o],u=s.length,l=0;u>l;++l)(a=s[l])&&tr(a,t,e,l,s,n||je(a,e));return new Fe(i,this._parents,t,e)};at.prototype.interrupt=nr,at.prototype.transition=Io;var To=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Po=.7,Lo=1/Po,Do="\\s*([+-]?\\d+)\\s*",Fo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ro=/^#([0-9a-f]{3})$/,Oo=/^#([0-9a-f]{6})$/,jo=new RegExp("^rgb\\("+[Do,Do,Do]+"\\)$"),Ho=new RegExp("^rgb\\("+[Eo,Eo,Eo]+"\\)$"),Bo=new RegExp("^rgba\\("+[Do,Do,Do,Fo]+"\\)$"),Go=new RegExp("^rgba\\("+[Eo,Eo,Eo,Fo]+"\\)$"),Wo=new RegExp("^hsl\\("+[Fo,Eo,Eo]+"\\)$"),zo=new RegExp("^hsla\\("+[Fo,Eo,Eo,Fo]+"\\)$"),Xo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};To(Be,Ge,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),To(Ve,Ye,He(Be,{brighter:function(t){return t=null==t?Lo:Math.pow(Lo,t),new Ve(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Po:Math.pow(Po,t),new Ve(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),To($e,Ze,He(Be,{brighter:function(t){return t=null==t?Lo:Math.pow(Lo,t),new $e(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Po:Math.pow(Po,t),new $e(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(.5>n?n:1-n)*e,r=2*n-i;return new Ve(Qe(t>=240?t-240:t+120,r,i),Qe(t,r,i),Qe(120>t?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Yo=Math.PI/180,Vo=180/Math.PI,Uo=18,qo=.95047,Zo=1,$o=1.08883,Qo=4/29,Ko=6/29,Jo=3*Ko*Ko,ta=Ko*Ko*Ko;To(tn,Je,He(Be,{brighter:function(t){return new tn(this.l+Uo*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new tn(this.l-Uo*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Zo*nn(t),e=qo*nn(e),n=$o*nn(n),new Ve(rn(3.2404542*e-1.5371385*t-.4985314*n),rn(-.969266*e+1.8760108*t+.041556*n),rn(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),To(un,sn,He(Be,{brighter:function(t){return new un(this.h,this.c,this.l+Uo*(null==t?1:t),this.opacity)},darker:function(t){return new un(this.h,this.c,this.l-Uo*(null==t?1:t),this.opacity)},rgb:function(){return Ke(this).rgb()}}));var ea=-.14861,na=1.78277,ia=-.29227,ra=-.90649,oa=1.97294,aa=oa*ra,sa=oa*na,ua=na*ia-ra*ea;To(hn,cn,He(Be,{brighter:function(t){return t=null==t?Lo:Math.pow(Lo,t),new hn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Po:Math.pow(Po,t),new hn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Yo,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Ve(255*(e+n*(ea*i+na*r)),255*(e+n*(ia*i+ra*r)),255*(e+n*(oa*i)),this.opacity)}}));var la=function(t){return function(){return t}},ca=(function Ta(t){function e(t,e){var i=n((t=Ye(t)).r,(e=Ye(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=mn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}var n=dn(t);return e.gamma=Ta,e}(1),function(t,e){return t=+t,e-=t,function(n){return t+e*n}}),ha=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pa=new RegExp(ha.source,"g");180/Math.PI,Math.SQRT2;xn(gn);xn(mn);document&&document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></script>');var fa="px",ga="",da={button:["container","text","symbol"],inputButton:["container","text","input","icon"],selectButton:["container","text","arrow"]},ma=function(t,e){var n,i=da[e],r={},o=i.length;for(n=0;o>n;n++)r[i[n]]=t+"-"+i[n];return r},ya=function(){return{container:{className:"d3-dropdown"},listItem:{className:"d3-dropdownlistitem",states:{hover:"d3-dropdownlistitem-state-hover",selected:"d3-dropdownlistitem-state-selected"}}}},va={},xa=function(t,e){for(var n=e.parentNode;null!=n;){if(n===t)return!0;n=n.parentNode}return!1};bn.prototype.namespace=function(t){var e,n=this.config,i=n.states;n.namespace=t,n.className=t+"-"+n.className,n.specificClassName=this.config.className;for(e in i)i[e]=t+"-"+i[e]},bn.prototype.appendSelector=function(t){var e,n=this.config.states;this.config.selector=t,this.config.specificClassName=this.config.className+"-"+t;for(e in n)n[e]=n[e]+"-"+t},bn.prototype.dispose=function(){this.buttonGroup&&this.buttonGroup.remove()},bn.prototype.setConfig=function(t){return o(t,this.config),this},bn.prototype.getConfig=function(t){return this.config[t]},bn.prototype.getLogicalSpace=function(){var t=this.config,e=t.specificClassName,n=this.getIndividualClassNames(e),o=wn(),a=n.text,s=this.symbol,u=t.padding,l=u.left,c=u.right,h=u.top,p={width:0,height:0
},f=i(Pi("svg"),a),g=f.fontSize;return this.textFontSize=parseInt(g),"string"==typeof s&&(p=r(s,a,Pi("svg"),o)),t.width=void 0===t.width?Math.max(p.width+l+c,t.width||0):t.width,t.height=void 0===t.height?Math.max(p.height+h+c,t.height||0):t.height,this.logicalSpace={width:t.width,height:t.height}},bn.prototype.getIndividualClassNames=function(t){return ma(t,"button")},bn.prototype.getClassName=function(){return this.config.specificClassName},bn.prototype.setParentGroup=function(t){this.parentGroup=t},bn.prototype.draw=function(t,e,n){var i,r,o,a,u,l=this.config,c=l.className,h=l.specificClassName,p=this.getIndividualClassNames(h),f=p.container,g=p.text,d=p.symbol,m=this.buttonGroup,y=this.elements,v=y.container,x=y.text,w=y.symbol,b=this.symbol,C=n||this.parentGroup,_=l.animation,M=this.drawn?_.duration:0,S=l.padding,A=S.left,k=S.right,N=S.top,I=S.bottom,T=l.radius,P=Ee().duration(M);return this.parentGroup=C,this.logicalSpace||(i=this.getLogicalSpace()),i=this.logicalSpace,r=i.width,o=i.height,m||(m=this.buttonGroup=n.append("g")),this.buttonGroup.classed(c+" "+h,!0),v||(v=y.container=m.append("rect")),v.transition(P).attr("x",t).attr("y",e).attr("width",r).attr("height",o),v.classed(f,!0).attr("rx",T).attr("ry",T),"string"==typeof b?(x||(x=y.text=m.append("text")),u={x:t+A,y:e+N,width:r-k-A,height:o-I-N},x.text(b).transition(P).attr("x",u.x+u.width/2).attr("y",u.y+u.height/2),x.attr("dy","0.35em").attr("text-anchor","middle").attr("pointer-events","none").classed(g,!0)):"function"==typeof b&&(a=b(t+A,e+N,r-(A+k),o-(N+I),S),w||(w=m.append(a.type)),w.attr("pointer-events","none").classed(d,!0),s(w,a.attrs)),this.buttonGroup=m,this.getBBox=function(){return{x:t,y:e,width:r,height:o}},this.postDraw(),this.drawn=!0,this},bn.prototype.bindEventListeners=function(){var t,e=this.eventMap;for(t in e)this.on(t,e[t]);return this},bn.prototype.postDraw=function(){this.addHoverEvents(),this.bindEventListeners(),this.attachTooltip()},bn.prototype.addHoverEvents=function(){var t=this;t.on("mouseover",function(){t.setState("hover")},"default"),t.on("mouseout",function(){t.removeState("hover")},"default")},bn.prototype.attachTooltip=function(){var t=this.tooltip,e=this.buttonGroup,n=this.config.toolText,i=(this.elements,this.getBBox());void 0!==n&&(t||(t=this.tooltip=d3.tooltip().namespace(this.config.namespace).attachTo(d3.select(this.parentGroup.node().ownerSVGElement)).offset({x:15,y:15})),e.data([[null,n]]).call(t),e.on("touchstart.d3-button-tooltip",function(){d3.event.preventDefault(),d3.event.stopPropagation(),t.show([i.x+10,i.y-i.height-30])}),e.on("touchmove.d3-button-tooltip",function(){d3.event;d3.event.preventDefault(),d3.event.stopPropagation(),t.show([i.x+10,i.y-i.height-30])}),e.on("touchend.d3-button-tooltip",function(){d3.event.preventDefault(),d3.event.stopPropagation(),t.hide()}))},bn.prototype.classed=function(t,e){var n=this.elements,i=ma(t,"button");return this.buttonGroup.classed(t,e),n.container&&n.container.classed(i.container,e),n.text&&n.text.classed(i.text,e),n.symbol&&n.symbol.classed(i.symbol,e),this},bn.prototype.on=function(t,e,n){var i="createTouch"in document;return i?("mouseover"===t&&this.buttonGroup.on("touchstart.mouseover",function(){d3.event.preventDefault(),d3.event.stopPropagation(),e()}),"mouseout"===t&&this.buttonGroup.on("touchend.mouseout",function(){d3.event.preventDefault(),d3.event.stopPropagation(),e()}),"click"===t&&this.buttonGroup.on("touchend.click",function(){d3.event.preventDefault(),d3.event.stopPropagation(),e()})):this.buttonGroup.on(t+"."+(n||"custom"),e),this},bn.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.visible=!1,this},bn.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.visible=!0,this},bn.prototype.disable=function(t){this.elements.container&&this.elements.container.attr("pointer-events",t?"none":"")},bn.prototype.getBoundElement=function(){return this.elements.container.node()},bn.prototype.setState=function(t){var e=this.config,n=e.states,i=n[t];"disabled"===t&&this.disable(!0),this.classed(i,!0)},bn.prototype.removeState=function(t){var e=this.config,n=e.states,i=n[t];"disabled"===t&&this.disable(!1),this.classed(i,!1)},bn.prototype.attachEventHandlers=function(t){this.eventMap=t},Cn.prototype=Object.create(bn.prototype),Cn.prototype.draw=function(t,e,n){var i,r,o,u,l,c,h,p,f,g,d,m=this,y=this.config,v=y.className,x=y.specificClassName,w=this.getIndividualClassNames(x),b=w.container,C=w.text,_=w.input,M=w.icon,S=this.elements,A=S.container,k=S.text,N=S.inputBox,I=y.padding,T=I.left,P=I.right,L=I.top,D=I.bottom,F=n||this.parentGroup,E=this.buttonGroup,R=this.textFontSize/1.3,O=this.textFontSize/2.6,j=S.arrow,H=S.inputFieldTracker,B=S.iconTracker,G=y.hasInputField,W=y.placeholder,z=y.icon;return!E&&(E=this.buttonGroup=n.append("g")),this.parentGroup=F,h=F.node().ownerSVGElement.parentNode,this.logicalSpace||(i=this.getLogicalSpace()),E.classed(v+" "+x,!0),i=this.logicalSpace,r=i.width,o=i.height,A||(A=S.container=E.append("rect")),s(A,{x:t,y:e,width:r,height:o,"class":b,rx:y.radius,ry:y.radius}),!k&&(k=S.text=E.append("text")),k.text(this.symbol||"W"),u={x:t+T,y:e+L,width:r-P-T,height:o-D-L},p={x:u.x,y:u.y+u.height/2,dy:"0.35em","pointer-events":"none"},s(k,p),k.classed(C,!0),k.text(this.symbol||ga),l=k.node().getBBox(),G&&(!N&&(N=S.inputBox=Pi(h).append("input")),c={position:"absolute",top:l.y+fa,left:l.x+fa,width:r-(T+P)-(y.icon?R:0)+3+fa,height:(l.height||o)+fa,outline:"none",margin:"0px",border:"0px",padding:"0px",visibility:"hidden"},N.attr("placeholder",W),N.classed(_,!0),a(N,c),N.attr("value",this.symbol)),H||(H=S.inputFieldTracker=E.append("rect")),s(H,{x:t,y:e,width:r-(y.icon?P+R:0),height:o}),a(H,{opacity:0,cursor:G?"text":"pointer"}),this.buttonGroup=E,z&&(f=t+r-P-R+4,g=e+o/2-O/2,d=["M",f,g,"L",f+R,g,"L",f+R/2,g+O,"Z"],!j&&(j=S.arrow=E.append("path")),j.attr("d",d.toString().replace(/,/g," ")).classed(M,!0).attr("pointer-events","none"),B||(B=S.iconTracker=E.append("rect")),s(B,{x:t+r-R-P,y:e,width:R+P,height:o}),a(B,{opacity:0,cursor:"pointer"})),m.config.hasInputField!==!1&&m.on("click",m.edit.bind(m),"default"),m.config.hasInputField!==!1&&m.on("blur",m.blur.bind(m),"default"),this.getBBox=function(){return{x:t,y:e,width:r,height:o}},this.postDraw(),m},Cn.prototype.classed=function(t,e){var n=this.elements,i=ma(t,"inputButton");return this.buttonGroup.classed(t,e),n.container&&n.container.classed(i.container,e),n.text&&n.text.classed(i.text,e),n.symbol&&n.symbol.classed(i.symbol,e),n.inputBox&&n.inputBox.classed(i.input,e),this},Cn.prototype.blur=function(t){var e,n=this.elements,r=n.inputBox,o=wn(),a=n.text,s=r&&r.node(),u=s?s.value:t,l=this.config,c=l.padding,h=l.width-(c.left+c.right),p=i(this.parentGroup,this.getIndividualClassNames(this.getClassName()).text);return r&&r.style("visibility","hidden"),o.setStyle(p),e=o.getSmartText(u,h,l.height),this.symbol=e.text,a&&a.style("display","block").text(e.text),this},Cn.prototype.edit=function(){var t=this.elements,e=t.inputBox,n=e&&e.node(),i=n.value.length;return e&&(e.style("visibility","visible"),n.setSelectionRange(i,i),n.focus(),t.text.style("display","none")),this},Cn.prototype.getIndividualClassNames=function(t){return ma(t,"inputButton")},Cn.prototype.text=function(t){var e=this.elements.inputBox,n=t;return t?(e&&(e.node().value=t),this.blur(t)):n=e?e.node().value:this.elements.text.text(),n},Cn.prototype.on=function(t,e,n){var i=this.elements.inputBox,r=t+"."+(n||"custom");switch(t){case"blur":case"change":case"keypress":i&&i.on(r,e);break;case"onIconClick":this.elements.iconTracker&&this.elements.iconTracker.on("click",e),this.elements.iconTracker&&this.elements.iconTracker.on("touchend",function(){d3.event.preventDefault(),e()});break;default:this.elements.inputFieldTracker&&this.elements.inputFieldTracker.on(r,e)}return this},Cn.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.elements.inputBox.attr("visibility","hidden"),this},Cn.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.elements.inputBox.attr("visibility","visible"),this},Sn.prototype=Object.create(bn.prototype),Sn.prototype.getLogicalSpace=function(){var t,e,n,i,o=this.config,a=o.width,s=o.height,u=this.options||[],l=wn(),c=this.getIndividualClassNames(o.specificClassName),h=c.text,p=this.parentGroup,f=o.padding,g=f.left,d=f.right,m=f.top,y=f.bottom,v=0,x=0,w=u.length;if(a&&s)return this.logicalSpace={width:a,height:s};for(i=0;w>i;i++)t=u[i],e=t.name,n=r(e,h,p,l),v=Math.max(n.width,v),x=Math.max(n.height,x);return{width:v+g+d,height:x+m+y}},Sn.prototype.draw=function(t,e,n){var i,r,o,a,s,u,l,c=this.buttonGroup,h=this.elements,p=h.container,f=h.text,g=h.arrow,d=8,m=4,y=this.config,v=y.className,x=y.specificClassName,w=this.getIndividualClassNames(x),b=w.container,C=w.text,_=w.arrow,M=this.config.padding,S=M.left,A=M.right,k=M.top,N=M.bottom,I=this.options||[],T=n||this.parentGroup,P=this.logicalSpace,L=I[0]&&I[0].name;return this.parentGroup=T,this.logicalSpace||(P=this.getLogicalSpace()),u=P.width,l=P.height,!c&&(c=this.buttonGroup=n.append("g")),c.classed(v+" "+x,!0),!p&&(p=h.container=c.append("rect")),p.attr("x",t).attr("y",e).attr("width",u).attr("height",l).classed(b,!0).attr("rx",y.radius).attr("ry",y.radius),!f&&(f=h.text=c.append("text")),f.text("W"),i={x:t+S,y:e+k,width:u-(A+S)-d,height:l-(N+k)},f.attr("x",i.x).attr("y",i.y+i.height/2).attr("dy","0.35em").attr("pointer-events","none").classed(C,!0),s=f.node().getBBox(),f.text(L),o=t+u-A-d,a=s.y+s.height/2-m/2,r=["M",o,a,"L",o+d,a,"L",o+d/2,a+m,"Z"],!g&&(g=h.arrow=c.append("path")),g.attr("d",r.toString().replace(/,/g," ")).classed(_,!0).attr("pointer-events","none"),this.buttonGroup=c,this.getBBox=function(){return{x:t,y:e,width:u,height:l}},this.postDraw(),this},Sn.prototype.namespace=function(t){var e,n=this.config.dropDownMenu,i=n.container,r=n.listItem,o=r.states;bn.prototype.namespace.call(this,t),i.className=t+"-"+i.className,r.className=t+"-"+r.className;for(e in o)o[e]=t+"-"+o[e]},Sn.prototype.appendSelector=function(t){var e=this.config.dropDownMenu,n=e.container,i=e.listItem;bn.prototype.appendSelector.call(this,t),n.className=n.className+"-"+t,i.className=i.className+"-"+t},Sn.prototype.text=function(t){return this.buttonGroup.select("text").text(t)},Sn.prototype.value=function(t){var e,n=this.dropDownMenu,i=this,r=n.container,o=i.selectedItem;return void 0===t?o&&o.datum().value:(e=r.getContainer(),void e.selectAll("div").each(function(e){var n;e.value===t&&(n=Pi(this),i.selectedItem&&i.selectItem(i.selectedItem,!1),i.selectItem(n,!0),i.text(n.datum().name),i.selectedItem=n)}))},Sn.prototype.createMenu=function(t){var e=this,n=this.dropDownMenu,i=this.elements.container.node(),r=this.config.dropDownMenu||{},o=r.container||{},a=r.listItem||{},s=o.className||{},u=a.className||{},l=a.states,c=i.getBBox();return n||(n=this.dropDownMenu=new p(Pi(t))),n.setConfig({listItem:{className:u,states:l},container:{className:s}}),n.setMeasurement({top:c.y+c.height,left:c.x,width:c.width-1}),i.groupId=n.groupId,this.on("mouseout",function(){0===n.listItems.length&&e.onBlur&&e.onBlur(),n.hide()},"default"),this.on("click",function(){n.toggleVisibility()},"default"),this.add(this.options),this},Sn.prototype.postDraw=function(){bn.prototype.postDraw.call(this);var t=this,e=t.parentGroup,n=e.node().ownerSVGElement.parentNode;this.on("click",function(){t.setState("selected")},"selected"),this.on("blur",function(){t.removeState("selected")}),this.createMenu(n),d3.select("html").on("touchend."+(new Date).getTime(),function(){t.dropDownMenu.hide()})},Sn.prototype.add=function(t){var e,n,i,r=this.dropDownMenu,o=this.config,a=o.dropDownMenu||{},s=a.direction,u=this,l=this.elements.container.node().getBBox(),c=this.parentGroup.node().ownerSVGElement.getBoundingClientRect(),h=(c.top+c.height,"createTouch"in document);0!==t.length&&r.add(t),i=r.getFirstContainer(),i&&(i.on("hide",this.onBlur),e=i.getContainer(),n=i.getDimensions(),"down"===s?r.setMeasurement({top:l.y+l.height,left:l.x,width:l.width-1}):r.setMeasurement({top:l.y-n.height,left:l.x,width:l.width-1}),h?e.selectAll("div").on("touchend.selected",this.onSelect()).each(function(t,e){0===e&&(u.selectedItem&&u.selectItem(u.selectedItem,!1),u.selectedItem=u.selectItem(Pi(this),!0))}):e.selectAll("div").on("click.selected",this.onSelect()).each(function(t,e){0===e&&(u.selectedItem&&u.selectItem(u.selectedItem,!1),u.selectedItem=u.selectItem(Pi(this),!0))}))},Sn.prototype.setPlaceHolderValue=function(t){var e=this.elements,n=e.text;n&&n.text(t),this.selectItem(this.selectedItem,!1),this.selectedItem=void 0},Sn.prototype.updateList=function(t){var e=this.dropDownMenu;e.flushItems(),this.add(t),this.text(t[0]&&t[0].name||ga)},Sn.prototype.selectItem=function(t,e){var n=this.config.dropDownMenu||{},i=n.listItem||{},r=i.states||{};return t&&t.classed(r.selected,e)},Sn.prototype.onSelect=function(){var t=this;return function(e){var n=Pi(this),i=t.selectedItem,r=t.onChange;i&&t.selectItem(i,!1),t.selectedItem=t.selectItem(n,!0),t.text(e.name),t.selectedItem=n,r&&r()}},Sn.prototype.on=function(t,e,n){switch(t){case"change":this.onChange=e;break;case"blur":this.onBlur=e;break;default:this.buttonGroup.on(t+"."+(n||"custom"),e)}return this},Sn.prototype.getIndividualClassNames=function(t){return ma(t,"selectButton")},An.prototype=Object.create(bn.prototype),An.prototype.add=function(t){var e=this.dropDownMenu;e.add(t)},An.prototype.postDraw=function(){bn.prototype.postDraw.call(this);var t=this,e=t.getBBox(),n={},i="createTouch"in document;this.on("mouseover",function(){var i,r=t.dropDownMenu.getFirstContainer(),o=r.getDimensions();i=o.width,n.top=e.y+e.height+3,n.left=e.x+e.width-i,t.dropDownMenu.show(n)}),i||this.on("mouseout",function(){t.dropDownMenu.hide()}),this.on("touchend",function(){var i,r=t.dropDownMenu.getFirstContainer(),o=r.getDimensions();i=o.width,n.top=e.y+e.height+3,n.left=e.x+e.width-i,t.dropDownMenu.show(n),t.removeState("hover")}),i&&(d3.select("html").on("touchstart."+(new Date).getTime(),function(){var e=d3.event.target,n=t.elements.container.node();xa(n,e)||t.dropDownMenu.hide()}),d3.select("html").on("click."+(new Date).getTime(),function(){var e=d3.event.target,n=t.elements.container.node(),i=t.dropDownMenu,r=i.parentContainer.node();xa(n,e)||xa(r,e)||t.dropDownMenu.hide()}))},An.prototype.showListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"block"})},An.prototype.hideListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"none"})},t.button=_n,t.selectButton=Nn,t.inputButton=Mn,t.buttonWithContextMenu=kn,t.dropDownMenu=p,Object.defineProperty(t,"__esModule",{value:!0})}),FusionCharts.register("module",["private","modules.components.timeseries-style-sheet-api",function(){function t(t,e){this.styleSheet=r,this.rules={},this.ns=t||r,this.renderer=e}var e,n=this,i=n.window,r="",o=i.document,a=" ",s=/\B([A-Z]{1})/g,u="fusioncharts-d3-stylesheet";e=t.prototype,e.getSheet=function(){var t=this.node,n=this.renderer;return this.styleSheet=e.getStyleSheet(u),this.styleSheet||(t=this.node=o.createElement("style"),t.setAttribute("id",n.format("d3-stylesheet-{0}",n._oid++)),t.setAttribute("type","text/css"),t.setAttribute("title",u),(o.head||o.getElementsByTagName("head")[0]).appendChild(this.node),this.styleSheet=e.getStyleSheet(u)),this.styleSheet},e.getStyleSheet=function(t){for(var e,n=o.styleSheets,i=n.length;i--;)if(e=n[i],e.title===t)return e},e.applyCSSRule=function(t,e){var n,i,r=this.styleSheet;if(!r){if(!t||!e)return;r=this.getSheet()}n=r.rules||r.cssRules||{},i=n.length||0,r.insertRule?r.insertRule(t+"{"+e+"}",i):r.addRule&&r.addRule(t,e,i)},e.removeCSS=function(t){var e,n=this.styleSheet,i=n.rules||n.cssRules||{},r=i.length||0;for(t=t||this.ns;r--;)e=i[r],new RegExp(t).test(e.selectorText)&&(n.removeRule?n.removeRule(r):n.deleteRule(r))},e.destroy=function(){this.removeCSS(),delete this.node,delete this.styleSheet,delete this.ns,delete this.rules},e.clear=function(){this.removeCSS(),this.rules={}},e.add=function(t,e,n){var i,o=r,a=this.rules[t]||(this.rules[t]={}),u=n?r:"	",l=n?":":": ";for(i in e)(a[i]=e[i])&&(o+=u+i.replace(s,"-$1").toLowerCase()+l+a[i]+";");this.applyCSSRule(t,o)},e.render=function(){this.setCssText()},e.setCssText=function(t){var e,n,i=t?r:"	",o=t?":":": ",u=r,l=r;for(e in this.rules){u=r,l=e.replace(/(^|\,)/g,"$1"+this.ns+a),e=this.rules[e];for(n in e)e[n]&&(u+=i+n.replace(s,"-$1").toLowerCase()+o+e[n]+";");this.applyCSSRule(l,u)}},FusionCharts.registerComponent("api","StyleSheet",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-renderer-api",function(){function t(t){return this.chartInstance=t,this.init.apply(this,arguments)}var e,n=this,i=n.window,r="object",o="array",a=String,s=a.prototype.toLowerCase,u="finite",l="hasOwnProperty",c={NaN:1,Infinity:1,"-Infinity":1},h="",p=" ",f="string",g="concat",d=/\{(\d+)\}/g,m=i.document,y=Object.prototype.toString,v=i.d3,x="http://www.w3.org/1999/xlink",w=FusionCharts.getComponent("api","StyleSheet");t.prototype.constructor=t,t.prototype.init=function(){return this._stylesheet=this._stylesheet||new w(h,this),this.cssNamespace(h),this.create.apply(this,arguments)},t.prototype.setSize=function(){},t.prototype.cssNamespace=function(t){return arguments.length&&(this._stylesheet.ns=this.format("{0}#d3-paper-{1}",t&&t+p||h,this.id)),this._stylesheet.ns},t.prototype.format=function(t,e){var n=this.is(e,o)?[0][g](e):arguments;return t&&this.is(t,f)&&n.length-1&&(t=t.replace(d,function(t,e){return null==n[++e]?h:n[e]})),t||h},t.prototype.create=function(){var t,e,n=this._getContainer.apply(this,arguments),i=this.createNode("svg"),r="overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-ms-user-select:none;user-select:none;-o-user-select:none;cursor:default;",o=n&&n.container,a=n.x,s=n.y,u=n.width,l=n.height;if(!o)throw new Error("SVG container not found.");return a=a||0,s=s||0,u=u||512,l=l||342,r+="vertical-align:middle;",this.createNode(i,{height:l,version:1.1,width:u,xmlns:"http://www.w3.org/2000/svg"}),1==o?(i.style.cssText=r+"position:absolute;left:"+a+"px;top:"+s+"px",m.body.appendChild(i),e=1):(i.style.cssText=r+"position:relative",o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i)),this.width=u,this.height=l,this.canvas=i,this.createNode(i,{id:t="fusioncharts-paper-"+o.id}),this.cnvs=v.select("#"+t),this},t.prototype.getInstances=function(){return{paper:this.cnvs,d3:v}},t.prototype.cssAddRule=function(t,e){if(1===arguments.length&&"object"==typeof t){for(var n in t)this.cssAddRule(n,t[n]);return this}return this._stylesheet.add(t,e),this},t.prototype.getQualifiedClassName=function(t){return t=t.replace(/^\.*/,""),[t,t+"-"+this.chartInstance.id]},t.prototype.getId=function(){return this.chartInstance.id},t.prototype._getContainer=function(t,e,n,i){var o;return o=null!=i||this.is(t,r)?t:m.getElementById(t),null!=o?o.tagName?null==e?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:e,height:n}:{container:1,x:t,y:e,width:n,height:i}:void 0},t.prototype.is=function(t,n){return n=s.call(n),n==u?!c[l](+t):n==o?t instanceof Array:"object"!==n||t!==e&&null!==t?"null"==n&&null===t||n==typeof t&&null!==t||n==r&&t===Object(t)||"array"==n&&Array.isArray&&Array.isArray(t)||y.call(t).slice(8,-1).toLowerCase()==n:!1},t.prototype.createNode=function(t,e){var n;if(e){"string"==typeof t&&(t=this.createNode(t));for(n in e)e[l](n)&&("xlink:"==n.substring(0,6)?t.setAttributeNS(x,n.substring(6),a(e[n])):t.setAttribute(n,a(e[n])))}else t=m.createElementNS("http://www.w3.org/2000/svg",t);return t},t.prototype.setAttrs=function(t,e){var n;for(n in e)t.attr(n,e[n]);return t},t.prototype.setStyles=function(t,e){var n;for(n in e)t.style(n,e[n]);return t},t.prototype.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}),FusionCharts.registerComponent("api","Renderer",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-standard-css-styles",function(){var t={toolbarComponentGroup:{"fc-toolbar-component-group":{fill:"#ffffff",stroke:"#B2B1B1","stroke-width":1,"fill-opacity":"0","stroke-opacity":"0"}},toolbar:{"fc-toolbar":{fill:"#EBEBEB",stroke:"#D1D0D0","stroke-width":1,"fill-opacity":"0","stroke-opacity":"0"}}};FusionCharts.registerComponent("main","standardStyles",{styles:t})}]),FusionCharts.register("module",["private","modules.renderer.timeseries-toolbox",function(){function t(e,n,i){var r,o;for(r in e)if(o=e[r],void 0!==o&&null!==o)if(i){if(n[r])continue;n[r]=o}else"object"==typeof o?(void 0===n[r]&&(n[r]={}),t(o,n[r],i)):n[r]=o}function e(){return{className:"fc-toolbar-component-group",padding:{top:3,right:3,bottom:3,left:3},radius:2,margin:{right:6,top:0,left:0,bottom:0},animation:{duration:200}}}function n(t,n){var i=e();this.symbolList=[],this.svgElems={},this.config=i,this.dependencies=t,n&&this.setConfig(n)}function i(t,e){return n.call(this,t,e),this}function r(t,e){return i.call(this,t,e)}function o(t,e){this.svgElems={},this.componentGroups=[],this.config=this.getDefaultConfig(),e&&this.setConfig(e),this.dependencies=t}function a(t,e,n){this.config={className:"fc-label-default",margin:{top:0,bottom:0,right:5,left:0},container:{}},this.text=t,this.dependencies=e,this.svgElems={},n&&this.setConfig(n)}var s,u=this,l=u.window,c=u.hcLib,h=l.Math,p=h.max;n.prototype.draw=function(t,e){var n,i,r,o,a,s,u,l,c=this.symbolList,h=this.config,p=t.x,f=t.y,g=this.dependencies,d=g.paper,m=0,y=0,v=0,x=this.svgElems,w=h.className,b=h.padding,C=b.left,_=b.right,M=b.top,S=b.bottom,A=C+_,k=M+S;for(a=x.group,a||(a=x.group=e.append("g")),s=x.groupRect,s||(s=x.groupRect=a.append("rect")),s.classed(w,!0),d.setAttrs(s,{x:p,y:f}),p+=C,f+=M,y+=A,m+=k,n=0,i=c.length;i>n;n++)r=c[n],o=r.config,r.visible!==!1&&(l=r.draw(p+o.offsetX+o.margin.left,f+o.offsetY+o.margin.top,a,this.config.maxHeight[o.rowIndex]),u=l.getBoundElement().getBBox(),v<u.height&&(v=u.height));return y+=h.sumWidth,m+=h.sumHeight,isFinite(m)||(m=0),isFinite(y)||(y=0),d.setAttrs(s,{height:m,width:y,rx:h.radius,ry:h.radius}),u=s.node().getBBox(),{height:u.height,width:u.width}},u.extend(n.prototype,{addSymbol:function(t,e){var n=this.symbolList;e?n.unshift(t):n.push(t),t._parentGroup=this},setConfig:function(e){t(e,this.config)},getLogicalSpace:function(t,e){var n,i,r,o,a,s,u=this.symbolList,l=this.config,c=l.padding,h=c.left+c.right,f=c.top+c.bottom,g=0,d=0,m=0,y=0,v=0,x=0,w=0;for(l.maxHeight||(l.maxHeight=[]),i=0,r=u.length;r>i;i++)n=u[i],n.visible!==!1&&(o=n.getLogicalSpace(),a=n.getConfig("margin"),g+o.width+a.right+a.left>t&&(l.maxHeight[w]=v,w+=1,d+=v+a.bottom,m=p(m,g),v=0,g=0),n.config.offsetX=g,n.config.offsetY=d,n.config.rowIndex=w,g+=o.width+a.right+a.left,x+=o.width,v=v<o.height?o.height:v);if(d+=v,m=p(m,g),l.maxHeight[w]=d,!x)return{width:0,height:0};for(v!==Number.NEGATIVE_INFINITY&&g&&(y=d+f+l.offsetAdjustment)<e&&(d=y),l.sumWidth=m,l.sumHeight=0,s=0;s<l.maxHeight.length;s+=1)l.sumHeight+=l.maxHeight[s];return{width:m+h,height:d+f}},dispose:function(){for(var t=this.symbolList,e=0,n=t.length,i=this.svgElems;n>e;e++)t[e].dispose();t.length=0,i.groupRect&&i.groupRect.remove()}}),i.prototype=Object.create(n.prototype),i.prototype.constructor=i,u.extend(i.prototype,{setState:function(t){var e,n=this,i=n.indicator,r=n.config.animation,o=r.duration,a=n.dependencies.paper,s=a.getInstances().d3;return t?(this._state&&this._state.removeState("selected"),this._state=t.setState("selected"),e=this.stateIndicator(t),i||(i=n.indicator=n.svgElems.group.append(e.type)),i.style("display","block"),a.setAttrs(i.transition(s.transition().duration(o)),e.attrs)):(this._state&&this._state.removeState("selected"),n.indicator&&n.indicator.style("display","none"),this._state=void 0),this._state},defineStateIndicator:function(t){this.stateIndicator=t}}),r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.setState=function(t){return t&&(this._state=t.setState(!t._state)),this._state},u.extend(r.prototype,{}),o.prototype.getDefaultConfig=function(){return{className:"fc-toolbar",padding:{top:3,right:3,bottom:3,left:3},radius:0}},o.prototype.dispose=function(){for(var t=this.componentGroups,e=0,n=t.length;n>e;e++)t[e].dispose();t.length=0,this.svgElems.toolbarRect.remove()},o.prototype.redraw=function(){var t=this;t.getLogicalSpace(),t.draw()},u.extend(o.prototype,{draw:function(t,e,n){var i,r,o,a,s,u,l,c,h=this.componentGroups,p=this.dependencies,f=p.paper,g=this.config,d=0,m=0,y=Number.NEGATIVE_INFINITY,v=this.svgElems,x=g.padding,w=x.left,b=x.right,C=x.top,_=x.bottom,M=w+b,S=C+_,A=this.config.className;for(void 0===t&&void 0===e&&(t=this.toolbarX,e=this.toolbarY,n=this.parentGroup),this.toolbarX=t,this.toolbarY=e,r=t,o=e,this.parentGroup=n,c=v.group,c||(v.group=c=n.append("g")),i=v.toolbarRect,i||(i=v.toolbarRect=c.append("rect")),i.classed(A,!0),f.setAttrs(i,{x:r,y:o}),r+=w,o+=C,u=0,l=h.length;l>u;u++)s=h[u],a=s.draw({x:r+s.config.offsetX,y:o+s.config.offsetY},n),d+=a.width+s.config.margin.right,y=Math.max(y,a.height);return m=y,isFinite(m)||(m=0),isFinite(d)||(d=0),f.setAttrs(i,{height:m+=S,width:d+=M,rx:g.radius,ry:g.radius}),{height:m,width:d}},setConfig:function(e){return t(e,this.config),this},addComponent:function(t){return this.componentGroups.push(t),this},removeComponent:function(t){var e,n,i=this.componentGroups,r=i.length;for(e=0;r>e;e++)i[e]===t&&(n=e);return void 0!==n&&i.splice(n,n),this},getLogicalSpace:function(t,e){var n,i,r,o,a,s,u=this.componentGroups,l=this.config,c=l.padding,h=c.left+c.right,f=c.top+c.bottom,g=0,d=Number.NEGATIVE_INFINITY,m=0,y=0,v=0,x=[],w=!1,b=0;for(void 0===t&&void 0===e&&(t=this.lastAvailableWidth,e=this.lastAvailableHeight),this.lastAvailableWidth=t,this.lastAvailableHeight=e,n=0,i=u.length;i>n;n++){if(r=u[n],a=r.config.margin,s=a.left+a.right,o=r.getLogicalSpace(t-g-s,e-b-(a.top+a.bottom)),g+o.width+s<t)r.config.offsetX=g,g+=o.width+s,r.config.offsetY=b;else if(!w){x[m]||(x[m]={}),x[m].width=g,b+=x[m].height=d,n-=1,w=!0,g=0,m+=1;continue}d=d<o.height?o.height:d,w=!1}for(x[m]||(x[m]={}),x[m].width=g,x[m].height=d,n=0;m>=n;n+=1)y=p(y,x[n].width),v+=x[m].height;return y?(y+=h,v+=f,{width:y,height:v}):{width:0,height:0}}}),a.prototype.draw=function(t,e,n,i){var r=this.config,o=r.container,a=this.dependencies.paper,s=this.svgElems,u=this.text,l=s.node,c=this.textDimensions,h=r.height||i,p=t,f=s.containerNode,g=o.width||c.width,d=this.getIndividualClassNames(this.getClassName()),m=d.container,y=d.text,v=e;return p+=g/2,v+=(h||0)/2,f||(f=s.containerNode=n.append("rect")),a.setAttrs(f,{x:t,y:e,height:h,"fill-opacity":"0",width:g,"class":m}),l||(l=s.node=n.append("text").text(u).style("text-anchor","middle")),a.setAttrs(l,{x:p,y:v,"class":y,dy:"0.35em"}),this},a.prototype.getClassName=function(){return this.config.className},a.prototype.getIndividualClassNames=function(t){return{container:t+"-container",text:t+"-text"}},u.extend(a.prototype,{setConfig:function(e){this.config?t(e,this.config):this.config={}},getConfig:function(t){return this.config[t]},getLogicalSpace:function(){var t,e,n,i,r,o=this.config,a=o.container,s=this.dependencies,u=s.paper,l=u.getInstances().paper,h=s.smartLabel,p=this.text;return h.useEllipsesOnOverflow(1),t=this.getIndividualClassNames(this.getClassName()).text,e=c.getSmartComputedStyle(l,t),h.setStyle(e),r=h.getOriSize(p),this.textDimensions=r,n=a.width||r.width,i=a.height||r.height,{width:n,height:i}},getBoundElement:function(){return this.svgElems.node.node()}}),s={HorizontalToolbar:o,ComponentGroup:n,UniSelectComponentGroup:i,MultiSelectComponentGroup:r,Label:a},FusionCharts.registerComponent("api","toolbox",s)}]),FusionCharts.register("module",["private","modules.renderer.js-component-spacemanager",function(){function t(t){this.init(t)}function e(){t.apply(this,arguments)}function n(){o.apply(this,arguments)}function i(){e.apply(this,arguments)}function r(){i.apply(this,arguments)}function o(){e.apply(this,arguments)}function a(){o.apply(this,arguments)}function s(){n.apply(this,arguments)}function u(){i.apply(this,arguments)}var l=this,c=Math,h=c.round,p=c.min;t.prototype.constructor=t,t.prototype.init=function(l){var c,h=this;return h.componentArr=[],c=h.config={},c.name=l.name,c.pIndex=l.pIndex,c.index=l.index,c.width=l.width,c.x=l.x,c.y=l.y,c.height=l.height,c.type=l.type,c._parentInstance=l._parentInstance,c.minHeight=l.minHeight,c.minWidth=l.minWidth,c.alignment=l.alignment,c.layout=l.layout,c.dimensions=l.dimensions,c.initProp=l.initProp,c.dependencies=l.dependencies,h.linkedItems={},h.preDrawHook=l.preDrawHook,c.padding=l.padding||h.getStubPadding,h.getLinkedItems("VerticalSwimLane",e),h.getLinkedItems("VerticalSwimLane1",o),h.getLinkedItems("VerticalSwimLane2",a),h.getLinkedItems("VerticalSwimLane3",n),h.getLinkedItems("VerticalSwimLane4",s),h.getLinkedItems("HorizontalSwimLane",i),h.getLinkedItems("HorizontalSwimLane1",u),h.getLinkedItems("SpaceManager",t),h.getLinkedItems("Modules",r),h.getLinkedItems("ref",l.ref),h},t.prototype.getTypes=function(){var t={top:{key:0},middle:{key:1},bottom:{key:2}},e={left:{key:0},center:{key:1},right:{key:2}},n={orientation:{horizontal:{key:1,position:{top:{key:0,align:e},bottom:{key:1,align:e}}},vertical:{key:0,position:{left:{key:0,align:t},right:{key:1,align:t}}}},layout:{block:{key:0},inline:{key:1}}};return function(t,e){return e||(e=n),e[t]}}(),t.prototype.getCanvasGroup=function(t){return this.cacheByName("Canvas"+(t||0)+"Group")},t.prototype.registerModule=function(t){var e,n=t.position;e=t.orientation?n?"Extension4":"Extension1":n?"Extension3":"Extension2",this.cacheByName(e).addComponent([{type:"Modules",index:0,pIndex:2,name:t.name,alignment:t.alignment,ref:t.selfRef,layout:t.layout,dimensions:t.dimensions,preDrawHook:t.preDrawHook}])},t.prototype.assignProportions=function(){var t,e,n,i,r=this,o=r.componentArr,a=o.length,s=0,u=0;for(e=0;a>e;e+=1)t=o[e],t.assignProportions&&((n=t.assignProportions())?s+=n:u+=1);if(a&&1!==s||(s=this.config.initProp,this.config.initProp=0),s&&u){for(i=s/u,e=0;a>e;e+=1)t=o[e],t.config.initProp&&(t.config.initProp+=i);s=0}return s},t.prototype.cacheByName=function(t,e){var n,i=this,r=i.config;return(n=r._cache)||(n=r._cache={}),e&&(n[t]=e),n[t]},t.prototype.addComponent=function(t,e){var n,i,r,o,a,s,u=this,l=u.componentArr||(u.componentArr=[]),c=u.getParents()[0];for(n=0,i=t.length;i>n;n+=1)if(a=t[n],o=u.getLinkedItems(a.type),a._parentInstance=u,r=new o(a),a.name&&c.cacheByName(a.name,r),r.getId(),a.components&&r.addComponent(a.components),void 0!==e)for(l.splice(e,0,r),s=e+1;s<l.length;s+=1)l[s].config.index+=1;else l.push(r);return u},t.prototype.getStubPadding=function(){return{top:0,bottom:0,left:0,right:0}},t.prototype.equiAllotment=function(){var t,e,n=this.componentArr,i=this.config.padding();for(n&&n.sort(this.sortAsIndex),this.getComponentCount()||this.getComponentCount(n.length),this.getWidth()||this.getWidth(this.getUnitWidth()-i.left-i.right),this.getHeight()||this.getHeight(this.getUnitHeight()-i.bottom-i.top),this.getX()||this.getX(this.equiX(i)),this.getY()||this.getY(this.equiY(i)),t=0,e=n.length;e>t;t+=1)n[t].getIndex(t),n[t].equiAllotment()},t.prototype.resizeTo=function(t){var e=this.getWidth(),n=t?t.width:e,i=this.getHeight(),r=t?t.height:i;this.getHeight(r),this.getWidth(n),this.reset(!0),this.allocate(!0)},t.prototype.getParents=function(t){var e,n=this;return t||(t=[n]),e=n.getParentComponentGroup(),e?(t.unshift(e),e.getParents(t)):t},t.prototype.getUnitX=function(){return 0},t.prototype.getUnitY=t.prototype.getUnitX,t.prototype.sortAsPriority=function(t,e){
return t.config.pIndex-e.config.pIndex},t.prototype.sortAsIndex=function(t,e){return t.config.index-e.config.index},t.prototype.sortComponentsAsIndex=function(t,e){return t.config.index-e.config.index},t.prototype.getParentComponentGroup=function(){return this.config._parentInstance},t.prototype.getLinkedItems=function(t,e){return e&&(this.linkedItems[t]=e),this.linkedItems[t]},t.prototype.getComponentCount=function(t,e){return t?this.config.componentCount=t:e&&(this.config.componentCount=t),this.config.componentCount},t.prototype.setWidth=function(t,e){var n=this,i=n.config,r=n.getLinkedItems("Modules");return n.constructor!==r&&(e?i.width+=t:void 0!==t&&(i.width=t)),this.config.width},t.prototype.getWidth=function(){var t,e=this,n=e.config,i=n.width,r=e.isFunction;return r(i)?(t=i.apply(e),"string"!=typeof t&&isNaN(t)?i:(n.width=t,t)):e.setWidth.apply(e,arguments)},t.prototype.setHeight=function(t,e,n){var i,r,o=this,a=o.config,s=o.getLinkedItems("Modules"),u=o.getLinkedItems("HorizontalSwimLane");return o.constructor!==s&&(e?a.height=Math.max(a.height+t,0):void 0!==t&&t>=0&&(a.height=t)),n&&o.constructor===u&&(i=o.getAdjComponents()||[],(r=i[1])&&r.recurse(r.getY,a.height+o.getY()-r.getY(),!0)),this.config.height},t.prototype.getHeight=function(){var t,e=this,n=e.config,i=n.height,r=e.isFunction;return r(i)?(t=i.apply(e),"string"!=typeof t&&isNaN(t)?i:(n.height=t,t)):e.setHeight.apply(e,arguments)},t.prototype.getUnitWidth=function(){var t=this;return t.getWidth()/t.getComponentCount()},t.prototype.getUnitHeight=function(){return this.getHeight()},t.prototype.doNotDraw=function(t,e){return t?this.config.doNotDraw=!!t:e&&(this.config.doNotDraw=!!t),this.config.doNotDraw},t.prototype.sortDependency=function(){var t,e,n=this,i=n.dependants||[];for(t=0,e=i.length;e>t;t+=1)i[t].allocate();n.dependants=void 0,n.dependantObj=void 0},t.prototype.iterateDependency=function(){var t,e;if(e=this.getDependencyObj())for(t in e)e[t].call(this)},t.prototype.getDependencyObj=function(t){var e,n=this.config;return(e=n.dependencies)||(e=n.dependencies={}),"object"==typeof t&&(e[t]=t),e},t.prototype.registerDependency=function(t){var e,n,i=this,r=t.getId();(e=i.dependants)||(e=i.dependants=[]),(n=i.dependantObj)||(n=i.dependantObj={}),n[r]||(e.unshift(t),n[r]=!0)},t.prototype.getId=function(){var t=this,e=t.config;return e._id||(e._id=16*Math.random()|"0"),e._id},t.prototype.getIndex=function(t){var e=this.config;return void 0!==t&&(e.index=t),e.index},t.prototype.getName=function(t){var e=this.config;return t&&(e.name=t),e.name},t.prototype.setX=function(t,e){return e?+this.config.x?this.config.x+=t:+this.config._x&&(this.config._x+=t):void 0!==t&&(this.config.x=t),this.config.x},t.prototype.getX=function(){var t,e=this,n=e.config,i=n.x,r=e.isFunction;return r(i)?isNaN(t=i.apply(e))?i:(e.adjustX(t),e.setX(t)):e.setX.apply(e,arguments)},t.prototype.get=function(t,e){var n=this,i=n.getParents()[0],r=i.cacheByName(e),o=r&&r.config[t];return r?Number(o)||i.registerDependency(n):n.createAbstractModules(i,t,e),o},t.prototype.createAbstractModules=function(t,e,n){var i,r;(i=t._dummy)||(i=t._dummy={}),(r=i[e])||(r=i[e]={}),r[n]||(r[n]={}),r[n][this.getName()||this.getId()]=this},t.prototype.getY=function(t,e){return e?+this.config.y?this.config.y+=t:+this.config._y&&(this.config._y+=t):void 0!==t&&(this.config.y=t),this.config.y},t.prototype.clipGroupElement=function(t){return t},t.prototype.setDrawingConfiguration=function(t,e){var n,i,o,a,s,u,l=this,c=this.clipGroupElement,h=l.componentArr,p=l.getLinkedItems("ref");for(t||(t=e&&e.group("containerGroup")),h.sort(l.sortAsPriority),l.preDrawHook&&l.preDrawHook.call(l,!0),u=0,n=l.getComponentCount();n>u;u+=1)h[u].setDrawingConfiguration(t,e);l.constructor===r&&p&&p.setDrawingConfiguration&&(i=l.getX(),o=l.getY(),a=l.getWidth(),s=l.getHeight(),l.group||(l.group=c(p.getDefaultGroup&&p.getDefaultGroup()||t.append("g"),i,o,a,s)),p.setDrawingConfiguration(i,o,a,s,l.group))},t.prototype.draw=function(){var t,e,n=this,i=n.componentArr,o=n.getLinkedItems("ref");for(i.sort(n.sortAsPriority),e=0,t=n.getComponentCount();t>e;e+=1)i[e].draw();n.constructor===r&&o&&o.draw(n.getX(),n.getY(),n.getWidth(),n.getHeight())},t.prototype.getPriority=function(){return this.config.pIndex},t.prototype.modifyIndex=function(t){var e,n,i=this.getParentComponentGroup(),r=this.getIndex(),o=i.componentArr;for(e=o.splice(r,1)[0],e.getIndex(t),o.splice(t,0,e),n=t+1;r>=n;n+=1)o[n].config.index+=1},t.prototype.allocate=function(t,e){var n,i,r,o,a,s,u,l=this,c=l.componentArr,h=0,p=c.length,f=function(t,e){return t.recurse(t.getHeight,e,!0),t.reset(),t.allocate()};for(t||l.assignProportions(),e||l.equiAllotment(),c&&c.sort(l.sortAsPriority),i=0;p>i;i+=1)n=c[i],u=n.allocate(),n.usedConfig=u,h+=u.excess;for(this.recurse(function(){this.preDrawHook&&this.preDrawHook()}),c.sort(l.sortAsIndex),i=0;p>i;i+=1)n=c[i],u=n.usedConfig,u.excess?(n.adjustY(-u.excess),l.adjustX(-u.excess,i+1)):u.queue.length&&(a=n.getHeight(),n.adjustY(-a),l.adjustX(-a,i+1),h+=a);if(h)for(i=0;p>i;i+=1)c.sort(l.sortAsPriority),n=c[i],o=n.usedConfig,o.queue.length&&(r=n.getHeight(),u=f(n,h),u.queue.length<o.queue.length?(n.adjustY(-u.excess),c.sort(l.sortAsIndex),a=n.getHeight()-r,l.adjustX(a,n.getIndex()+1),h-=a):f(n,-h));return h&&(c.sort(l.sortAsPriority),s=c[0],s.adjustY(h),c.sort(l.sortAsIndex),l.adjustX(h,s.config.index+1),s.reset(),s.allocate()),this.recurse(function(){this.preDrawHook&&this.preDrawHook()}),this.recurse(this.iterateDependency),this.sortAbstractModules(),l},t.prototype.adjustX=function(t,e){var n,i,r,o,a,s=this,u=s.componentArr,l=u.length;for(n=e;l>n;n+=1)for(r=u[n],r.config.y+=t,i=0,a=r.componentArr.length;a>i;i+=1)o=r.componentArr[i],o.config.y+=t,o.adjustY&&o.adjustY(t)},t.prototype.sortAbstractModules=function(){var t,e,n,i,r,o,a,s,u,l,c,h,p=this,f=p.getParents()[0],g=p._dummy;for(a in g){t=g[a];for(e in t){if(n={config:{}},n.config[a]=1,f.cacheByName(e,n),i=t[e],"x"===a||"y"===a){u=-(1/0);for(s in i)r=i[s],l=r.config[a],l>u&&(u=l)}else if("width"===a||"height"===a){u=1/0;for(s in i)r=i[s],l=r.config[a],u>l&&(u=l)}for(s in i)c=i[s].getParentComponentGroup().config,h=i[s].config,o=u-h[a],h[a]=u,c[a]=u,"x"===a?h.width-=o:"y"===a&&(h.height-=o)}}},t.prototype.getAdjComponents=function(){var t=this,e=t.getIndex(),n=t.getParentComponentGroup(),i=n&&n.componentArr||[],r=i&&i.slice(0);return r?(r.sort(t.sortComponentsAsIndex),[r[e-1],r[e+1]]):void 0},t.prototype.recurse=function(){var t,n,i=this,r=Array.prototype.slice.call(arguments,0),o=r.shift(),a=i.componentArr;for(o.apply(i,r),r.unshift(o),n=a.length,o===i.getHeight&&i.constructor===e&&(r[1]/=n),t=0;n>t;t+=1)a[t].recurse.apply(a[t],r);return i},t.prototype.isFunction=function(t){return t?t instanceof Function:void 0},t.prototype.dispose=function(){var t,e,n,i,r,o,a=this,s=Object.keys(a);for(t=0,i=s.length;i>t;t+=1){if(r=s[t],"componentArr"===r)for(e=0,o=a.componentArr,n=o.length;n>e;e+=1)o[t].dispose();a[r]=void 0,delete a[r]}},t.prototype.equiX=function(){return this.getUnitX()},t.prototype.equiY=function(t){return this.getUnitY()+t.top},t.prototype.reset=function(t){var e,n,i=this,r=this.config,o=i.componentArr;for(r.allotedHeight=r.allotedX=null,e=0,n=o.length;n>e;e+=1)o[e].reset(t);return this},l.extend(t.prototype,{add:function(t){var e,n,i,r,o,a,s,u,l,c,h,p,f,g,d,m,y,v,x,w,b,C=this,_=(t||[]).length,M=C.cacheByName("canvasContainer"),S=C.getTypes;for(e=0;_>e;e+=1)for(g=t[e],y=g.ref({0:M}),v=g.minDimension,x=g.name(),o=g.preDrawHook,b=g.self(),d=g.layout(S("layout")).key,m=g.priority(),w=g.orientation,n=0,h=w.length;h>n;n+=1)for(g=w[n],a=g.type(S("orientation")),s=g.position,i=0,p=s.length;p>i;i+=1)for(g=s[i],u=g.type(S("position",a)),l=g.alignment,r=0,f=l.length;f>r;r+=1)g=l[r],c=g.type(S("align",u)),C.registerModule({dimensions:g.dimensions,priority:m,layout:d,alignment:c.key,orientation:a.key,position:u.key,name:x,minDimension:v,selfRef:b,ref:y,preDrawHook:o})}}),e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.exceedMinWidth=function(t){var e=this,n=e.config,i=n.minWidth,r=e.isFunction;return r(i)&&(n.minWidth=i.apply(e,e.getParents())),+i&&e.getWidth()+t<i?!0:void 0},e.prototype.getUnitWidth=function(){var t,e=this,n=e.getParentComponentGroup(),i=e.config.initProp;return n.config.allotedX||(n.config.allotedX=0),t=void 0!==i?n.getWidth()*i:e*n.getWidth()/n.getComponentCount(),n.config.allotedX+=t,t},e.prototype.getUnitHeight=function(){return this.getParentComponentGroup().getHeight()},e.prototype.getUnitX=function(){var t=this.getParentComponentGroup();return t.config.allotedX-this.getWidth()+t.getX()},e.prototype.getUnitY=function(){return this.getParentComponentGroup().getY()},e.prototype.childrenAllocation=function(){var t,e,n,i,r,o,a=this,s=a.componentArr,u=0,l=0,c=a.getHeight(),h=a.getParentComponentGroup();for(s&&s.sort(a.sortAsPriority),e=0,t=s.length;t>e;e+=1)n=s[e],i=n.allocate(),r=i.height,o=i.width,+r&&void 0!==+l?c>=l+r?l+=r:h.adjustY&&h.adjustY(l+r)?l+=r:n.doNotDraw(!0):l=r,+o&&void 0!==+u?!n.doNotDraw()&&(u=Math.max(u,o)):u=o;return{width:u,height:l}},e.prototype.allocate=function(){var t,e,n,i,r,o,a,s=this,u=0,l=0,c=s.getWidth();return r=s.childrenAllocation(),u=r.width,l=r.height,((t=c-u)>0||!isNaN(t))&&(e=s.getAdjComponents(),(n=e[0])&&(n=n.getPriority()<s.getPriority()?n:null),(i=e[1])&&(i=e[1].getPriority()<s.getPriority()?i:null),n&&n.getComponentCount()&&i&&i.getComponentCount()?o=a=t/2:n&&n.getComponentCount()?(o=t,n.exceedMinWidth(o)&&(u+=o,o=0)):i&&i.getComponentCount()&&(a=t,i.exceedMinWidth(a)&&(u+=a,a=0)),o||a?s.recurse(s.getWidth,u):0>t&&s.recurse(s.doNotDraw,!0),n&&o&&(s.recurse(s.getX,t,!0),n.recurse(s.getWidth,t,!0)),i&&a&&(i.recurse(s.getX,-a,!0),i.recurse(s.getWidth,a,!0))),s.dependants&&s.sortDependency(),{width:+u?Math.max(u,s.getWidth()):s.getParentComponentGroup().getWidth(),height:l}},e.prototype.offsetX=function(t,e,n){var i,r,o=this,a=o.componentArr;for(!n&&+o.getX()&&o.getX(t,e),+o.getWidth()&&o.getWidth(Math.abs(t),e,n),i=0,r=a.length;r>i;i+=1)a[i].offsetX(t,e,n)},e.prototype.adjustX=function(t){var n=this,i=!1,r=n.getAdjComponents(),o=r[0],a=r[1];n.config.x+=t,a&&a.constructor===e&&a.capWidth(t)&&(i=!0,a.recurse(a.getX,t,!0),a.recurse(a.getWidth,-t,!0)),o&&o.constructor===e&&(i=!0,o.recurse(o.getWidth,t,!0)),i?n.capWidth():n.recurse(n.getWidth,-t,!0)},e.prototype.capWidth=function(t){var e=this,n=e.getParentComponentGroup(),i=e.getWidth()+e.getX()-(n.getWidth()+n.getX());return t?0>=t+i:void(i>0&&e.recurse(e.getWidth,-i,!0))},o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.prototype.allocate=function(){return this.placeElements.apply(this,arguments)},o.prototype.sortAspIndex=function(t,e){return e.element.config.pIndex-t.element.config.pIndex},o.prototype.placeX=function(t,e){return t.rightMostX-e},o.prototype.placeElements=function(t,e,n,i){var r,o,a,s,u,l,c,p,f,g,d,m,y,v,x=Math.round,w=this,b=(w.placeX,w.placeAdjustedX,t||w.getWidth()),C=e||w.getHeight(),_=(w.getX(),n||w.componentArr),M=[],S=i||w.elementArr||(w.elementArr=[]),A=function(t,e){var n;return"object"==typeof t[e]?n=t[e].min:void 0!==+t[e]&&(n=t[e]),n},k=function(t,e){var n;return"object"==typeof t[e]?n=t[e].max:void 0!==+t[e]&&(n=t[e]),n},N=function(n,i,r,o){var a,s,u,l,c,h,p,f,g,d,_,M,T=!1,P=r?A:k;for(a=n.config.layout,s=n.config.alignment,u=n.config.dimensions,l=0;l<u.length;l+=1)T||("function"==typeof u[l]?(c=u[l],u[l]=g=u[l].call(n),n.config._dimensions[l]=c):g=u[l],_=A(g,"width"),d=A(g,"height"),x(d)>x(C)||x(_)>x(b)||(h=S[i],m=h.topMostX,y=h.bottomMostX,v=h.rightMostX,M=h.leftMostX,p=P(g,"width"),f=P(g,"height"),0===a?!h.elements.length&&w.checkPlacement(p,f,h,t,e)?(T=!0,n.config.height=f,n.config.width=p,n.config.selectedDimension=g,h.elements.push(n),w.allocateElement(h,n,p,f,s),h.isBlocked=!0):n.config.selectedDimension||!o&&w.checkExcess(h,p,f)&&(I+=1,h=w.getNewRowConfig(I,h),S.push(h),T=N(n,i+1,r,!0)):0===s?!h.isBlocked&&w.checkPlacement(p,f,h,t,e)?(T=!0,n.config.height=f,n.config.width=p,n.config.selectedDimension=g,h.elements.push(n),w.allocateElement(h,n,p,f)):!o&&w.checkExcess(h,p,f)?(I+=1,h=w.getNewRowConfig(I,h),S.push(h),T=N(n,i+1,r,!0)):!o&&i>0&&(T=N(n,i-1,r,!0)):2===s&&(!h.isBlocked&&w.checkPlacement(p,f,h,t,e)?(T=!0,n.config.height=f,n.config.width=p,n.config.selectedDimension=g,h.elements.push(n),w.allocateElement(h,n,p,f,s)):!o&&w.checkExcess(h,p,f)?(I+=1,h=w.getNewRowConfig(I,h),S.push(h),T=N(n,i+1,r,!0)):!o&&i>0&&(T=N(n,i-1,r,!0)))));return T},I=w.currRowIndex||(w.currRowIndex=0);if(w.getHeight(h(C)),w.getWidth(h(b)),S.length||S.push(w.getStubConfig()),l=w.priorityBuckets){if(n)for(l={},r=0,s=n.length;s>r;r+=1)c=n[r],g=c.getPriority(),l[g]||(l[g]=[]),l[g].push(c)}else for(l=w.priorityBuckets={},r=0,s=_.length;s>r;r+=1)c=_[r],g=c.getPriority(),l[g]||(l[g]=[]),l[g].push(c);for(d=Object.keys(l),s=d.length,d.sort(),r=0;s>r;r+=1)for(u=l[d[r]],u.sort(w.sortAsIndex),o=0,a=u.length;a>o;o+=1)c=u[o],c.config._dimensions||(c.config._dimensions=c.config.dimensions),p=N(c,I),p||(p=N(c,I,!0)),p||M.push(c);return s=S.length,f=S[s-1],{queue:M,excess:w.getExcess(f),excessHeight:w.getExcessHeight(f),row:f}},o.prototype.getExcessHeight=function(t){return this.getHeight()-t.height},o.prototype.getNewRowConfig=function(t,e){return this.getStubConfig(t,e.rightMostX-e.width,e.leftMostX+e.width)},o.prototype.getStubConfig=function(t,e,n){var i=this,r=i.getHeight(),o=i.getX(),a=i.getY();return{index:t||0,height:r,topMostX:a,bottomMostX:a+r,rightMostX:e||i.getWidth()+o,leftMostX:n||o,elements:[]}},o.prototype.checkPlacement=function(t,e,n){var i,r=this,o=r.getX();return n.topMostX+e<=n.bottomMostX&&(i=r.placeX(n,t))>=o&&i+t<=o+r.getWidth()},o.prototype.allocateElement=function(t,e,n,i,r){var o=this;2===r?(t.bottomMostX-=i,e.config.y=t.bottomMostX):1===r?e.config.y=(t.topMostX+t.bottomMostX)/2-i/2:(e.config.y=t.topMostX,t.topMostX+=i),e.config.x=o.placeX(t,n),t.width=Math.max(t.width||0,n)},o.prototype.checkExcess=function(t,e){return t.rightMostX-t.width-e>=0},o.prototype.placeAdjustedX=function(t,e){return t.rightMostX-e},o.prototype.getExcess=function(t){var e=t.width,n=this;return void 0===e&&(e=n.getWidth()),t.rightMostX-e-n.getX()},o.prototype.adjustX=function(t,e){var n,i,r,o,a,s,u=this,l=e?"y":"x",c=u.elementArr;for(n=0,o=c.length;o>n;n+=1)for(s=c[n],e?s.bottomMostX+=t:s.rightMostX+=t,a=s.elements,i=0,r=a.length;r>i;i+=1)a[i].config[l]+=t},o.prototype.adjustY=function(t){return this.adjustX(t,!0)},o.prototype.spaceQuincher=function(t){this.config.width-=t,this.adjustX(-t)},o.prototype.insertColumn=function(t){var e=this,n=e.elementArr;n.push(t)},a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.prototype.spaceQuincher=function(){},a.prototype.placeX=function(t){return t.leftMostX},a.prototype.placeAdjustedX=function(t){return t.leftMostX},a.prototype.checkExcess=function(t,e){var n=this;return t.leftMostX+t.width+e<=n.getX()+n.getWidth()},a.prototype.spaceQuincher=function(t){this.config.width-=t},n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.checkExcess=function(t,e,n){return t.topMostX-n>=this.getY()},n.prototype.getStubConfig=function(t,e){var n=this,i=n.getWidth(),r=n.getX();return{index:t||0,width:i,bottomMostX:e||n.getY()+n.getHeight(),rightMostX:i+r,leftMostX:r,elements:[]}},n.prototype.checkPlacement=function(t,e,n){return n.bottomMostX-e>=this.getY()&&n.leftMostX+t<=n.rightMostX},n.prototype.allocateElement=function(t,e,n,i,r){var o=t.bottomMostX;e.config.y=o-i,t.height=Math.max(t.height||0,i),2===r?(e.config.x=t.rightMostX-n,t.rightMostX-=n):1===r?e.config.x=(t.leftMostX+t.rightMostX)/2-n/2:(e.config.x=t.leftMostX,t.leftMostX+=n),t.topMostX=o-t.height},n.prototype.getNewRowConfig=function(t,e){return this.getStubConfig(t,e.topMostX,e.bottomMostX)},n.prototype.getExcessHeight=function(t){return t.topMostX-this.getY()},n.prototype._spaceQuincher=function(t){this.config.height-=t,this.adjustX(-t,!0)},n.prototype.adjustY=function(t){return this.adjustX(t,!0)},n.prototype.getExcess=function(t){var e=this.getX(),n=this.getWidth();return t.rightMostX===e+n?t.rightMostX-t.width-this.getX():0},s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.checkPlacement=function(t,e,n){return n.topMostX+e<=this.getY()+this.getHeight()&&n.leftMostX+t<=n.rightMostX},s.prototype.allocateElement=function(t,e,n,i,r){var o=t.topMostX;e.config.y=o,2===r?(e.config.x=t.rightMostX-n,t.rightMostX-=n):1===r?e.config.x=(t.leftMostX+t.rightMostX)/2-n/2:(e.config.x=t.leftMostX,t.leftMostX+=n),t.height=Math.max(t.height||0,i),t.bottomMostX=o+t.height},s.prototype.checkExcess=function(t,e,n){return t.bottomMostX+n<=this.getY()+this.getHeight()},s.prototype.getExcessHeight=function(t){var e=this;return e.getY()+e.getHeight()-t.bottomMostX},s.prototype.getStubConfig=function(t,e,n){var i=this,r=i.getWidth(),o=i.getX();return{index:t||0,width:r,topMostX:n||i.getY(),bottomMostX:e||i.getY()+i.getHeight(),rightMostX:r+o,leftMostX:o,elements:[]}},s.prototype.adjustY=function(t){return h(this.getY())!==h(this.elementArr[0].bottomMostX-this.elementArr[0].height)?this.adjustX(t,!0):void 0},i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.exceedMinHeight=function(t){var e=this,n=e.config,i=n.minHeight,r=e.isFunction;return r(i)&&(i=n.minHeight=i.apply(e,e.getParents())),+i&&e.getHeight()+t<i?!0:void 0},i.prototype.getUnitWidth=function(){return this.getParentComponentGroup().getWidth()},i.prototype.getUnitHeight=function(){var t,e=this,n=e.getParentComponentGroup(),i=n.config,r=e.config.initProp;return i.allotedHeight||(i.allotedHeight=0),t=void 0!==r?n.getHeight()*r:n.getHeight()/n.getComponentCount(),i.allotedHeight+=t,t},i.prototype.getUnitX=function(){return this.getParentComponentGroup().getX()},i.prototype.getUnitY=function(){var t=this.getParentComponentGroup();return t.config.allotedHeight-this.getHeight()+t.getY()},i.prototype.allocate=function(t){var e,n,i,r,o,a,s=this,u=s.componentArr,l=0,c=0;for(u&&u.sort(s.sortAsPriority),e=0,a=u.length;a>e;e+=1)n=u[e],i=n.allocate(),r=i&&i.height,o=i&&i.width,+r&&(r<=s.getHeight()?l=Math.max(r,l):n.doNotDraw(!0)),+o&&(o+c>s.getWidth()?n.doNotDraw(!0):c+=o);return t||s.adjustY(l),{width:c,height:l}},i.prototype.adjustY=function(t){var e,n,i,r,o,a,s=this,u=!1,l=s.getHeight();return(o=l-t)>=0,a=s.getAdjComponents(),e=a[0],n=a[1],(e=a[0])&&(e=e.getPriority()<s.getPriority()?e:null),(n=a[1])&&(n=a[1].getPriority()<s.getPriority()?n:null),e&&e.getComponentCount()&&n&&n.getComponentCount()?i=r=o/2:e&&e.getComponentCount()?(i=o,e.exceedMinHeight(i)&&(t+=i,i=0)):n&&n.getComponentCount()&&(r=o,n.exceedMinHeight(r)&&(t+=r,r=0)),(i||r)&&(u=!0,s.recurse(s.getHeight,t)),e&&i&&(s.recurse(e.getY,i,!0),e.recurse(e.getHeight,i,!0,!0)),n&&r&&(n.recurse(n.getY,-r,!0),n.recurse(n.getHeight,r,!0,!0)),u},i.prototype.equiX=function(t){return this.getUnitX()+t.left},i.prototype.equiY=function(t){return this.getUnitY()-t.bottom},u.prototype=Object.create(i.prototype),u.prototype.constructor=u,u.prototype.adjustX=function(t,e){var n,i=this,r=i.componentArr,o=r.length;for(n=e;o>n;n+=1)r[n].config.x+=t,r[n].adjustX(t)},u.prototype.spaceQuincher=n.prototype._spaceQuincher,u.prototype.allocate=function(t){var e,n,i,r,o,a,s=this,u=s.componentArr,l=0,c=1/0,h=[];for(u&&u.sort(s.sortAsPriority),e=0,a=u.length;a>e;e+=1)n=u[e],o=n.allocate(),n.config.usedConfig=o;if(!t){for(u&&u.sort(s.sortAsIndex),e=0,a=u.length;a>e;e+=1)n=u[e],o=n.config.usedConfig,r=o.excess,r&&(l+=r,n.spaceQuincher(r),s.adjustX(-r,e+1)),o.excessHeight&&(c=p(c,o.excessHeight)),o.queue.length&&h.push({component:n,queue:o.queue,excess:o.excess});return u&&u.sort(s.sortAsPriority),l&&(i=u[0],i.config.width+=l,u.sort(s.sortAsIndex),s.adjustX(l,i.config.index+1)),{queue:h,excess:c===1/0?0:c}}},u.prototype.adjustY=function(t){var e,n,i,r=this,o=r.componentArr;for(r.config.height+=t,e=0,n=o.length;n>e;e+=1)i=o[e],i.config.height+=t,i.adjustY&&i.adjustY(t)},u.prototype.reset=function(t){var e,n,i,r,o,a,s,u=this,l=u.componentArr,c=function(t){t.x=t.y=t.width=t.height=void 0,t.allotedHeight=t.allotedX=null};for(t&&c(this.config),e=0,a=l.length;a>e;e+=1)for(s=l[e],s.elementArr.length=0,s.currRowIndex=0,s.priorityBuckets=void 0,t&&c(s.config),n=0,i=s.componentArr.length;i>n;n+=1)o=s.componentArr[n],r=o.config,r.x=r.y=r.width=r.height=void 0,r.selectedDimension=null,r.dimensions=r._dimensions;return this},r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.prototype.adjustX=function(t){var e=this,n=e.getParentComponentGroup();e.config.x=t,n.adjustX(t-n.getX())},r.prototype.allocate=function(t,e){e||(e=0);var n,i,r,o,a,s,u,l,c,h,p,f,g,d,m,y=this,v=y.getParentComponentGroup(),x=!1,w=v.getWidth(),b=v.getHeight(),C=y.getLinkedItems("Modules"),_=y.getParents()[0];return y.config._width||(y.config._width=y.config.width),y.config._height||(y.config._height=y.config.height),g=y.getWidth(),d=y.getHeight(),+g&&+d||(h={},"string"==typeof g&&(r=_.cacheByName(g))instanceof C?(x=!0,+(o=r.getWidth())?(y.config.width=o,x=!1):r.getParentComponentGroup().registerDependency(y)):"parent"===g&&(h.width=this.config.width=w),"string"==typeof d&&(r=_.cacheByName(d))instanceof C?(x=!0,+(a=r.getHeight())?(y.config.height=a,n=a-y.getHeight(),i=y.getAdjComponents(),y.getY()+a<y.getParentComponentGroup().getHeight()?(y.recurse(y.getHeight,a),f=i&&i[1],f&&f.getHeight(-n,!0),f&&f.recurse(y.getY,n,!0),f.allocate(!0),b=y.getHeight()):(p=i&&i[0],p&&p.getPriority()<y.getPriority()&&(p.getHeight(r.getY()-y.getY(),!0),p.allocate(!1),y.recurse(y.getY,r.getY()-y.getY(),!0),y.recurse(y.getHeight,a),(f=i[1])&&(n=y.getY()+a-f.getY(),f.getHeight(-n,!0),f.allocate(!1),f.recurse(y.getY,n,!0)))),x=!1):r.getParentComponentGroup().registerDependency(y)):"parent"===d&&(h.height=y.config.height=b)),this.config._x=c=y.getX(),this.config._y=l=y.getY(),"string"==typeof c&&(r=_.cacheByName(c))instanceof C?(x=!0,+(s=r.getX())?(y.config._x=c,y.adjustX(s),x=!1):(y.config._x=v.getX(),r.getParentComponentGroup().registerDependency(y))):void 0===c&&y.getX(v.getX()),"string"==typeof l&&(r=_.cacheByName(l))instanceof C?(x=!0,+(u=r.getY())?(y.config._y=l,y.getY(u),n=y.getY()-u,i=y.getAdjComponents(),p=i[0],f=i[1],n>0&&p?(p.recurse(y.getHeight,-n,!0),p.allocate(!0),f&&(f.getHeight(n,!0),f.recurse(y.getY,-n,!0),f.allocate(!0))):(f=i[1])&&(f.getHeight(n,!0),f.allocate(!0),v=f.getParentComponentGroup(),f.getY()-n+f.getHeight()<=v.getY()+v.getHeight()&&f.recurse(y.getY,-n,!0)),v=y.getParentComponentGroup(),y.recurse(y.getY,u),(m=u+y.getHeight()-(v.getY()+v.getHeight()))>0&&(y.getHeight(-m,!0),y.allocate()),x=!1):(y.config._y=v.getY(),r.getParentComponentGroup().registerDependency(y))):void 0===l&&y.getY(e+v.getY()),{width:y.getWidth(),height:y.getHeight()}},r.prototype.equiAllotment=function(){},r.prototype.reAllocate=function(){var t=this.getLinkedItems("ref").getDefaultGroup(),e=this.getParentComponentGroup();e.getParentComponentGroup().reset().allocate(),e.setDrawingConfiguration(t),e.draw()},r.prototype.assignProportions=void 0,FusionCharts.registerComponent("api","spacemanager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-element-recycle-api",function(){function t(){this.elementObj={}}t.prototype.preProcessor=function(t){var e,n,i=this,r=i.elementObj;for(n in r)if(r.hasOwnProperty(n)&&r[n].pool){i.insertReserveElement(n,t&&t[n]);for(e in r[n].elements)r[n].elements.hasOwnProperty(e)&&(r[n].pool[e]=r[n].elements[e],delete r[n].elements[e])}return this},t.prototype.postProcessor=function(){var t,e,n=this,i=n.elementObj;for(e in i)if(i.hasOwnProperty(e)&&i[e].pool)for(t in i[e].pool)i[e].pool.hasOwnProperty(t)&&i[e].pool[t].hide&&i[e].pool[t].hide();return this},t.prototype.getElementIfExist=function(t,e){var n,i,r,o=this;if((n=o.elementObj[t])||(n=o.elementObj[t]={elements:{},pool:{},reserveElement:[]}),n.pool[e])i=n.pool[e],delete n.pool[e];else for(r in n.pool)if(n.pool.hasOwnProperty(r)&&-1===n.reserveElement.indexOf(r)){i=n.pool[r],delete n.pool[r];break}return void 0!==i?(i.show&&i.show(),n.elements[e]=i):void 0},t.prototype.getDrawnElements=function(t,e){var n=this,i=n.elementObj[t],r=i&&i.elements;return r&&r[e]},t.prototype.insertElement=function(t,e,n){var i=this,r=i.elementObj[t];return r&&(r.elements[e]=n),i},t.prototype.insertReserveElement=function(t,e){var n=this,i=n.elementObj[t];return i&&(i.reserveElement.length=0,i.reserveElement=e||[]),n},FusionCharts.registerComponent("api","elementrecycle",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-time-series-time-rules-api",function(){function t(){var t=["millisecond","second","minute","hour","day","month","year"],e={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:31536e6},n={millisecond:{child:"millisecond-1",abbreviation:{single:"m",multi:"ms"},description:"Millisecond"},second:{child:"second-1",abbreviation:{single:"s",multi:"sec"},description:"Second"},minute:{child:"minute-1",abbreviation:{single:"m",multi:"min"},description:"Minute"},hour:{child:"hour-1",abbreviation:{single:"h",multi:"hr"},description:"Hour"},day:{child:"day-1",cycle:"month",abbreviation:{single:"D",multi:"Day"},description:"Day"},month:{child:"month-1",abbreviation:{single:"M",multi:"Mon"},description:"Month"},year:{child:"year-1",abbreviation:{single:"Y",multi:"Yr"},description:"Year"}},i={quarter:{child:"month-3",abbreviation:{single:"Q",multi:"Qtr"},description:"Quarter",accomodateAll:!0,showInSpan:!0,use:!1},week:{child:"day-7",start:"day-1",cycle:"year",abbreviation:{single:"W",multi:"Wk"},description:"Week",accomodateAll:!0,showInSpan:!0,use:!1}};this.date=new Date,this.rulesSimplifier=function(t){var n,i;return n=function(t){return t.split("-")},i=n(t.child),{interval:i&&e[i[0]]*i[1]}},this.getBaseTimeUnits=function(){return t},this.getPrimaryRules=function(){return n},this.changeRuleState=function(t,e){this.ruleCache=void 0,this.rulesHierarchy=void 0,n[t]&&"week"===t?n[t].use=e:i[t]&&(i[t].use=e)},this.insertRule=function(t){this.ruleCache=void 0,this.rulesHierarchy=void 0,n[t.name]||(i[t.name]=t.rules,this.formatter[t.name]=t.formatter,this.miscFn[t.name]=t.miscFn)},this.createRules=function(){var t,e,r,o,a,s=[];t=this.rulesHierarchy=[],e=function(t,e){return{name:e,interval:this.rulesSimplifier(t[e]).interval,child:t[e].child,start:t[e].start,cycle:t[e].cycle,accomodateAll:t[e].accomodateAll,showInSpan:t[e].showInSpan,abbreviation:t[e].abbreviation,description:t[e].description}};for(r in n)n.hasOwnProperty(r)&&n[r].use!==!1&&s.push(e.call(this,n,r));for(r in i)i.hasOwnProperty(r)&&i[r].use!==!1&&s.push(e.call(this,i,r));for(s.sort(function(t,e){return t.interval-e.interval}),o=0,a=s.length;a>o;o+=1)s[o+1]&&s[o].accomodateAll!==!0?s[o].possibleFactors=this.getDivisors(Math.floor(s[o+1].interval/s[o].interval)):s[o].possibleFactors=[1],t.push(s[o].name);return s}}var e=this,n=e.hcLib,i=n.DateTimeFormatter.formatAs;t.prototype.getFormatter=function(t){return this.formatter[t]||this.formatter["default"]},t.prototype.formatter={millisecond:{"default":function(t){var e=new Date(t);return e.getMilliseconds()+" ms"}},second:{"default":function(t){return i(t,"%S s")},context:function(t){return i(t,"%d %b' %y %l-:%M-:%S %p")},major:function(t){return i(t,"%l-:%M-:%S %p")},single:function(t){return this.skipLabel("hour",t)?i(t,"%e %b' %y"):i(t,"%l-:%M-:%S %p")}},minute:{"default":function(t){return i(t,"%M m")},major:function(t){return i(t,"%l:%M %p")},context:function(t){return i(t,"%d %b' %y %l:%M %p")},single:function(t){return this.skipLabel("hour",t)?i(t,"%e %b' %y"):i(t,"%l:%M %p")}},hour:{"default":function(t){return i(t,"%l %p")},context:function(t){return i(t,"%d %b' %y %l %p")},single:function(t){return this.skipLabel("hour",t)?i(t,"%e %b' %y"):i(t,"%l %p")}},day:{"default":function(t){return i(t,"%e")},major:function(t){return i(t,"%e %b")},context:function(t){return i(t,"%e %b' %y")},single:function(t){return this.skipLabel("day",t)?i(t,"%b' %y"):i(t,"%e")}},week:{"default":function(t){return"Wk-"+this.miscFn["default"].index.call(this,t,"week")},context:function(t){return i(t,"%b' %y")+" Wk-"+this.miscFn["default"].index.call(this,t,"week")}},month:{"default":function(t){return i(t,"%b")},context:function(t){return i(t,"%b' %y")},single:function(t){return this.skipLabel("month",t)?i(t,"%Y"):i(t,"%b' %y")}},quarter:{"default":function(t){return"Qtr-"+this.miscFn["default"].index.call(this,t,"quarter")},context:function(t){return i(t,"%Y")+" Qtr-"+this.miscFn["default"].index.call(this,t,"quarter")}},year:{"default":function(t){return i(t,"%Y")}},"default":{"default":function(t,e){var n=this.getRules(),i=this.getRulesHierarchy().indexOf(e.name),r=n[i].abbreviation&&n[i].abbreviation.multi;return r+"-"+this.miscFn["default"].index.call(this,t,e.name)}}},t.prototype.miscFn={"default":{index:function(t,e){var n,i=this.getRules(),r=this.getRulesHierarchy().indexOf(e),o=i[r],a=o.child&&o.child.split("-"),s=o.start&&o.start.split("-"),u=this.getBaseTimeUnits(),l=o.cycle||u[u.indexOf(a[0])+1],c=this.rulesSimplifier(o),h=l?this.timeCal[l](t,0):0;return n={millisecond:"setMilliseconds",second:"setSeconds",minute:"setMinutes",hour:"setHours",day:"setDate",month:"setMonth",year:"setYear"},s&&n[s[0]]&&(this.date.setTime(h),"day"===s[0]?this.date.setDate(this.date.getDate()-(this.date.getDay()+7-s[1])%7):this.date[n[s[0]]](s[1]),h=+this.date.getTime()),Math.floor((t-h)/c.interval)+1}},day:{skip:function(t,e){var n=this.date||new Date;return n.setTime(+t),31===n.getDate()&&e.step>1?!0:!1}}},t.prototype.timeCal={millisecond:function(t,e,n){var i=this.date||new Date;return i.setTime(+t),n?i.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()+e):i.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()+e),+i},second:function(t,e,n){var i=this.date||new Date;return i.setTime(+t),n?i.setHours(i.getHours(),i.getMinutes(),i.getSeconds()+e,i.getMilliseconds()):i.setHours(i.getHours(),i.getMinutes(),i.getSeconds()+e,0),+i},minute:function(t,e,n){var i=this.date||new Date;return i.setTime(+t),n?i.setHours(i.getHours(),i.getMinutes()+e,i.getSeconds(),i.getMilliseconds()):i.setHours(i.getHours(),i.getMinutes()+e,0,0),+i},hour:function(t,e,n){var i=this.date||new Date;return i.setTime(+t),n?i.setHours(i.getHours()+e,i.getMinutes(),i.getSeconds(),i.getMilliseconds()):i.setHours(i.getHours()+e,0,0,0),+i},day:function(t,e,n){var i=this.date||new Date;return i.setTime(+t),!n&&i.setHours(0,0,0,0),+i.setDate(i.getDate()+e)},month:function(t,e,n){var i=this.date||new Date;return i.setTime(+t),!n&&i.setDate(1)&&i.setHours(0,0,0,0),+i.setMonth(i.getMonth()+e)},year:function(t,e,n){var i=this.date||new Date;return i.setTime(+t),!n&&i.setMonth(0,1)&&i.setHours(0,0,0,0),+i.setFullYear(i.getFullYear()+e)}},t.prototype.getTimeStamp=function(t){var e,n,i,r,o,a,s,u,l,c,h=t.rule,p=t.timeStamp,f=void 0!==t.dateReferenceOrigin?t.dateReferenceOrigin:!0;return n={millisecond:"getMilliseconds",second:"getSeconds",minute:"getMinutes",hour:"getHours",day:"getDate",month:"getMonth",year:"getYear"},i={millisecond:"setMilliseconds",second:"setSeconds",minute:"setMinutes",hour:"setHours",day:"setDate",month:"setMonth",year:"setYear"},r=h.child&&h.child.split("-"),o=h.start&&h.start.split("-"),c=(t.step||1)*r[1],l=r[0],"day"===l&&"aggregation"===t.type?(this.date.setTime(p),u=Math.floor(p/864e5),c=Math.floor(u/c)*c+c-u,this.timeCal[l](p,c)):(f&&!o&&c>1&&(this.date.setTime(p),u=n[r[0]]?this.date[n[r[0]]]():p,c=Math.floor(u/c)*c+c-u,"day"===r[0]&&(c+=1)),e=this.timeCal[l](p,c),o&&i[o[0]]&&(this.date.setTime(e),"day"===o[0]?this.date.setDate(this.date.getDate()-(this.date.getDay()+7-o[1])%7):this.date[i[o[0]]](o[1]),e=+this.date.getTime()),f&&h.cycle&&n[h.cycle]&&(this.date.setTime(p),a=this.date[n[h.cycle]](),this.date.setTime(e),s=this.date[n[h.cycle]](),a!==s&&(e=this.timeCal[h.cycle](p,1))),e)},t.prototype.skipLabel=function(t,e){var n=new Date(e),i=this.getParent(t),r=this.miscFn[i]&&this.miscFn[i].skip,o={
second:"getSeconds",minute:"getMinutes",hour:"getHours",day:"getDate",month:"getMonth",year:"getFullYear"};if(r)return r(e);switch(t){case"day":if(1===n.getDate())return!0;break;default:if(o[t]&&0===n[o[t]]())return!0}return!1},t.prototype.getDivisors=function(t){for(var e=[1],n=Math.ceil(t/2),i=2;n>=i;i+=1)t%i===0&&e.push(i);return e},t.prototype.getSuitableInterval=function(t){var e,n,i,r,o,a,s,u,l,c,h,p;if(n=this.getRules(),!t||!isFinite(t))return{index:void 0,name:void 0,span:void 0,step:void 0};for(l=0,c=n.length;c>=l;l+=1)if(l===c||n[l].interval>t){if(0===l)break;if(e=l-1,i=n[e].name,h=n[e].possibleFactors,p=n[e].interval,u=h.length,p*h[u-1]<t&&l!==c)continue;if(a=e,l===c){for(s=1;;s+=1)if(s*n[e].interval>t){r=1===s?1:s,o=r*n[e].interval,l=c+1;break}}else for(s=0;u>s;s+=1)if(s===u-1||h[s]*p>t){r=h[0===s?0:s],o=r*p,l=c+1;break}}return{index:a,name:i,span:o,step:r}},t.prototype.getParent=function(t){var e,n=this.getRulesHierarchy();return(e=n.indexOf(t))?n[e+1]:void 0},t.prototype.getRules=function(t){return this.ruleCache&&t!==!0||(this.ruleCache=this.createRules()),this.ruleCache},t.prototype.getRulesHierarchy=function(t){return this.rulesHierarchy&&t!==!0||this.getRules(!0),this.rulesHierarchy||[]},FusionCharts.registerComponent("api","timerules",t)}]),FusionCharts.register("module",["private","modules.interfaces.component",function(){function t(){}t.prototype.init=function(){},t.prototype.setReactivity=function(){},t.prototype.draw=function(){},FusionCharts.registerComponent("interface","component",t)}]),FusionCharts.register("module",["private","modules.interfaces.manager",function(){function t(){}t.prototype.init=function(){},t.prototype.setReactivity=function(){},FusionCharts.registerComponent("interface","manager",t)}]),FusionCharts.register("module",["private","modules.interfaces.resolver",function(){function t(t,e){this.definitions=t,this.args=e}t.prototype.resolveTo=function(){},t.prototype.resolve=function(){},FusionCharts.registerComponent("interface","resolver",t)}]),FusionCharts.register("module",["private","modules.renderer.js-time-series-base-config",function(){function t(t){e.apply(this,arguments),this.config=t||{}}var e=FusionCharts.getComponent("interface","component");t.prototype=Object.create(e.prototype),t.prototype.setConfig=function(t,e){var n;if(!this.config||void 0===this.config[t]||this.config[t].validatorFn&&!this.config[t].validatorFn(e))return this;switch(this.config[t].type){case"number":n=Number(e);break;case"boolean":n=!!e;break;default:n=e}return this.config[t].value=n,this.config[t].setCallback&&this.config[t].setCallback.apply(this),this},t.prototype.getConfig=function(t){return this.config[t]&&this.config[t].getCallback&&this.config[t].getCallback.apply(this),this.config[t]&&this.config[t].value},FusionCharts.registerComponent("main","baseconfig",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-reactive-model-api",function(){function t(t){this._arr=Array.apply(this,arguments),this.fn=t,this.deferTill=t.deferTill||function(){return t.__defer||0},this.timerStarted=!1,this.timer=void 0}function e(t){this.nodes=t,this.listenerCreated=!1,this.listenerWrapper={}}function n(t,e){this.link=[],this.val=e,this.prop=t,this.parent=void 0,this.rootContext=void 0,this.__listeners__=[],this.__volatileListeners__=[],this.__sharedListeners__=[],this.__sharedVolatileListeners__=[],this.__filters__=[],this.state={pre:e,post:e}}function i(){var t;Object.defineProperty(this.model={},"__foreign",{enumerable:!1,configurable:!1,value:[]}),t=this.reactiveModelRoot=(new n).setRootContext(this.model),this.reactiveModelDef={$node:t},this._lockModelReactivity=!1,this._silentUpdate=!1,this._callbackQueue=[],this.queueClearCallbacks=[]}var r=function(){var e=0,n={};return{exec:function(i,r){var o=i.__deferId||(i.__deferId=++e),a=n[o];a||(a=n[o]=new t(i)),a.add(r)}}}();t.prototype=Object.create(Array.prototype),t.prototype.add=function(t){this._arr.push(t),this.startDestructTimer()},t.prototype.onTimerDestruction=function(){var t;return t=this._arr[this._arr.length-1],this._arr.length=0,this.fn.apply(null,t),clearTimeout(this.timer),this.timerStarted=!1,this},t.prototype.startDestructTimer=function(){return this.timerStarted?this:(this.timerStarted=!0,this.timer=setTimeout(this.onTimerDestruction.bind(this),this.deferTill.apply(null,this._arr[this._arr.length-1])),this)},e.prototype.registerSingletonListener=function(t,e,n){function i(){var e,n,i,o=[];for(n=0,i=l.length;i>n;n++)e=l[n].state,o.push([e.pre,e.post]);t.__deferred?(r.exec(t,o),t.fallbackExecutor&&t.fallbackExecutor.apply(null,o)):t.apply(null,o)}function o(){return u.listenerCreated?function(){}:(u.listenerCreated=!0,i)}var a,s,u=this,l=u.nodes,c=parseInt(+!!e+""+ +!!n,2);switch(this.listenerWrapper[t]=o,c){case 0:case 1:case 2:for(a=0,s=l.length;s>a;a++)l[a].addSharedListeners(o,n)}e&&i()},e.prototype.reset=function(){this.listenerCreated=!1},e.prototype.removeSingletonListener=function(t){var e,n,i=this.nodes,r=this.listenerWrapper[t];for(e=0,n=i.length;n>e;e++)i[e].removeSharedListeners(r);return this},n.prototype.setLink=function(t){this.link.push(t),this.val=void 0,t.setParent(this)},n.prototype.setRootContext=function(t){return this.rootContext=t,this},n.prototype.getState=function(){var t,e,n={};if(!(t=this.rootContext))return n;for(e in t)n[e]=t[e];return n},n.prototype.setParent=function(t){this.parent=t},n.prototype.getParent=function(){return this.parent},n.prototype.setPropertyValue=function(t){this.link.length=0,this.val=t},n.prototype.addListeners=function(t,e,n){var i=n?this.__volatileListeners__:this.__listeners__,r=parseInt(+!!e+""+ +!!n,2);switch(r){case 0:case 1:i.push(t);break;case 2:i.push(t),t.call(null,this.val,this.val,this.prop);break;case 3:t.call(null,this.val,this.val,this.prop)}return this},n.prototype.addFilter=function(t){return this.__filters__.push(t),this},n.prototype.removeListeners=function(t){var e=this.__listeners__,n=e.indexOf(t);return 0>=n?this:(e.splice(n,1),n)},n.prototype.addSharedListeners=function(t,e){var n=e?this.__sharedVolatileListeners__:this.__sharedListeners__;n.push(t)},n.prototype.removeSharedListeners=function(t){var e=this.__sharedListeners__,n=e.indexOf(t);return 0>=n?this:(e.splice(n,1),n)},n.prototype.setPreState=function(t){return this.state.pre=t},n.prototype.setPostState=function(t){return this.val=t,this.state.post=t},n.prototype.applyFilters=function(t,e){var n,i,r=this.__filters__,o=!0;if(!(i=r.length))return o;for(n=0;i>n&&(o=r[n](t,e),o);n++);return o},n.prototype.executeAllListeners=function(t){function e(t){r?(i.push(c.pre),i.push(c.post),i.push(l.prop)):i.push(l.getState()),t.apply(void 0,i)}function n(t){t().apply(void 0)}var i,r,o,a,s,u,l=this,c=l.state;do i=[],r=l.getParent(),o=l.__listeners__,s=l.__volatileListeners__,a=l.__sharedListeners__,u=l.__sharedVolatileListeners__,o.forEach(e),s.forEach(e),t||(a.forEach(n),u.forEach(n),l.setPreState(l.state.post)),s.length=0,u.length=0;while(l=t?void 0:l.getParent())},i.prototype.prop=function(t,e,n){var i=this,r=this.model,o={},a=this.reactiveModelDef,s=this._callbackQueue,u="_"+t;return 1===arguments.length?r[t]:t in r?(r[t]=e,this):(o[u]={enumerable:!1,configurable:!1,writable:!0,value:e},o[t]={enumerable:!0,configurable:!1,get:function(){var t=this[u];return t instanceof Array&&(t=t.slice(0)),t},set:function(e){var n=a[t].$node;n.applyFilters(this[u],e)&&(n.setPreState(this[u]),this[u]=e,n.setPostState(this[u]),i._silentUpdate||(i._lockModelReactivity?s.push([n,t]):(n.executeAllListeners(),i.fireLastUpdateCallbacks([t]))))}},this._updateBroadcaster(t,e,n),Object.defineProperties(r,o),this)},i.prototype.oncePropChange=function(t,e,n){var i=this.reactiveModelDef;return i[t].$node.addListeners(e,n,!0),this},i.prototype.oncePropsChange=function(t,n,i){var r=this.reactiveModelDef,o=t.map(function(t){return r[t].$node}),a=new e(o);return a.registerSingletonListener(n,i,!0),this.onQueueClear(a.reset.bind(a)),this},i.prototype.onPropChange=function(t,e,n){return this.reactiveModelDef[t].$node.addListeners(e,n),this},i.prototype.onPropsChange=function(t,n,i,r){var o=this.reactiveModelDef,a=t.map(function(t){return o[t].$node}),s=new e(a);return n.__deferred=r,r&&(n.__defer=n.deferTill()||0),s.registerSingletonListener(n,i),this.onQueueClear(s.reset.bind(s)),this},i.prototype.registerFilter=function(t,e){return this.reactiveModelDef[t].$node.addFilter(e),this},i.prototype.onModelChange=function(t){return this.reactiveModelDef.$node.addListeners(t),this},i.prototype._updateBroadcaster=function(t,e,i){var r,o=this.reactiveModelRoot,a=this.reactiveModelDef;r=new n(t,e),i&&"function"==typeof i&&r.addListeners(i),o.setLink(r),a[t]={$node:r}},i.prototype.linkExternalModel=function(t){var e=this.model;if(t instanceof i)return e.__foreign.push(t),this.reactiveModelRoot.setLink(t.reactiveModelRoot),this},i.prototype.getModel=function(){return this.model},i.prototype.lock=function(){return this._lockModelReactivity=!0,this},i.prototype.unlock=function(){return this.clearPendingQueues(),this._lockModelReactivity=!1,this},i.prototype.keepSilence=function(){return this._silentUpdate=!0,this},i.prototype.resetSilence=function(){return this._silentUpdate=!1,this},i.prototype.clearPendingQueues=function(){var t,e,n=this._callbackQueue,i=[];if(0!==n.length){for(t=0,e=n.length;e>t;t++)i.push(n[t][1]),n[t][0].executeAllListeners(t===e-1?!1:!0);return n.length=0,this.fireLastUpdateCallbacks(i),this}},i.prototype.onQueueClear=function(t){return this.queueClearCallbacks.indexOf(t)>=0?void 0:(this.queueClearCallbacks.push(t),this)},i.prototype.fireLastUpdateCallbacks=function(t){var e,n,i=this.queueClearCallbacks,r={};for(e=0,n=t.length;n>e;e++)r[t[e]]=1;return i.forEach(function(t){t.call(null,r)}),this},FusionCharts.registerComponent("api","reactive-model",i)}]),FusionCharts.register("module",["private","modules.components.timeseries-number-formatter-api",function(){function t(){}var e;t.prototype.constructor=t,t.prototype.init=function(t){return e=t.paper.getInstances().d3,this.d3format=e.format(""),this},t.prototype.createD3FormatString=function(t){var e={fill:t.fill,align:t.align,sign:t.sign,symbol:t.symbol,zero:t.zero,width:t.width,comma:t.comma,precision:t.precision?"."+t.precision:"",type:t.type};return(""+e.fill+e.align+e.sign+e.symbol+e.zero+e.width+e.comma+e.precision+e.type).replace(/undefined/gi,"")},t.prototype.config=function(){var t=arguments[0]||"";this.d3formatStr="string"==typeof t?t:this.createD3FormatString(t);try{this.d3format=e.format(this.d3formatStr)}catch(n){this.d3format=e.format("")}return this},t.prototype.format=function(t){return this.d3format(t)},FusionCharts.registerComponent("api","NumberFormatter",t)}]),FusionCharts.register("module",["private","modules.renderer.js-time-series-intervals-draw",function(){var t,e=this,n=e.hcLib,i=e.window,r=i.d3,o=FusionCharts.getComponent("main","baseconfig"),a=function(t){return t};t=function(t,e){o.call(this),this.config.name={value:t},this.config.intervals={value:e||{},defaultValue:{}},this.config.elements={value:{group:void 0,ticks:{group:void 0,type:"path"},label:{group:void 0,type:"text"},labelBgRect:{group:void 0,type:"path"}}},this.config.styleApplied={value:!1},this.elementRecycle=new(FusionCharts.getComponent("api","elementrecycle")),this.filterAttr=void 0,this.labelClassName="fuisoncharts-label",this.labelBgClassName="fuisoncharts-label-bg",this.tickClassName="fuisoncharts-tick"},t.prototype=Object.create(o.prototype),t.prototype.getClassString=function(t){var e,n=this,i=n.getConfig("intervals"),r=i.getConfig("scale"),o=n.getConfig("name"),a=r.getConfig("graphics").paper,s=a.getQualifiedClassName(r.getConfig("userConfig")["class"]||r.getConfig("groupClassName")),u=i.getConfig("intervals"),l=u[o].userCssClass||"fuisoncharts-"+o;switch(t){case"label":e="."+s[1]+" ."+l+"."+this.labelClassName;break;case"labelBg":e="."+s[1]+" ."+l+"."+this.labelBgClassName;break;case"tick":e="."+s[1]+" ."+l+"."+this.tickClassName;break;default:e=""}return e},t.prototype.setStyleSheet=function(){var t=this,e=t.getConfig("intervals"),n=e.getConfig("scale"),i=n.getConfig("graphics").paper,r=t.getConfig("name"),o=e.getConfig("intervals");i.cssAddRule(this.getClassString("label"),{"font-family":o[r].labelFontFamily,"font-size":(""+o[r].labelFontSize).replace(/px/i,"")+"px","font-weight":o[r].labelFontWeight,"font-style":o[r].labelFontStyle,fill:o[r].labelColor}),i.cssAddRule(this.getClassString("labelBg"),{fill:o[r].labelBgColor,"fill-opacity":o[r].labelBgOpacity}),i.cssAddRule(this.getClassString("tick"),{"stroke-width":o[r].tickThickness,stroke:o[r].tickColor})},t.prototype.getFormatterExtraAttr=function(){var t=this.getConfig("intervals"),e=t.getConfig("scale"),n=t.getConfig("numberFormatterConfig")||{};return n.formatter=e.getConfig("numberFormatter"),{numberFormatter:n}},t.prototype.draw=function(){var t,e,n,i=this,r=i.getConfig("intervals"),o=r.getConfig("scale"),a=i.getConfig("name"),s=i.getConfig("elements"),u=r.getConfig("intervals"),l=o.getConfig("graphics").paper,c=l.getQualifiedClassName(o.getConfig("userConfig")["class"]||o.getConfig("groupClassName")),h=this.getConfig("styleApplied"),p=u[a].userCssClass||"fuisoncharts-"+a,f=[],g={scale:o,name:a,intervalObj:u,vertical:o.getConfig("vertical"),opposite:o.getConfig("opposite"),tickLength:Number(u[a].tickLength||0)};return s.group=s.group||(s.group=o.getScaleGroup().append("g")).attr("class",c.join(" ")),t=s.ticks.group||(s.ticks.group=s.group.append("g").attr("class",p+" "+this.tickClassName)),n=s.labelBgRect.group||(s.labelBgRect.group=s.group.append("g").attr("class",p+" "+this.labelBgClassName)),e=s.label.group||(s.label.group=s.group.append("g").attr("class",p+" "+this.labelClassName)),h===!1&&(this.setStyleSheet(),this.setConfig("styleApplied",!0)),u[a].closeTicks&&u[a].drawTicks&&this.drawTickClosedLine(g),r.each(a,function(t){f.push(t)}),u[a].drawLabels&&i.drawLabels(f,g),u[a].drawTicks&&i.drawTicks(f,g),u[a].drawLabelBgRect&&i.drawLabelBgRect(f,g),i},t.prototype.drawTickClosedLine=function(t){var e,n,i,r,o,a,s,u=this,l=t.scale,c=t.vertical,h=l.getConfig("length"),p=this.filterAttr;return r=l.getConfig("posX"),o=l.getConfig("posY"),n=["closeLine"],a=c?(s=o+h,r):(s=o,r+h),e={display:"block",d:"M"+r+","+o+"L"+a+","+s},p&&p.call(this,"closeLine",e,void 0,t),i={closeLine:e},u.drawElements("ticks",n,i),u},t.prototype.drawTicks=function(t,e){var n,i,r,o,a,s,u,l=this,c=e.scale,h=e.name,p=e.intervalObj,f=e.vertical,g=e.opposite,d=this.filterAttr,m=Number(p[h].tickLength||0),y=Number(p[h].tickPadding||0),v=[];for(s=0,u=t.length;u>s;s+=1)i=f?(r=c.getPixel(t[s]),c.getConfig("posX")+(g?y:-y)):(r=c.getConfig("posY")+(g?-y:y),c.getPixel(t[s])),o=f?(a=r,g?i+m:i-m):(a=g?r-m:r+m,i),n={display:"block",d:"M"+i+","+r+"L"+o+","+a},d&&d.call(this,"ticks",n,t[s],e),v[t[s]]=n;return l.drawElements("ticks",t,v),l},t.prototype.getLabelxy=function(t,e){var n,i,r=e.scale,o=e.name,a=e.intervalObj,s=e.vertical,u=e.opposite,l=Number(a[o].valuePadding||0);return n=s?(i=r.getPixel(t),r.getConfig("posX")+(u?l:-l)):(i=r.getConfig("posY")+(u?-l:l),r.getPixel(t)),{x:n,y:i}},t.prototype.drawLabels=function(t,e){var n,i,r,o,s=this,u=e.name,l=e.scale,c=e.intervalObj,h=e.vertical,p=e.opposite,f=this.filterAttr,g=this.getFormatterExtraAttr(),d=c[u].formatter||a,m=h?p?"start":"end":"middle",y=h?"0.35em":p?"-0.25em":"0.75em",v=[];for(r=0,o=t.length;o>r;r+=1)i=s.getLabelxy(t[r],e),n={display:"block",text:""+d.call(l,t[r],g),"text-anchor":m,dy:y,x:i.x,y:i.y},f&&f.call(this,"label",n,t[r],e),v[t[r]]=n;return s.drawElements("label",t,v),s},t.prototype.drawLabelBgRect=function(t,e){var i,r,o,s,u,l,c,h,p,f,g,d,m,y,v=this,x=e.scale,w=x.getConfig("smartLabel"),b=e.name,C=e.intervalObj,_=v.getConfig("elements"),M=x.getConfig("graphics").paper,S=e.vertical,A=e.opposite,k=this.filterAttr,N=this.getFormatterExtraAttr(),I=C[b].formatter||a,T=Number((""+C[b].labelFontSize).replace(/px/i,"")),P=Number(C[b].labelBgPadding||1),L=C[b].userCssClass||"fuisoncharts-"+b,D=[];for(m=0,y=t.length;y>m;m+=1)d=v.getLabelxy(t[m],e),i=n.getSmartComputedStyle(_.group,L+" "+this.labelClassName,M),T=Number((""+i.fontSize).replace(/px/i,"")),w.setStyle(i),s={x:d.x,y:d.y,"text-anchor":S?A?"start":"end":"middle",dy:S?"0.35em":A?"-0.25em":"0.75em"},o=w.getOriSizeImprove(I.call(x,t[m],N),!0),u=o.width/2,l=o.height/2,k&&k.call(this,"label",s,t[m],e),r=Number((""+s.dy).replace(/em/i,"")),s.x+="start"===s["text-anchor"]?u:"end"===s["text-anchor"]?-u:0,s.y+=T*(r-.85),h=s.x-u-P,p=s.y-P,f=s.x+u+P,g=s.y+T+P,c={display:"block",d:"M"+h+","+p+"L"+h+","+g+"L"+f+","+g+"L"+f+","+p+"Z"},k&&k.call(this,"labelBgRect",c,t[m],e),D[t[m]]=c;return v.drawElements("labelBgRect",t,D),v},t.prototype.drawElements=function(t,e,n){function i(t,e,i){var r,a=n[e];c&&(t=t.transition(o));for(r in a)a.hasOwnProperty(r)&&-1===i.indexOf(r)&&t.attr(r,a[r])}var o,a,s,u=this.getConfig("elements")[t],l=u.group,c=!1;switch(o=r.transition().duration(1e3),u.type){case"text":a=l.selectAll("text").data(e),a.exit().attr("display","none"),a.enter().append("text").merge(a).text(function(t){return n[t].text}).each(function(t){i(r.select(this),t,["text"])});break;case"path":s=l.selectAll("path").data(e),s.exit().attr("display","none"),s.enter().append("path").merge(s).each(function(t){i(r.select(this),t,[])})}return this},t.prototype.getLogicalSpace=function(t,e){var i,r,o=this,s=o.getConfig("intervals"),u=s.getConfig("scale"),l=u.getConfig("smartLabel"),c=o.getConfig("name"),h=s.getConfig("intervals"),p=o.getConfig("elements"),f=h[c],g=f.formatter||a,d=u.getConfig("vertical"),m=this.getConfig("styleApplied"),y=u.getConfig("graphics").paper,v=y.getQualifiedClassName(u.getConfig("userConfig")["class"]||u.getConfig("groupClassName")),x=this.getFormatterExtraAttr(),w="",b=1.2,C={width:t,height:e},_=0,M=0;return m===!1&&(this.setStyleSheet(),this.setConfig("styleApplied",!0)),p.group=p.group||(p.group=u.getScaleGroup().append("g").attr("class",v.join(" "))),i=n.getSmartComputedStyle(p.group,this.labelClassName,y),r=Number((""+i.fontSize).replace(/px/i,"")),d?(l.setStyle(i),s.each(c,function(t){var e=""+g.call(u,t,x);w=w.length<e.length?e:w}),_=f.drawTicks?Number(f.tickLength)+Number(f.tickPadding):0,M=f.drawLabels?Number(f.valuePadding)+l.getOriSize(w).width:0,C.width=Math.max(_,M)):(_=f.drawTicks?Number(f.tickLength)+Number(f.tickPadding):0,M=f.drawLabels?Number(f.valuePadding)+r*b:0,C.height=Math.max(_,M)),C},FusionCharts.registerComponent("main","drawintervals",t)}]),FusionCharts.register("module",["private","modules.renderer.js-time-series-intervals-linear",function(){var t,e=this,n=e.hcLib,i=FusionCharts.getComponent("main","baseconfig");t=function(){i.call(this),this.config.intervals={value:{major:{intervalPoints:[],formatter:function(t){return n.toPrecision(t,10)},drawTicks:!1,drawLabels:!0,closeTicks:!1,labelStep:1,tickLength:5,tickPadding:0,valuePadding:7,tickThickness:1,zIndex:1}}},this.config.scale={value:void 0,"default":void 0,setCallback:this.parseUserConfig},this.config.numberFormatterConfig={},this.initIntervalGraphicObj()},t.prototype=Object.create(i.prototype),t.prototype.createCustomInterval=function(t,e){var i,r=this.getConfig("intervals");if(!r[t]){r[t]={intervalPoints:[],formatter:function(t){return n.toPrecision(t,10)},drawTicks:!1,drawLabels:!0,closeTicks:!1,labelStep:1,tickLength:5,tickPadding:0,valuePadding:7,tickThickness:1,zIndex:2,tickColor:"#6e6e6e",labelColor:"#6e6e6e",labelFontSize:12,labelBgColor:"#ffffff",labelBgOpacity:80};for(i in e)e.hasOwnProperty(i)&&(r[t][i]=e[i])}return r[t]},t.prototype.parseUserConfig=function(){var t,e,n,i,r,o,a=this.getConfig("scale").getConfig("userConfig"),s=this.getConfig("intervals");if(!a)return this;for(t in s)if(s.hasOwnProperty(t)){if(!a[t])continue;s[t].userCssClass=a[t]["class"],(e=a[t].tick)&&(s[t].drawTicks=!e.hide,(i=e.style)&&(i.stroke&&(s[t].tickColor=i.stroke),i["stroke-width"]&&(s[t].tickThickness=i["stroke-width"]))),(n=a[t].text)&&(s[t].drawLabels=!n.hide,(i=n.style)&&(i.fill&&(s[t].labelColor=i.fill),i["font-size"]&&(s[t].labelFontSize=i["font-size"]),i["font-family"]&&(s[t].labelFontFamily=i["font-family"]),i["font-weight"]&&(s[t].labelFontWeight=i["font-weight"]),i["font-Style"]&&(s[t].labelFontStyle=i["font-Style"]))),(r=a[t].textBg)&&(s[t].drawLabelBgRect=void 0===r.hide?!1:!r.hide,(i=r.style)&&(i.fill&&(s[t].labelBgColor=i.fill),i["fill-opacity"]&&(s[t].labelBgOpacity=i["fill-opacity"]))),"function"==typeof(o=a[t].formatter)&&(s[t].formatter=o)}return this.setConfig("numberFormatterConfig",a.numberFormatter),this},t.prototype.initIntervalGraphicObj=function(){var t,e=this.getConfig("intervals");for(t in e)e.hasOwnProperty(t)&&(e[t].intervalGraphicObj||(e[t].intervalGraphicObj=new(FusionCharts.getComponent("main","drawintervals"))(t,this)));return this},t.prototype.getNoOfTicksFilter=function(t){return t},t.prototype.getNoOfTicks=function(){var t=this.getConfig("scale").getConfig("length"),e=48;return this.getNoOfTicksFilter(Math.max(Math.floor(t/e),5))},t.prototype.setScale=function(t){return this.setConfig("scale",t),this},t.prototype.each=function(t,e){var n,i,r,o,a=this.getConfig("intervals")[t];if(a)for(n=a.intervalPoints,i=a.labelStep,r=0,o=n.length;o>r;r+=i)e.call(this,n[r]);return this},t.prototype.adjustScaleRange=function(t){var e=this.getConfig("scale"),n=e.getRange();e.setRange(Math.ceil(n.max/t)*t,Math.floor(n.min/t)*t)},t.prototype.calculateIntervalSteps=function(t,e,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=7?r*=10:o>=3?r*=5:o>1&&(r*=2),r},t.prototype.manageIntervals=function(){var t,e,n,i,r,o,a=this.getConfig("intervals"),s=this.getConfig("scale"),u=a.major,l=s.getConfig("numberFormatter"),c=this.getConfig("numberFormatterConfig");for(c&&l.config(c.config),i=s.getVisibleRange(),n=this.calculateIntervalSteps(i.max,i.min,u.intervalNo||this.getNoOfTicks()),this.adjustScaleRange(n),i=s.getVisibleRange(),t=Math.ceil(i.min/n)*n,e=Math.floor(i.max/n)*n+n/2,r=0|Math.max(0,Math.ceil((e-t)/n)),u.intervalPoints.length=0,o=0;r>o;o+=1)u.intervalPoints.push(t+o*n);return this},t.prototype.draw=function(t){var e,n,i,r=this.getConfig("intervals"),o=t&&t.intervalNameArr,a=t&&void 0!==t.manageIntervalRequire?t.manageIntervalRequire:!0,s=Object.keys(r);for(a&&this.manageIntervals(),s.sort(function(t,e){return r[t].zIndex>r[e].zIndex}),n=0,i=s.length;i>n;n+=1)o instanceof Array&&-1===o.indexOf(s[n])||(e=r[s[n]].intervalGraphicObj||(r[s[n]].intervalGraphicObj=new(FusionCharts.getComponent("main","drawintervals"))(s[n],this)),e.draw());return this},t.prototype.getLogicalSpace=function(t,e){var n,i,r,o,a=this.getConfig("intervals"),s={width:0,height:0},u=Object.keys(a);for(this.manageIntervals(),u.sort(function(t,e){return a[t].zIndex>a[e].zIndex}),r=0,o=u.length;o>r;r+=1)n=a[u[r]].intervalGraphicObj||(a[u[r]].intervalGraphicObj=new(FusionCharts.getComponent("main","drawintervals"))(u[r],this)),i=n.getLogicalSpace(t,e),s.width=Math.max(s.width,i.width),s.height=Math.max(s.height,i.height);return s},FusionCharts.registerComponent("main","linearintervals",t)}]),FusionCharts.register("module",["private","modules.renderer.js-time-series-intervals-time",function(){function t(){e.call(this),this.config.intervals={value:{span:{timeUnit:{},intervalPoints:[],formatter:function(t){return t},show:!0,drawTicks:!1,drawLabels:!0,closeTicks:!1,labelStep:1,tickLength:0,tickPadding:0,valuePadding:2,tickThickness:0,zIndex:1},minor:{timeUnit:{},intervalPoints:[],formatter:function(t){return t},show:!0,drawTicks:!0,drawLabels:!0,closeTicks:!1,labelStep:1,tickLength:5,tickPadding:0,valuePadding:9,tickThickness:1,zIndex:1.1},major:{timeUnit:{},intervalPoints:[],formatter:function(t){return t},show:!0,drawTicks:!0,drawLabels:!0,closeTicks:!1,labelStep:1,tickLength:10,tickPadding:0,valuePadding:16,tickThickness:1,zIndex:1.2},context:{timeUnit:{},intervalPoints:[],formatter:function(t){return t},show:!0,drawTicks:!1,drawLabels:!0,closeTicks:!1,labelStep:1,tickLength:0,tickPadding:0,valuePadding:30,tickThickness:0,zIndex:1.3}}},this.config.showSingleTick={value:!1},this.config.showSingleTickWithMajor={value:!1},this.timeRules=new n,this.initIntervalGraphicObj()}var e=FusionCharts.getComponent("main","linearintervals"),n=FusionCharts.getComponent("api","timerules");t.prototype=Object.create(e.prototype),t.prototype.parseUserConfig=function(){e.prototype.parseUserConfig.call(this);var t,n,i,r=this.getConfig("scale").getConfig("userConfig");if(r&&(this.timeRules.changeRuleState("week",!!r.showWeek),this.timeRules.changeRuleState("quarter",!!r.showQuarter),t=r.customTimeSpan))for(n=0,i=t.length;i>n;n+=1)this.timeRules.insertRule(t[n])},t.prototype.preSetTimeIntervalCallback=function(t,e){return"middle"===e.align&&e.intervalStore.length&&(e.intervalStore[e.intervalStore.length-1]+=Math.abs(e.intervalStore[e.intervalStore.length-1]-t)/2),t},t.prototype.setIntervals=function(t){var e,n,i,r=this.timeRules.getRules(),o=0,a=t.index;for(n=t.step;;)if(e=void 0!==e?e:t.min,o=this.timeRules.getTimeStamp({step:n,timeStamp:e,rule:r[a],type:t.type}),o=this.preSetTimeIntervalCallback(o,t),!(o<t.min)){if(o>t.max)break;e=o,t.showSingleTickWithMajor&&(i=t.minorIntervalObj.timeUnit.name,("second"===i||"minute"===i)&&(i="hour"),this.timeRules.skipLabel(i,o))?t.majorIntervalStore.push(o):t.intervalStore.push(o)}return this},t.prototype.manageIntervals=function(){var t,e,n,i,r,o,a,s,u,l,c,h,p=this,f=this.getConfig("intervals"),g=this.timeRules.getRules(),d=this.getConfig("scale"),m=f.major,y=f.minor,v=f.span,x=f.context,w=this.getConfig("showSingleTick"),b=this.getConfig("showSingleTickWithMajor");return c=d.getVisibleRange(),h=(c.max-c.min)/(y.intervalNo||this.getNoOfTicks()),r=c.max,o=h>1&&0!==c.min?c.min-1:c.min,a=this.timeRules.getSuitableInterval(h),s=a.index,void 0!==s?(y.intervalPoints.length=0,m.intervalPoints.length=0,v.intervalPoints.length=0,x.intervalPoints.length=0,y.timeUnit={},m.timeUnit={},v.timeUnit={},x.timeUnit={},w?(t=this.timeRules.getFormatter(g[s].name),y.formatter=m.formatter=function(e){return(t.single||t["default"]).call(p.timeRules,e,{name:g[s].name})},y.timeUnit.name=a.name,y.timeUnit.step=a.step,y.show&&this.setIntervals({max:r,min:o,index:a.index,step:a.step,intervalStore:y.intervalPoints,majorIntervalStore:m.intervalPoints,showSingleTickWithMajor:b,minorIntervalObj:y}),void this.discardOverlap()):(g[a.index].showInSpan===!0&&g[s+1]?(n=this.timeRules.getFormatter(a.name),v.formatter=function(t){return(n.span||n["default"]).call(p.timeRules,t,{name:a.name})},v.timeUnit.name=a.name,v.timeUnit.step=a.step,v.show&&this.setIntervals({max:r,min:o,index:a.index,step:a.step,intervalStore:v.intervalPoints,align:"middle"}),t=this.timeRules.getFormatter(g[s-1].name),y.formatter=function(e){return(t.minor||t["default"]).call(p.timeRules,e,{name:g[s-1].name})},y.timeUnit.name=a.name,y.timeUnit.step=a.step):(t=this.timeRules.getFormatter(g[s].name),y.formatter=function(e){return(t.minor||t["default"]).call(p.timeRules,e,{name:g[s].name})},y.timeUnit.name=a.name,y.timeUnit.step=a.step),y.show&&this.setIntervals({max:r,min:o,index:a.index,step:a.step,intervalStore:y.intervalPoints,noExtreme:!0}),void 0!==(u=g[s+1]&&s+1)&&(e=this.timeRules.getFormatter(g[u].name),m.formatter=function(t){return(e.major||e["default"]).call(p.timeRules,t,{name:g[u].name})},m.timeUnit.name=g[u].name,m.timeUnit.step=g[u].step,m.show&&this.setIntervals({max:r,min:o,index:u,step:1,intervalStore:m.intervalPoints})),void 0!==(l=g[u+1]&&u+1)&&(i=this.timeRules.getFormatter(g[l].name),x.formatter=function(t){return(i.context||i["default"]).call(p.timeRules,t,{name:g[l].name})},x.timeUnit.name=g[l].name,x.timeUnit.step=g[l].step,x.show&&this.setIntervals({max:c.max,min:c.min,index:l,step:1,intervalStore:x.intervalPoints})),this.discardOverlap(),this)):void 0},t.prototype.discardOverlap=function(){var t,e,n=this.getConfig("intervals"),i=this.timeRules,r=n.major,o=r.intervalPoints,a=n.minor,s=a.intervalPoints;for(t=i.miscFn[a.timeUnit.name]&&i.miscFn[a.timeUnit.name].skip,e=0;e<s.length;)-1!==o.indexOf(s[e])||t&&t(s[e],{step:a.timeUnit.step})?s.splice(e,1):e+=1},FusionCharts.registerComponent("main","timeintervals",t)}]),FusionCharts.register("module",["private","modules.renderer.js-time-series-scale-base",function(){var t,e=FusionCharts.getComponent("main","baseconfig");t=function(){e.call(this),this.config.reverse={value:!1,defaultValue:!1,type:"boolean"},this.config.opposite={value:!1,defaultValue:!1,type:"boolean"},this.config.min={value:0,defaultValue:0,type:"number"},this.config.max={value:100,defaultValue:100,type:"number"},this.config.visibleMin={value:void 0,defaultValue:void 0,type:"number"},this.config.visibleMax={value:void 0,defaultValue:void 0,type:"number"},this.config.posX={value:0,defaultValue:0,type:"number"},this.config.posY={value:0,defaultValue:0,type:"number"},this.config.graphics={value:void 0},this.config.smartLabel={value:void 0},this.config.interval={value:"linearintervals",defaultValue:"linearintervals",validatorFn:function(t){return t.match(/^(linearintervals|timeintervals)$/)}},this.config.scaleGroup={value:void 0},this.config.numberFormatter={value:void 0},this.config.groupClassName={value:"axis"},this.config.userConfig={value:{}}},t.prototype=Object.create(e.prototype),t.prototype.getScaleGroup=function(){return this.getConfig("scaleGroup")||this.setConfig("scaleGroup",this.getConfig("graphics").paper.getInstances().paper.append("g").attr("class","axis-container")),this.getConfig("scaleGroup")},t.prototype.getIntervalObj=function(){return this.IntervalObj||(this.IntervalObj=new(FusionCharts.getComponent("main",this.getConfig("interval"))),this.IntervalObj.setConfig("scale",this)),this.IntervalObj},t.prototype.setRange=function(t,e){return this.setConfig("max",e>=t?e+1:t),this.setConfig("min",e),this},t.prototype.getRange=function(){return{max:this.getConfig("max"),min:this.getConfig("min")}},t.prototype.setVisibleRange=function(t,e){return this.setConfig("visibleMax",t),this.setConfig("visibleMin",e),this},t.prototype.getVisibleRange=function(){return{max:this.getConfig("visibleMax")||this.getConfig("max"),min:this.getConfig("visibleMin")||this.getConfig("min")}},t.prototype.setAxisPosition=function(t,e){return this.setConfig("posX",t),this.setConfig("posY",e),this},t.prototype.draw=function(t){return this.getIntervalObj().draw(t),this},t.prototype.getLogicalSpace=function(t,e){return this.getIntervalObj().getLogicalSpace(t,e)},FusionCharts.registerComponent("main","basescale",t)}]),FusionCharts.register("module",["private","modules.renderer.js-time-series-scale-linear",function(){var t,e=FusionCharts.getComponent("main","BaseScale");t=function(){e.call(this),this.config.vertical={value:!1,"default":!1,type:"boolean"},this.config.length={value:100,defaultValue:100,type:"number"}},t.prototype=Object.create(e.prototype),t.prototype.setAxisLength=function(t){return this.setConfig("length",t),this},t.prototype.getZoom=function(){var t=this.getRange(),e=this.getVisibleRange();return(t.max-t.min)/(e.max-e.min)||1},t.prototype.getPvr=function(){var t=this.getConfig("length"),e=this.getRange();return t/(e.max-e.min)*this.getZoom()},t.prototype.getPixel=function(t){var e=this.getConfig("vertical"),n=e?!this.getConfig("reverse"):this.getConfig("reverse"),i=this.getVisibleRange(),r=e?this.getConfig("posY"):this.getConfig("posX"),o=this.getPvr();return(n?i.max-t:t-i.min)*o+r},t.prototype.getValue=function(t){var e=this.getConfig("vertical"),n=e?!this.getConfig("reverse"):this.getConfig("reverse"),i=this.getVisibleRange(),r=e?this.getConfig("posY"):this.getConfig("posX"),o=this.getPvr();return(t-r)/o*(n?-1:1)+(n?i.max:i.min)},FusionCharts.registerComponent("main","linearscale",t)}]),FusionCharts.register("module",["private","modules.renderer.js-time-series-scale-time",function(){var t,e=FusionCharts.getComponent("main","linearscale");t=function(){e.call(this),this.setConfig("intervals","timeintervals")},t.prototype=Object.create(e.prototype),
FusionCharts.registerComponent("main","timescale",t)}]),FusionCharts.register("module",["private","modules.renderer.js-time-series-axis",function(){var t,e=FusionCharts.getComponent("main","baseconfig"),n="userConfig";t=function(t){e.call(this),this.config.scale={value:"linearscale",defaultValue:"linearscale",validatorFn:function(t){return t.match(/^(linearscale|timescale)$/)}},this.config.graphics={value:void 0},this.config.parentGroup={value:void 0},this.config.smartLabel={value:void 0},this.config.userConfig={value:t},this.config.axisName={value:void 0},this.config.numberFormatter={value:void 0}},t.prototype=Object.create(e.prototype),t.prototype.init=function(t){var e,i=this;t(["graphics","smartLabel","parentGroup","numberFormatter",function(t,n,r,o){i.setConfig("graphics",t),i.setConfig("smartLabel",n),i.setConfig("parentGroup",r),i.setConfig("numberFormatter",o),e=t.paper}]),this.getScaleObj().setConfig("graphics",this.getConfig("graphics")),this.getScaleObj().setConfig(n,this.getConfig(n)),this.getScaleObj().setConfig("smartLabel",this.getConfig("smartLabel")),this.getScaleObj().setConfig("scaleGroup",this.getConfig("parentGroup").append("g")),this.getScaleObj().setConfig("numberFormatter",this.getConfig("numberFormatter")),this.getName()},t.prototype.getScaleObj=function(){return this.scaleClass||(this.scaleClass=new(FusionCharts.getComponent("main",this.getConfig("scale")))),this.scaleClass},t.prototype.setRange=function(t,e){return this.getScaleObj().setRange(t,e),this},t.prototype.getRange=function(){return this.getScaleObj().getRange()},t.prototype.setAxisLength=function(t){return this.getScaleObj().setAxisLength(t),this},t.prototype.setAxisPosition=function(t,e){return this.getScaleObj().setAxisPosition(t,e),this},t.prototype.getPixel=function(t){return this.getScaleObj().getPixel(t)},t.prototype.getValue=function(t){return this.getScaleObj().getValue(t)},t.prototype.draw=function(){var t,e=this.getConfig("axisName"),n=function(t){var e,n;for(n in t)if(e=t[n],void 0===e||isNaN(e))return!1;return!0};return e&&(t=e.measurement,n(t)&&e.draw().transform("rotate(-90,"+t.x+","+t.y+") translate("+-t.height+",0)")),this.getScaleObj().draw()},t.prototype.getLogicalSpace=function(t,e){return this.getScaleObj().getLogicalSpace(t,e)},t.prototype.getName=function(){var t,e,i,r,o=this.getConfig(n),a=o&&o.name,s=this.getConfig("axisName"),u=a&&a.label;a&&!s&&(t=this.getConfig("graphics").paper,r=this.getScaleObj().getConfig("scaleGroup").append("g").classed(e=a.group.className,!0),(i=a.group.style)&&t.cssAddRule("."+e,i),s=this.setConfig("axisName",t.getInstances().d3.fusiontext()),s.getConfig("axisName").getParentSelection(r),s.getConfig("axisName").label(a.label.text,u,function(){t.cssAddRule("."+u.className,u.style)}).margin(a.margin))},FusionCharts.registerComponent("main","axis",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-container-api",function(){function t(t,e){this.dependencies={paper:e.paper},this.graphics={},this.config={},this.setConfig(t)}var e=this,n=e.hcLib,i=e.window,r=i.SVGElement,o=n.decompressCSS,a="M",s="L",u=n.BLANKSTRING,l=n.COMMASTRING;t.prototype.setConfig=function(t){this.config=t},t.prototype.getGraphicsElement=function(){return this.graphics},t.prototype.getSVGElement=function(){return this.graphics.body},t.prototype.parseStyle=function(t){var e,i,r,a,s={},u={},l=new RegExp(/border-(.+)/);t||(t=this.config.style);for(i in t)a=t[i],"function"==typeof a&&(a=a.apply(this,[n.paletteFCTS,n])),(e=i.match(l))&&(r=e[1])?u[r]=o(a):s[i]=a;return{body:s,border:u}},t.prototype.applyStyle=function(t,e){var n,i,o=this.config,a=this.dependencies.paper,s="",u=o.className&&o.className.replace(/\s+/g,"");e||(e=this.graphics),function l(t,e,o){var c,h;o=o||"";for(c in t)h=t[c],h&&(s=o+"-"+c,h.node&&h.node()instanceof r?u?(i=u+s,n=a.getQualifiedClassName(i),h.classed(n.join(" "),!0),a.cssAddRule("."+n[1],e[c])):h.classed(e[c]):l(h,e[c],s));s=""}(e,t)},t.prototype.getBody=function(t,e,n,i,r){var o,a=this.dependencies,s=a.paper,u=this.graphics;return(o=u.body)||(o=u.body=r.append("rect")),s.setAttrs(o,{x:t,y:e,width:n,height:i}),o},t.prototype.getBorderOf=function(t,e){var n,i=t.node().getBBox(),r={left:u.concat(a,i.x,l,i.y,s,i.x,l,i.y2=i.y+i.height),right:u.concat(a,i.x2=i.x+i.width,l,i.y,s,i.x2,l,i.y2),top:u.concat(a,i.x,l,i.y,s,i.x2,l,i.y),bottom:u.concat(a,i.x,l,i.y2,s,i.x2,l,i.y2)},o=this.graphics,c=o.border,h=e.append("g");c||(c=o.border={group:h,left:h.append("path"),right:h.append("path"),top:h.append("path"),bottom:h.append("path")});for(n in r)c[n].attr("d",r[n]);return c},t.prototype.drawSelf=function(t,e,n,i,r){var o,a=this.group=r,s=this.graphics;return o=s.body=this.getBody.apply(this,arguments),o.border=s.border=this.getBorderOf(o,a),this.applyStyle(this.parseStyle()),this},FusionCharts.registerComponent("api","container",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-plotband-api",function(){function t(){var t,e=[].slice.call(arguments,0),n=e[1],i=n.axes;s.apply(this,e),t=this.dependencies,t.xAxis=i.x,t.yAxis=i.y}function e(){t.apply(this,arguments)}function n(){t.apply(this,arguments)}function i(t){this.groups=t}function r(e){t.apply(this,arguments),this.config=Object.assign(this.config,{padding:2,margin:7,maxUnitHeight:20,maxUnitWidth:30},e||{}),this.graphics.eventObj={}}function o(){r.apply(this,arguments)}function a(){r.apply(this,arguments)}var s=FusionCharts.getComponent("api","container"),u="M",l="L",c="show",h="hide",p="-",f=this,g=f.hcLib,d=g.paletteFCTS;t.prototype=Object.create(s.prototype),t.prototype.show=function(){return this.updateVisibility(c,this.graphics)},t.prototype.hide=function(){return this.updateVisibility(h,this.graphics)},t.prototype.updateVisibility=function(t,e){var n,i;for(n in e)i=e[n],i[t]?i[t]():"object"==typeof i&&this.updateVisibility(t,i);return this},t.prototype.getBody=function(t,e,n,i,r,o){var a,s=this.dependencies,u=s.paper,l=r.elem.append("rect").classed(r.className+p+o,!0);return u.setAttrs(l,{x:t,y:e,width:n,height:i}),a},t.prototype.drawSelf=function(){return this.graphics.body=this.getBody.apply(this,arguments),this},t.prototype.parseStyles=function(t,e){var n=e||this.config.style,i=function(e,n){for(var i in e)e[i]instanceof Function?n[i]=e[i](d,t,g):n[i]=e[i]};return this.originalStyle=g.extend2({},n),i(this.originalStyle,n),this},t.prototype.draw=function(t,e,n,i){var r,o,a,s,u,l,c,h,p,f=this,g=f.dependencies,d=i.group,m=i.height,y=i.label,v=g.xAxis,x=f.graphics,w=this.config,b=w.index;return a=n.graphics.body,h=a.node().getBBox(),h.x2=h.x+h.width,h.y2=h.y+h.height,u=h.y,c=h.y2,s=t&&v.getPixel(t),l=e&&v.getPixel(e),s&&l&&(m&&(u=c-m),f.drawSelf(s,u,o=l-s,r=m||c-u,d.plotBand,b),y?p=y&&f.drawText(y,s,u,{group:d.label,isVertical:i.isVertical,rectWidth:o,rectHeight:r,index:b}):(x.label&&x.label.hide(),x.textBound&&x.textBound.hide())),p},t.prototype.groupFactory=function(t,e){var n,i,r,o={};for(r=0,i=t.length;i>r;r+=1)n=t[r],o[n]={elem:e.append("g")};return o},t.prototype.getUnitConstituents=function(){return["plotBand","label"]},t.prototype.getStubGroup=function(t){var e=new i(this.groupFactory(this.getUnitConstituents(),t));return this.group=e.getGroups(),e},t.prototype.applyCSS=function(t,e,n){var i,r,o,a,s;for(i in t)r=t[i],a=e[i].group,o=a.style,s=this.dependencies.paper.getQualifiedClassName(a.className+p+n),r.elem.classed(s.join(" "),!0),t[i].className=s.join(" "),this.parseStyles(n,o).dependencies.paper.cssAddRule("."+s[1],o)},t.prototype.drawText=function(t,e,n,i){var r,o,a,s,u,l=this._parentConfig.label,c=l.margin,h=this.graphics,f=this.dependencies,g=i.group,d={x:e,y:n},m=i.index,y=f.xAxis,v=y.getScaleObj().getVisibleRange(),x=y.getPixel(v.max),w=i.rectWidth,b=!1;return(r=h.label)||(r=h.label=g.elem.append("text")),r.text(t).style("opacity",1).classed(g.className+p+m),o=r.node().getBBox(),a=o.width,d.x+=(s=o.height)/2+c.left+2.5,d.y+=a+c.top,r.attr("transform","translate("+d.x+","+d.y+") rotate(-90)"),u=d.x+s/2,u<Math.min(x,e+w)?b=h:r.style("opacity",0),b},t.prototype.checkExcess=function(t){var e=this,n=e.dependencies.xAxis,i=n.getScaleObj().getVisibleRange(),r=n.getPixel(i.max),o=n.getPixel(i.min);return t&&(o>t||t>r)},e.prototype=Object.create(t.prototype),n.prototype=Object.create(t.prototype),i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype.show=function(){return this.updateVisibility(c,this.groups)},i.prototype.hide=function(){return this.updateVisibility(h,this.groups)},i.prototype.getGroups=function(){return this.groups},r.prototype=Object.create(t.prototype),r.prototype.drawLine=function(t,e,n,i){var r,o,a=this,s=a.config,c=a.graphics,h=this.dependencies,f=h.paper;(o=a.clipExcess(c.line,t))||((r=c.line)||(r=c.line=f.path(i.elem,!0)),r.attr({path:[u,t,e,l,t,n],"class":i.className+p+s.index}).show())},r.prototype.addEvent=function(t,e){var n,i,r,o,a=this,s=a.config,u=a.dependencies,l=u.paper,c=a.graphics,h=c.eventObj,f=a.group,g=a.x,d=a.startY,m=!1,y=s.padding,v=s.margin,x=2*y,w=h[e],b=w&&w.textElem,C=w&&w.textBoundElem,_=s.index;return t?(w||(w=h[e]={}),(C=w.textBound)||(C=w.textBound=l.rect(f.labelBound.elem,!0)),(b=w.textElem)||(b=w.textElem=l.text(f.label.elem,!0)),b.attr({x:g,y:d,text:t,"class":f.label.className+p+_}).show(),n=a.getEventPos(b),o=n.leftMostX,r=n.rightMostX,i=n.height,C.attr({x:o,y:d-y,width:r-o,height:i+x,"class":f.labelBound.className+p+_}).show(),a.clipExcess(C,o,r)?b.hide():m=w,a.startY+=i+v,m):(w&&(w.textBound&&w.textBound.hide(),w.textElem&&w.textElem.hide()),c.labelElem&&c.labelElem.hide(),m)},r.prototype.clipExcess=function(t,e,n){var i=this,r=!1;return!r&&(r=i.checkExcess(e)),!r&&(r=i.checkExcess(n)),r&&t&&t.hide(),r},r.prototype.drawLabel=function(t){var e,n=this,i=n.graphics,r=i.labelElem,o=n.dependencies,a=o.paper,s=this.group.refLabel;t&&(r||(r=i.labelElem=a.text(s.elem,!0)),r.attr({text:t,"class":s.className+p+this.config.index}).show(),e=n.getLabelPos(r),n.clipExcess(r,e.leftMostX),delete e.leftMostX,delete e.rightMostX,r.attr(e))},r.prototype.draw=function(t,e,n,i){var r=this,o=r.dependencies,a=o.xAxis,s=this._parentConfig,u=n.getMeasurement(),l=r.startY=u.y;this.drawLine(r.x=t&&a.getPixel(t)||e&&a.getPixel(e),l,r.endY=l+u.height,i.group.plotLine),r.endY-=s.refLabel.margin.bottom,r.startY+=s.label.margin.top},r.prototype.getEvent=function(){},r.prototype.getId=function(t){return t+"_"+this._evtCount++},r.prototype.getUnitConstituents=function(){return["plotLine","refLabel","labelBound","label"]},o.prototype=Object.create(r.prototype),o.prototype.getEventPos=function(t){var e,n,i=this,r=i.x,o=i.config.padding,a=t.getBBox();return e=a.width,t.attr({y:i.startY+(n=a.height)/2}),{rightMostX:r+e/2+o,leftMostX:r-e/2-o,height:n}},o.prototype.getLabelPos=function(t){var e=this,n=t.getBBox();return{x:e.x,y:e.endY-n.height/2,leftMostX:e.x-n.width/2,rightMostX:e.x+n.width/2}},a.prototype=Object.create(r.prototype),a.prototype.getEventPos=function(t){var e,n,i,r=this,o=r.config,a=r.x,s=o.margin;return e=t.getBBox(),n=e.width,t.attr({x:a-(n/2+s/2),y:r.startY+(i=e.height)/2}),{rightMostX:a-s/2,leftMostX:a-n-s,height:i}},a.prototype.getLabelPos=function(t){var e,n,i,r=this;return t.attr("transform",""),t.rotate(-90,r.x,r.endY),e=t.getBBox(),n=e.width,i=n/2,{y:r.endY-i,x:r.x+e.height/2,leftMostX:r.x-n,rightMostX:r.x+n}},FusionCharts.registerComponent("api","acyclic-plot-band",e),FusionCharts.registerComponent("api","cyclic-plot-band",n),FusionCharts.registerComponent("api","cyclic-time-instant",o),FusionCharts.registerComponent("api","acyclic-time-instant",a)}]),FusionCharts.register("module",["private","modules.components.timeseries-plot-api",function(){function t(t,e,n,i){this.setJSONData(t),this.graphics={},this.manager=i,e&&this.setConfig(e),n&&(this.dependencies={paper:n.paper,xAxis:n.xAxis,yAxis:n.yAxis,canvas:n.canvas})}var e=this,n=e.hcLib,i=n.mergeRecursive,r=n.getComputedStyle;t.prototype.setJSONData=function(t){this.jsonData=t||{}},t.prototype.setConfig=function(t){var e=this.config;i(e,t)},t.prototype.setJSONData=function(t){this.jsonData=t||[]},t.prototype.generatePoints=function(t,e,n){var i,r,o,a,s,u=this,l=[],c=t.x,h=t.y,p=t.visibilityPointers||{},f=p.start,g=p.end||c.length-1;for(g=Math.min(g+1,c.length-1),f=Math.max(f-1,0),e&&(a=u.findValidStartAndEndIndex(h,f||0,g,c.length),f=a.start,g=a.end),i=f;g>=i;i++)r={x:c[i],y:h[i]},s=c[i+1]?c[i+1]:c[i-1],r&&void 0!==r.x&&(o=u.getPointDimensions(r,s,n),l.push(o));return l},t.prototype.findValidStartAndEndIndex=function(t,e,n,i){var r,o=e,a=n;if(void 0===t[e])for(;e>=0;){if(r=t[e],void 0!==r){o=e;break}e--}if(void 0===t[n])for(;i>n;){if(r=t[n],void 0!==r){a=n;break}n++}return{start:o,end:a}},t.prototype.getPointDimensions=function(t,e,n){var i,r,o=this,a=o.dependencies,s=a.xAxis,u=a.yAxis,l=t.x,c=t.y,h=s.getPixel(e);return r=s.getPixel(l),n!==!0&&(i=Math.abs(h-r),r+=i/2),{x:r,y:isFinite(c)?u.getPixel(c).toFixed(2):null}},t.prototype.show=function(t){var e=this,n=e.graphics,i=n.group,r=t.enabled,o=t&&t.duration,a=e.dependencies.paper,s=a.getInstances().d3,u=s.transition().duration(o/4);i&&(r!==!1?i.transition(u).style("opacity",1):i.style("opacity",1)),this.hidden=!1},t.prototype.hide=function(t){var e=this,n=e.graphics,i=n.group,r=t.enabled,o=t&&t.duration,a=e.dependencies.paper,s=a.getInstances().d3,u=s.transition().duration(o/4);i&&(r!==!1?i.transition(u).style("opacity",0):i.style("opacity",0)),this.hidden=!0},t.prototype.fade=function(t){var e=this,n=e.graphics,i=n.group,r=t.enabled,o=t&&t.duration,a=e.dependencies.paper,s=a.getInstances().d3,u=s.transition().duration(o/4);r!==!1?i.transition(u).style("opacity",.2):i.style("opacity",.2)},t.prototype.unfade=function(t){var e=this,n=e.graphics,i=n.group,r=t.enabled,o=t&&t.duration,a=e.dependencies.paper,s=a.getInstances().d3,u=s.transition().duration(o/4);r!==!1?i.transition(u).style("opacity",1):i.style("opacity",1)},t.prototype.setVisibility=function(t){this.visible=t},t.prototype.createSVGGroups=function(t){var e,n,i=this.graphics,o=this.dependencies.paper,a=i.group,s=this.config.group,u=s.parsedStyle||{},l=s.className,c=this.jsonData.series;return a||(e=o.getQualifiedClassName(l),a=i.group=t.append("g").classed(e.join(" "),!0),o.cssAddRule("."+e[1],u),n=r(a,e[1],o),c&&c.setComputedStyle(n),a.attr("opacity",1)),{parentGroup:a}},FusionCharts.registerComponent("api","plot",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-pathgenerator-api",function(){function t(t,e){var n={connectNullData:!1};this.config=n,this.pathType=t,e&&this.setConfig(e)}var e,n="M",i="L",r="Z",o=this,a=o.hcLib,s=a.mergeRecursive;e={line:function(){var t,e,r,o,a=this,s=a.points,u=s.length,l=a.config,c=l.connectNullData,h=[],p={y:null};for(o=0;u>o;o++){if(t=s[o],null===t.y){if(c)continue}else e=t.x,r=t.y,null===p.y?h.push(n,e,r):h.push(i,e,r);p=t}return h},area:function(){var t,e,o,a,s,u,l,c=this,h=c.points,p=h.length,f=c.config,g=f.connectNullData,d=[],m={y:null},y=[],v=0;for(a=0;p>a;a++){if(t=h[a],null===t.y){if(g)continue;null!==m.y&&v&&(d=d.concat(y),d.push(r)),v=0,y.length=0}else e=t.x,o=t.y,s=t.x0,u=t.y0,null===m.y?(l=t,v=0,d.push(n,e,o),y.unshift(i,s,u)):(v++,d.push(i,e,o),y.unshift(i,s,u));m=t}return v&&(d=d.concat(y),v&&d.push(r)),d}},t.prototype.setConfig=function(t){s(this.config,t)},t.prototype.generatePath=function(t){var n,i=this,r=this.pathType;return i.points=t,n=e[r].call(i)},FusionCharts.registerComponent("api","pathgenerator",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-line-api",function(){function t(){var t=arguments[1]||{};this.config={},this.pathGenerator=new e("line",{connectNullData:t.connectNullData}),n.apply(this,arguments)}var e=FusionCharts.getComponent("api","pathgenerator"),n=FusionCharts.getComponent("api","plot");t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.plotType="line",t.prototype.draw=function(t,e,n){var i,r,o,a,s,u,l,c,h=this,p=h.graphics,f=h.dependencies,g=h.jsonData,d=h.pathGenerator,m=h.points=h.generatePoints(g,!0,n),y=e||{},v=y.duration,x=y.effect,w=f.canvas.measurement;return p.parentGroup=t,r=f.paper,s=r.getInstances().d3,u=s.transition().duration(v).ease(s["ease"+x]),o=h.createSVGGroups(t).parentGroup,c=d.generatePath(m),p.body||(p.body=[]),a=c.join(" "),p.body[0]||(p.body[0]=o.append("path")),p.body[0].attr("d",a).style("fill-opacity",0),h.drawn?r.setAttrs(p.clipRect,{x:w.x,y:w.y,width:w.width,height:w.height}):(i=r.createUUID(),p.clipRect=l=o.append("clipPath").attr("id",i).append("rect"),r.setAttrs(l,{x:w.x,y:w.y,width:0,height:w.height}),l.transition(u).attr("width",w.width),p.body[0].attr("clip-path","url(#"+i+")"),h.drawn=!0),this},FusionCharts.registerComponent("plot","line",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-area-api",function(){function t(){var t=arguments[1]||{};this.config={},this.pathGenerator=new e("area",{connectNullData:t.connectNullData}),n.apply(this,arguments)}var e=FusionCharts.getComponent("api","pathgenerator"),n=FusionCharts.getComponent("api","plot");t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.plotType="area",t.prototype.draw=function(t,e){var n,i,r,o,a,s,u,l,c,h=this,p=h.dependencies,f=p.xAxis,g=p.yAxis,d=h.graphics,m=h.jsonData,y=h.pathGenerator,v=h.points=h.generatePoints(m),x=e||{},w=x.duration,b=x.effect,C=f.getScaleObj(),_=C.getConfig("length"),M=C.getConfig("posX"),S=g.getScaleObj(),A=S.getConfig("posY"),k=S.getConfig("max"),N=S.getConfig("min"),I=g.getPixel(N)-g.getPixel(k);return o=p.paper,n=o.getInstances().d3,i=n.transition().duration(w).ease(n["ease"+b]),d.parentGroup=t,l=d.group=h.createSVGGroups(t).parentGroup,r=y.generatePath(v),d.body||(d.body=[]),c=d.body[0],a=r.join(" "),d.body[0]||(d.body[0]=l.append("path")),d.body[0].attr("d",a),h.drawn?o.setAttrs(d.clipRect,{x:M,y:A,width:_,height:I}):(u=o.createUUID(),d.clipRect=s=l.append("clipPath").attr("id",u).append("rect"),o.setAttrs(s,{x:M,y:A,width:0,height:I}),s.transition(i).attr("width",_),d.body[0].attr("clip-path","url(#"+u+")"),h.drawn=!0),this},t.prototype.getPointDimensions=function(t,e){var n,i,r=this,o=r.dependencies,a=o.xAxis,s=o.yAxis,u=t.x,l=t.y,c=a.getPixel(e);return n=a.getPixel(u),i=Math.abs(c-n),n+=i/2,{x:n.toFixed(2),y:isFinite(l)?s.getPixel(l).toFixed(2):null,x0:n.toFixed(2),y0:s.getPixel(0).toFixed(2)}},t.prototype.getSeriesColor=function(){return this.config.style.fill},FusionCharts.registerComponent("plot","area",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-column-api",function(){function t(){this.config={},e.apply(this,arguments)}var e=FusionCharts.getComponent("api","plot");t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.plotType="column",t.prototype.draw=function(t,e){var n,i,r,o,a,s,u,l,c=this,h=c.dependencies,p=c.graphics,f=c.jsonData,g=c.points=c.generatePoints(f),d=e||{},m=c.drawn?0:d.duration,y=d.effect,v=h.yAxis,x=v.getPixel(0);return i=h.paper,u=i.getInstances().d3,n=u.transition().duration(m).ease(u["ease"+y]),p.parentGroup=t,r=this.createSVGGroups(t).parentGroup,p.body=a=r.selectAll("rect").data(g),s=a.enter().append("rect").each(function(t){o=u.select(this),l={x:t.x,y:x,width:t.width,height:0},i.setAttrs(o,l)}).merge(a),s.each(function(t){o=u.select(this),l={x:t.x,y:isFinite(t.y)?t.y:x,width:t.width,height:isFinite(t.height)?t.height:0},i.setAttrs(o.transition(n),l),o.transition(n).style("display","block")}),a.exit().transition(n).attr("height",0).attr("y",x).style("display","none"),c.drawn=!0,this},t.prototype.generatePoints=function(t){if(!t.y||this.jsonData.series.active===!1)return[];var e,n,i,r,o=this,a=[],s=t.x,u=t.y,l=t.visibilityPointers||{},c=l.start,h=l.end||s.length-1;for(e=c||0;h>=e;e++)n={x:s[e],y:u[e-c]},r=s[e+1]?s[e+1]:s[e-1],n&&void 0!==n.x&&(i=o.getPointDimensions(n,r),a.push(i));return a},t.prototype.getPointDimensions=function(t,e){var n,i,r,o=this,a=o.dependencies,s=a.xAxis,u=a.yAxis,l=t.x,c=t.y,h=c.y,p=o.manager,f=h>=0?c.prevPosY:c.prevNegY,g=p.config.columnWidth,d=f+h,m=s.getPixel(e);return i=s.getPixel(l),n=Math.abs(m-i),i+=n/2,r=u.getPixel(d>=0?d:f),{x:i-g/2,y:r,width:g,height:Math.abs(u.getPixel(f)-u.getPixel(d))}},FusionCharts.registerComponent("plot","Column",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-candlestick-api",function(){function t(){this.config={},e.apply(this,arguments)}var e=FusionCharts.getComponent("api","plot"),n="M",i="L";t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.plotType="candlestick",t.prototype.draw=function(t,e){var r,o,a,s,u,l,c,h,p,f,g,d,m=this,y=m.dependencies,v=m.graphics,x=m.jsonData,w=m.config,b=m.generatePoints(x),C=e||{},_=m.drawn?0:C.duration,M=C.effect,S=[{config:w.wick,points:b,type:"path"},{config:w.bull,points:b.filter(function(t){return t&&"bull"===t.body}),type:"rect"},{config:w.bear,points:b.filter(function(t){return t&&"bear"===t.body}),type:"rect"}];return o=y.paper,d=o.getInstances().d3,r=d.transition().duration(_).ease(d["ease"+M]),v.parentGroup=t,u=m.createSVGGroups(t),l=u.parentGroup,f=l.selectAll("g").data(S),f.enter().append("g").each(function(t){var e;t.config.className=e=o.getQualifiedClassName(t.config.className),o.cssAddRule("."+e[1],t.config.style)}).merge(f).each(function(e){t=d.select(this),t.attr("class",e.config.className.join(" ")),h=e.type,a=t.selectAll(h).data(e.points),a.enter().append(e.type).each(function(t){t&&(c=d.select(this),"path"!==h&&(p={x:t.x,y:t.y+t.height/2,width:t.width,height:0}),o.setAttrs(c,p))}).merge(a).each(function(t){c=d.select(this),g=c.transition(r),t?("path"===h?(s=t.x+t.width/2,p={d:[n,s,t.highStartY,i,s,t.highY,n,s,t.lowStartY,i,s,t.lowY].join(" ")}):p={x:t.x,y:t.y,width:t.width,height:t.height},o.setAttrs(g,p),c.style("display","block")):c.style("display","none"),!m.drawn&&g.on("end",function(){d.select("."+w.wick.className).style("display","block")})}),a.exit().style("display","none")}),m.drawn?d.select("."+w.wick.className).style("display","block"):d.select("."+w.wick.className).style("display","none"),m.drawn=!0,this},t.prototype.createSVGGroups=function(t){var e,n=this.config,i=this.dependencies.paper,r=this.graphics,o=n.group.className,a=r.group,s=n.group.style;return a||(e=i.getQualifiedClassName(o),e.unshift(n.group.oriClassName),a=r.group=t.append("g").attr("class",e.join(" ")),i.cssAddRule("."+e[1],s)),{parentGroup:a}},t.prototype.getPointDimensions=function(t,e){var n,i,r,o,a,s,u,l,c,h,p,f=this,g=f.dependencies,d=g.xAxis,m=g.yAxis,y=t.x,v=t.y,x=f.manager.config.columnWidth,w=d.getPixel(e);return n=d.getPixel(y),p=Math.abs(w-n),n+=p/2,void 0!==v?(i=v[0],r=v[1],o=v[2],a=v[3],s=Math.max(i,a),u=m.getPixel(s),l=m.getPixel(Math.min(i,a)),c=Math.max(Math.abs(u-l),1),h=Math.min(i,a),{x:n-x/2,y:u,height:c,width:x,highY:r-s>0?m.getPixel(r):u,highStartY:u,lowY:0>o-h?m.getPixel(o):m.getPixel(h),lowStartY:m.getPixel(h),body:i>a?"bear":"bull"}):null},FusionCharts.registerComponent("plot","Candlestick",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-reference-plots-api",function(){function t(t,e,n){this.type=t,this.dependencies=n,this.arg=e,this.graphics=[]}t.PLOT_TYPE={LINE:"Line",ZONE:"Rect"},t.prototype.getSVGElements=function(){return this.graphics},t.prototype.drawLine=function(t,e,n){var i;n=n||this.dependencies.paper,i=e.selectAll("line").data(t),i.exit().remove(),i=i.enter().append("line").css(this.arg.style).merge(i).attr("d",function(t){return"M"+t.x1+","+t.y2+"L"+t.x2+","+t.y1+"Z"})},t.prototype.drawRect=function(t,e,n){var i,r=this.arg.config.className,o=5;n=n||this.dependencies.paper,i=e.selectAll("rect").data(t),i.exit().remove(),i=i.enter().append("rect").classed(r,!0).merge(i).attr("x",function(t){return t.x1-o}).attr("y",function(t){return t.y1}).attr("width",function(t){return t.x2-t.x1+2*o}).attr("height",function(t){return t.y2-t.y1})},t.prototype.draw=function(e,n,i){var r,o,a,s,u=this.dependencies,l=u.paper,c=this.graphics,h=n.getMeasurement(),p=n.getAxes().y,f=this.arg,g=f.startFromOdd,d=[];for(this.type===(r=t.PLOT_TYPE.ZONE)?(o=this["draw"+r],e=e.sort(function(t,e){return t-e})):o=this["draw"+t.PLOT_TYPE.LINE],a=g?1:0,s=e.length;s>a&&void 0!==e[a+1];a+=2)d.push({d:[e[a],e[a+1]],x1:h.x,y1:p.getPixel(e[a+1]),x2:h.x+h.width,y2:p.getPixel(e[a])});return[].push.apply(c,o.call(this,d,i,l)),this},FusionCharts.registerComponent("api","reference-plots",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-tooltip-api",function(){function t(t,e){var n,r=this;r.config={},t&&this.setConfig(t),r.graphics={},r.dependencies=e,t&&this.setConfig(t),i.setup(),n=r.config.container.style,e.graphics.paper.tooltip(this.config.container.style,{opacity:n.opacity,enabled:1},1)}var e=this,n=e.hcLib,i=n.toolTip,r="<br/>",o=n.DateTimeFormatter,a=n.mergeRecursive,s='<span style="vertical-align: sub; color :',u='; font-size : 14px">',l="</span>",c=function(t){return void 0!==t&&null!==t};t.prototype.setConfig=function(t){a(this.config,t)},t.prototype.show=function(t,e,n,r,o){var a,s=this,u=s.dependencies,l=u.graphics.paper;a=s.createTooltextString(n,o),i.drawCustomTooltip(a,r,l)},t.prototype.createTooltextString=function(t,e){var n,i,a,h,p,f=this,g=f.dependencies,d=g.dataset,m=d.getCategoryData(),y=f.config,v=y.separator,x=y.dateFormat,w="",b=y.formatter,C=m[t],_="",M="";return n=o.formatAs(C,x),e.binSize&&(n+=" - "+o.formatAs((m[t+1]||C+e.binSize)-1,x)),w+=s+"#000000"+u+n+l+r,d.forEachSeries(function(f,g,y,x){b?(h=e.binSize?[C,m[t+1]||C+e.binSize-1]:[C],p=b.call({category:d.category,series:x},h,g[t],o),i=c(p.x)?p.x:n,a=c(p.y)?p.y:g[t],_=s+"#000000"+u+i+l+r):(_=s+"#000000"+u+n+l+r,a=g[t]),M+=x.getTooltext(a,v)}),w=_+M},t.prototype.drawTooltip=function(t,e,n){i.drawTooltip(t,e,n)},t.prototype.hide=function(){i.hide()},FusionCharts.registerComponent("api","Tooltip",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-crossline-api",function(){function t(t,e,n,i){var r=(i-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}function e(e,n,i,r,o){var a=t(e,n,i,o),u=t(e,n,i,r),c=180>=o-r?"0":"1",h=[s,a.x,a.y,l,i,i,0,c,0,u.x,u.y].join(" ");return h}function n(t,e,n){var i,r,o,a,s,u,l,c,h,p,f,g;this.startY=t.y1,this.endY=t.y2,this.startX=t.x1,this.endX=t.x2,this.config={},this.graphics={},this.dependencies=n,this.numberFormatter=n.numberFormatter,g=n.canvas.measurement,i=n.graphics.paper,c=i.getInstances().d3,f=n.group,e.crossline&&this.setConfig(e),u=this.config.crossline,r=u.horizontal.className,o=u.vertical.className,a=u.horizontal.style,s=u.vertical.style,this.graphics.markerGroup=f.append("g").attr("class",e.crossline.marker.className),this.graphics.crosslineGroup=f.append("g"),r=u.horizontal.className=i.getQualifiedClassName(r),o=u.vertical.className=i.getQualifiedClassName(o),i.cssAddRule("."+r[1],a),i.cssAddRule("."+o[1],s),l=this.config.tooltip,p=n.canvas.measurement,this.tooltip=c.tooltip().namespace("fusioncharts").attachTo(c.select(i.canvas)).bbox(p.x,p.y,p.width,p.height).offset({x:15,y:15}),h=i.getId(),i.cssAddRule("#"+h+" ."+l.container.className,l.container.style),i.cssAddRule("#"+h+" ."+l.title.container.className,l.title.container.style),i.cssAddRule("#"+h+" ."+l.title.className,l.title.style),i.cssAddRule("#"+h+" ."+l.body.container.className,l.body.container.style),i.cssAddRule("#"+h+" ."+l.body.className,l.body.style),this.setReactivity()}var i=this,r=i.hcLib,o=r.mergeRecursive,a=r.DateTimeFormatter,s="M",u="V",l="A",c="H";n.prototype.setConfig=function(t){o(this.config,t)},n.prototype.setReactivity=function(){var t,e,n,i,o,s,u=this,l=u.dependencies,c=l.smartlabel,h=u.config.crossline,p=l.canvas.measurement,f=l.globalReactiveModel,g=l.reactiveModel,d=this.config.tooltip,m=d.numberFormatter,y=l.xAxis,v=l.yAxis,x=y.getScaleObj().getIntervalObj(),w=v.getScaleObj().getIntervalObj(),b=h.horizontal,C=h.vertical,_=b.label,M=C.label;_.hide||(n={drawLabelBgRect:!_.textBg.hide,drawTicks:!1,drawLabels:!_.text.hide,tickColor:_.tick.style.stroke,labelColor:_.text.style.fill,labelFontSize:_.text.style["font-size"],labelBgColor:_.textBg.style.fill,labelBgOpacity:_.textBg.style["fill-opacity"],formatter:function(t,e){return e.numberFormatter&&e.numberFormatter.formatter.config(m.config),_.formatter(t,e)}},t=w.createCustomInterval("crossLine",n),w.initIntervalGraphicObj(),t.intervalGraphicObj.filterAttr=function(t,e){"label"===t&&(e["text-anchor"]="start",e.x=e.x+4,e.y=e.y+2,e.dy="0.75em")}),M.hide||(s={drawLabelBgRect:!M.textBg.hide,drawTicks:!1,drawLabels:!M.text.hide,tickColor:M.tick.style.stroke,labelColor:M.text.style.fill,labelFontSize:M.text.style["font-size"],labelBgColor:M.textBg.style.fill,labelBgOpacity:M.textBg.style["fill-opacity"],formatter:function(t){return M.formatter.call({formatter:a},t)}},e=x.createCustomInterval("crossLine",s),x.initIntervalGraphicObj()),u.initTooltip(),f.onPropsChange(["hover-x","hover-y","hover-evt"],function(t,e,n){var a,s,h=t[1],f=e[1],d=n[1],m=d&&d.type;("mouseover"===d.type||"touchstart"===d.type)&&u.initTooltip(),m&&(u.evtFired=d.type),a=x&&x.getConfig("intervals").crossLine,s=w&&w.getConfig("intervals").crossLine,void 0===h||void 0===f||void 0===d?(u.hide(),u.hideAxisLabels()):(u.currentMousePos={x:h,y:f},"mouseout"!==u.evtFired&&(u.show({x:y.getValue(h),y:f,binSize:g.prop("bin-size"),dataAggregator:l.dataAggregator},d),x&&(a.intervalPoints.length=0,a.intervalPoints.push(y.getValue(h)),a.intervalGraphicObj&&(a.intervalGraphicObj.filterAttr=function(t,e){var n,s;i||(i=a.intervalGraphicObj.getConfig("elements").label.group,o=r.getSmartComputedStyle(i,{})),"label"===t&&(n=e.x,e.y=u.startY+4,e.dy="0.75em",c.setStyle(o),s=c.getOriSize(e.text).width/2,n-s<p.x?e.x=p.x+s:n+s>p.x+p.width&&(e.x=p.x+p.width-s))}),x.draw({intervalNameArr:["crossLine"]})),w&&(s.intervalPoints.length=0,s.intervalPoints.push(v.getValue(f).toFixed(2)),w.draw({intervalNameArr:["crossLine"],manageIntervalRequire:!1}))))})},n.prototype.show=function(t){var e,n,i,o,a,l,h,p,f,g=this,d=g.graphics,m=g.config.crossline,y=m.horizontal,v=m.vertical,x=d.hCrossline,w=d.vCrossline,b=v.className,C=y.className,_=g.dependencies,M=_.graphics.paper,S=M.getInstances().d3,A=_.dataset,k=_.xAxis,N=_.yAxis,I=A.getCategoryData(),T=m.markerPlotTypes,P=m.marker,L=g.startY,D=g.endY,F=g.graphics.markerGroup,E=m.marker.className,R=g.graphics.crosslineGroup;L=void 0===L?g.startY:L,D=void 0===D?g.endY:D,e=Math.max(r.getClosestIndexOf(I,t.x,"left"),0),n=k.getPixel(I[e]),p=k.getPixel(I[e+1]?I[e+1]:I[e-1]),f=Math.abs(p-n),n+=f/2,h=v.hide?[]:[s,n,L,u,D],l=y.hide?[]:[s,g.startX,t.y,c,g.endX],x||(x=d.hCrossline=R.append("path")),M.setAttrs(x,{d:l.join(" "),"class":C.join(" "),visibility:"visible"}),w||(w=d.vCrossline=R.append("path")),M.setAttrs(w,{d:h.join(" "),"class":b.join(" "),visibility:"visible"}),a=A.getSeries().filter(function(t){return-1!==T.indexOf(t.getPlotType())}),o=F.selectAll("circle").data(a),o.enter().append("circle").merge(o).each(function(t){var r,o,a,s,u=t.getAggregatedData(),l=S.select(this);r=m.marker.radius,i=t.getItemStyle(),s={fill:i.fill,stroke:P.style.stroke,"stroke-width":P.style["stroke-width"],"fill-opacity":1,"class":E,display:"block"},o=u[e],void 0!==o&&t.active?(a=N.getPixel(o),M.setAttrs(l,{cx:n,cy:a,r:r}),M.setStyles(l,s)):l.style("display","none")})},n.prototype.initTooltip=function(){var t,n=this,i=this.dependencies,o=i.canvas,s=o.svgElements.tracker,u=i.dataset,l=u.series,c=i.xAxis,h=l.length,p=[],f=this.config.tooltip,g=f.numberFormatter,d=f.formatter,m=i.numberFormatter,y=n.dependencies,v=y.reactiveModel,x=this.tooltip,w=function(t){return function(i,r,o){var a,s,l,c,h,p=u.series,f=p[t],g=f.getItemStyle(),d=n.nearestValue;if(null!==d){if("candlestick"===f.getPlotType()){if(a=f.getAggregatedData()[d],void 0===a)return;s=a[0],l=a[3],c=s>l?f.config.plot.bear:f.config.plot.bull,h=c.parsedStyle.fill}else h=g.fill;return[e(i,r,o/1.9,0,359),{style:{fill:h}}]}}},b=["Open","High","Low","Close"],C=function(t,e){return function(){var i,r=u.series,o=r[t],s=n.nearestValue,l=o.getAggregatedData(),c=l[s],h=u.getCategoryData(),p=h[s],d=v.prop("bin-size"),y=f.formatter;
if(null!==s)return h=d?[p,h[s+1]||p+d-1]:[p],x=y.call({category:u.category,series:o},h,c,a,{numberFormatter:{formatter:m,config:g.config,suffix:g.suffix||"",prefix:g.prefix||""}}),i=x.y instanceof Array?void 0===e?x.y.join(" - "):x.y[e]:void 0===e?x.y:void 0===c?x.y:b[e]+": "+x.y,[i,{style:{"font-weight":"candlestick"===o.getPlotType()?"normal":"bold"}}]}},_=function(t){return function(){var e=u.series,n=e[t],i=n.getItemStyle(),r=i.fill;return _="candlestick"!==n.getPlotType()?n.name+f.separator:n.name,[_,{style:{fill:r,"font-weight":"bold"}}]}},M=function(t){return function(){return[b[t]+": ",{style:{"font-weight":"bold"}}]}};for(t=0;h>t;t++)l[t].active&&("candlestick"===l[t].plotType?p.push({icon:w(t),text:[_(t)]},{text:[M(0),C(t,0)]},{text:[M(1),C(t,1)]},{text:[M(2),C(t,2)]},{text:[M(3),C(t,3)]}):p.push({icon:w(t),text:[_(t),C(t)]}));s.data([[{text:[function(t){var e=t.pos,i=e[0],o=u.getCategoryData(),s=r.getClosestIndexOf(o,c.getValue(i),"left"),l=u.series,h=s,p=o[h],f=v.prop("bin-size");return o=f?[p,o[h+1]?o[h+1]-1:p+f-1]:[p],n.nearestValue=s,x=d.call({category:u.category,series:l[0]},o,l[0].getAggregatedData()[h],a,{numberFormatter:{formatter:m,config:g.config,suffix:g.suffix||"",prefix:g.prefix||""}}),x.x}]},p]]).call(x)},n.prototype.hide=function(){var t=this,e=t.graphics,n=e.hCrossline,i=e.vCrossline,r=e.markerGroup;n&&n.attr("visibility","hidden"),i&&i.attr("visibility","hidden"),this.hideAxisLabels(),r.selectAll("circle").style("display","none")},n.prototype.hideAxisLabels=function(){var t=this.dependencies,e=t.xAxis.getScaleObj().getIntervalObj(),n=t.yAxis.getScaleObj().getIntervalObj(),i=e.getConfig("intervals").crossLine,r=n.getConfig("intervals").crossLine;i&&(i.intervalPoints.length=0,e.draw({intervalNameArr:["crossLine"]})),r&&(r.intervalPoints.length=0,n.draw({intervalNameArr:["crossLine"],manageIntervalRequire:!1}))},FusionCharts.registerComponent("api","cross-line",n)}]),FusionCharts.register("module",["private","modules.components.timeseries-canvas-api",function(){function t(){var t,e=[].slice.call(arguments,0);3===e.length&&(t=e.shift()),this._args=e,r.apply(this,e),this.measurement={},t&&this.setMeasurement(t)}var e=this,n=e.window,i=n.SVGElement,r=FusionCharts.getComponent("api","container"),o=FusionCharts.getComponent("api","reference-plots"),a=FusionCharts.getComponent("main","axis");t.prototype=Object.create(r.prototype),t.prototype.setMeasurement=function(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i},t.prototype.getMeasurement=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.setMeasurement=function(t){var e=this.measurement;return"object"==typeof t?(e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e.group=t.group):(e.x=arguments[0],e.y=arguments[1],e.width=arguments[2],e.height=arguments[3],e.group=arguments[4]),this},t.prototype.getMeasurement=function(){return this.measurement},t.prototype.getSVGGroup=function(t){return this.graphics.group||(this.graphics.group=t.append("g").attr("class","fusioncharts-canvas-group"))},t.prototype.clipToDimension=function(t,e,n){var i=this.measurement,r=this.dependencies.paper,o=r.createUUID(),a="url(#"+o+")";if(t=t||this.graphics.group){switch(n||(n={x:0,y:0}),e){case"x":t.append("clipPath").attr("id",o).append("rect").attr("x",i.x-n.x).attr("y",i.y).attr("width",i.width+2*n.x).attr("height",9999999);break;case"y":t.append("clipPath").attr("id",o).append("rect").attr("x",0).attr("y",i.y-n.y).attr("width",99999999).attr("height",i.height+2*n.y);break;default:t.append("clipPath").attr("id",o).append("rect").attr("x",i.x).attr("y",i.y).attr("width",i.width).attr("height",i.height)}return t.attr("clip-path",a),t}},t.prototype.attachAxes=function(t,e){return this.attachXAxis(t).attachYAxis(e)},t.prototype.attachXAxis=function(t){return t&&t instanceof a?(this.dependencies.xAxis=t,this):this},t.prototype.attachYAxis=function(t){return t&&t instanceof a?(this.dependencies.yAxis=t,this):this},t.prototype.getAxes=function(){var t=this.dependencies;return{x:t.xAxis,y:t.yAxis}},t.prototype.drawHorizontalSpans=function(t){return t.startFromOdd=!0,new o(o.PLOT_TYPE.ZONE,t,{paper:this.dependencies.paper}).draw(t.data,this,t.group)},t.prototype.draw=function(){var t,e,n,r,o,a,s,u,l=[].slice.call(arguments,0);l.length>1?(a=l.splice(l.length-1,1)[0],a instanceof i?s=a:l.push(a),this.setMeasurement.apply(this,l)):s=l[0],t=this.getMeasurement(),e=t.x,n=t.y,r=t.width,o=t.height,u=this.getSVGGroup(t.group),this.drawSelf(e,n,r,o,u)},FusionCharts.registerComponent("api","canvas",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-arearange-api",function(){function t(){e.apply(this,arguments)}var e=FusionCharts.getComponent("plot","area");t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.plotType="arearange",t.prototype.getPointDimensions=function(t,e){var n,i,r=this,o=r.dependencies,a=o.xAxis,s=o.yAxis,u=t.x,l=t.y,c=a.getPixel(e);return n=a.getPixel(u),i=Math.abs(c-n),n+=i/2,{x:n.toFixed(2),y:void 0===l?null:s.getPixel(l[1]).toFixed(2),x0:n.toFixed(2),y0:void 0===l?null:s.getPixel(l[0]).toFixed(2)}},FusionCharts.registerComponent("plot","arearange",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-columnrange-api",function(){function t(){e.apply(this,arguments)}var e=FusionCharts.getComponent("plot","column");t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.plotType="columnrange",t.prototype.getPointDimensions=function(t,e){var n,i,r,o,a,s=this,u=s.dependencies,l=u.xAxis,c=u.yAxis,h=t.x,p=t.y,f=s.manager,g=f.config.columnWidth,d=l.getPixel(e);return a=l.getPixel(h),o=Math.abs(d-a),a+=o/2,n=p?p[0]:null,i=p?p[1]:null,r=c.getPixel(i),{x:a-g/2,y:r,width:g,height:Math.abs(c.getPixel(n)-c.getPixel(i))}},t.prototype.generatePoints=function(t){var e,n,i,r,o=this,a=[],s=t.x,u=t.y,l=t.visibilityPointers||{},c=l.start,h=l.end||s.length-1;for(e=c||0;h>=e;e++)n={x:s[e],y:u[e]},r=s[e+1]?s[e+1]:s[e-1],n&&void 0!==n.x&&(i=o.getPointDimensions(n,r),a.push(i));return a},FusionCharts.registerComponent("plot","ColumnRange",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-legend-api",function(){function t(t,e){this.config={},t&&this.setConfig(t),this.items=[],this.graphics={},this.dependencies=e}var e=this,n=e.hcLib,i=n.getSmartComputedStyle,r=n.mergeRecursive;t.prototype.setConfig=function(t){r(this.config,t)},t.prototype.draw=function(t,e,n){var i,r=this.dependencies,o=r.paper,a=this.config,s=a.margin,u=s.top,l=s.left,c=a.bound.style,h=a.bound.className,p=this.graphics,f=p.body;n.attr("transform","translate("+(t+l)+","+(e+u)+")"),i=o.getQualifiedClassName(h),f||(f=p.body=n.insert("rect",":first-child"),o.cssAddRule("."+i[1],c)),o.setAttrs(f,{x:0,y:0,width:this.width,height:this.height,"class":i&&i.join(" ")}),this.drawItems()},t.prototype.drawItems=function(){var t,e,n,i=this,r=i.dependencies,o=r.paper,a=i.config,s=a.symbol,u=s.width,l=s.height,c=i.dependencies.dataset,h=s.borderRadius,p=function(t){var e,n=t.seriesId,r=c.getSeriesById(n),o=i.eventListeners,a=o.click,s=t.switchOffState;t.switchOffState=e=!s,r.setActiveStatus(!e),e?i.fadeItem(n):i.restoreItemState(n),a(r,e)},f=function(t){var e=t.seriesId,n=c.getSeriesById(e),r=i.eventListeners,o=r.mouseover;o(n)},g=function(t){var e=t.seriesId,n=c.getSeriesById(e),r=i.eventListeners,o=r.mouseout;o(n)},d=i.graphics.textGroup,m=i.graphics.symbolGroup,y=o.getInstances().d3,v=i.graphics.trackerGroup,x=4;t=m.selectAll("rect").data(this.genItems),t.enter().append("rect").merge(t).each(function(t){var e=t.xPos,n=t.yPos,i=t.series.getItemStyle(),r={x:e,y:n,rx:h,ry:h,width:u,height:l};i={fill:i.fill,"fill-opacity":1,"stroke-width":1,"stroke-opacity":1,stroke:i.fill},o.setAttrs(y.select(this),r),o.setStyles(y.select(this),i)}),e=d.selectAll("g").data(this.genItems),e.enter().append("g").merge(e).each(function(t){var e=t.textXPos,n=t.textYPos;t.fusionText.draw(y.select(this),{x:e,y:n})}),n=v.selectAll("rect").data(this.genItems),n.enter().append("rect").merge(n).each(function(t){var e=t.xPos,n=t.yPos,i=t.width,r=t.height,a=y.select(this);o.setAttrs(a,{x:e-x,y:n-x,width:i+2*x,height:r+2*x}),a.on("click",p),a.on("mouseover",f),a.on("mouseout",g)}),this.genItems.forEach(function(t){var e=t.seriesId,n=c.getSeriesById(e);t.switchOffState=!n.active,n.active?i.restoreItemState(e):i.fadeItem(e)})},t.prototype.fadeItem=function(t){var e=this,n=e.dependencies.paper.getInstances().d3,i=e.graphics.symbolGroup,r=e.graphics.textGroup;i.selectAll("rect").each(function(e){e.seriesId===t&&n.select(this).style("fill-opacity",0)}),r.selectAll("text").each(function(e){e.seriesId===t&&n.select(this).attr("opacity",.4)})},t.prototype.restoreItemState=function(t){var e=this,n=e.dependencies.paper.getInstances().d3,i=e.graphics.symbolGroup,r=e.graphics.textGroup;i.selectAll("rect").each(function(e){e.seriesId===t&&n.select(this).style("fill-opacity",1)}),r.selectAll("text").each(function(e){e.seriesId===t&&n.select(this).attr("opacity",1)})},t.prototype.attachEventHandlers=function(t){this.eventListeners=t},t.prototype.getLogicalSpace=function(t,e){var n,r,o,a,s,u,l,c,h,p,f,g,d,m,y,v,x,w,b,C,_,M,S,A=this,k=A.config,N=2*k.boxPadding,I=k.symbol.width,T=k.symbol.height,P=k.symbolPadding,L=A.dependencies,D=L.smartLabel,F=k.text.className,E=0,R=0,O=0,j=A.items,H=0,B=k.itemPadding,G=k.margin,W=0,z=[],X=[],Y=[],V=L.paper,U=V.getInstances().d3,q=this.graphics.symbolGroup,Z=this.graphics.textGroup,$=this.genItems=this.genItems||($=[]),Q=k.text.style,K=this.graphics.trackerGroup;for(a=I+P,q||(q=this.graphics.symbolGroup=L.parentGroup.append("g")),M=V.getQualifiedClassName(F),Z||(Z=this.graphics.textGroup=L.parentGroup.append("g"),V.cssAddRule("."+M[1],Q)),K||(K=this.graphics.trackerGroup=L.parentGroup.append("g"),K.attr("class","fusioncharts-tracker").style("fill-opacity",1e-5).style("stroke-opacity",1e-5).style("cursor","pointer")),S=i(Z,F,V),D.setStyle(S),R=N,O=N,f=parseInt(S.lineHeight,10)||12,o=A.rowHeight=Math.max(f,T),h=p=N/2,l=0,r=0,s=j.length;s>r;r++)n=j[r],d=n.name,C=$[r]||($[r]={}),C.name=n.name,C.series=n.series,C.seriesId=n.seriesId,b=C.fusionText,C.fusionText||(b=C.fusionText=U.fusiontext()),b.label(d,{className:M&&M.join(" "),valign:"top"}),_=b.getLogicalSpace(Z),E=Math.max(E,_.width),C.totalWidth=_.width+a+(s-1>r?B:0),C.totalHeight=o,R+=C.totalWidth,C.xPos=h+l,C.yPos=p,C.textXPos=h+l+a,C.textYPos=C.yPos+T/2-f/2,C.width=_.width+a,C.height=o,l+=C.totalWidth,H=Math.max(_.height,a);if(c=R/s,c+=a,u=s,g=1,R>t){for(u=Math.max(Math.floor(t/c),1),A.perItemWidth=Math.floor((t-N)/u),R=0,r=0,s=$.length;s>r;r++){for(n=$[r],b=n.fusionText,_=b.getLogicalSpace(n.name,{width:A.perItemWidth-a,height:e});z[W]===!0;)W+=1;for(w=_.height/o,y=W,m=0;w>m;m+=1,y+=u)z[y]=!0;v=parseInt(W/u,10),x=W%u,n.totalWidth=_.width+a+(u-1>x?B:0),n.xPos=h+(Y[x-1]||0),n.yPos=p+v*o+(v>0?v*P:0),n.totalHeight=m*o,n.rowIndex=v,n.colIndex=x,n.textXPos=h+(Y[x-1]||0)+a,n.textYPos=n.yPos+T/2-f/2,X[v]||(X[v]=0),X[v]+=n.totalWidth,n.width=_.width+a,n.height=m*o,Y[x]||(Y[x]=0),Y[x]=Math.max(Y[x],n.totalWidth),W++}for(r=0,s=Y.length;s>r;r++)Y[r]+=Y[r-1]||0;for(r=0,s=$.length;s>r;r++)$[r].xPos=h+(Y[$[r].colIndex-1]||0),$[r].textXPos=$[r].xPos+a;R=Math.max.apply(Math,Y),R+=N,g=z.length/u}return O+=Math.max(X.length,1)*o,O+=Math.max(X.length-1,0)*P,O>e&&(O=e),A.width=R,A.height=O,{width:R+G.left+G.right,height:O+G.top+G.bottom}},t.prototype.addItems=function(t){this.items=this.items.concat(t)},t.prototype.emptyItems=function(){this.items.length=0},FusionCharts.registerComponent("api","Legend",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-canvasgroup-api",function(){function t(t){var e,n,i,r={axes:!0,dataset:!0,impl:!0},o={};e=this.context=t||{},n=this.composition={},this.config={},n.dataset=e.dataset,n.xAxis=e.axes.x,n.yAxis=e.axes.y,n.impl=e.impl;for(i in t)i in r||(o[i]=t[i]);this.setConfig(o)}t.prototype.getComposition=function(){return this.composition},t.prototype.setConfig=function(t){var e=this.getDefaultConfig();this.config=Object.assign(e,t)},t.prototype.getConfig=function(){return this.config},t.prototype.getDefaultConfig=function(){var t={};return Object.defineProperties(t,{_showAxes:{enumerable:!1,configurable:!1,value:{x:!0,y:!0}},showAxes:{enumerable:!0,configurable:!1,get:function(){return this._showAxes},set:function(t){var e,n,i=this._showAxes;if("boolean"==typeof t)i.x=t,i.y=t;else{e=t;for(n in e)n in i&&(i[n]=e[n])}}}}),t},FusionCharts.registerComponent("api","canvas-group",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-data-aggregator-api",function(){function t(t){this.data=t.data,this.category=t.category,this.aggregatorFn=t.aggregatorFn||this.getDefaultAggregationMethod(),this.maxPlotPoints=t.maxPlotPoints,this.timeRules=new r,this.timeSeriesCompatable=!0}var e=this,n=e.window,i=e.hcLib,r=FusionCharts.getComponent("api","timerules"),o=FusionCharts.getComponent("main","timeintervals"),a=n.Math,s=function(t){var e,n=-(1/0),i=-(1/0),r=t.length;for(e=0;r>e;e++)n=Math.max(n,t[e][1]),i=Math.max(i,t[e][0]);return[i,n]},u=function(t){var e,n=1/0,i=1/0,r=t.length;for(e=0;r>e;e++)n=Math.min(n,t[e][1]),i=Math.min(i,t[e][0]);return[i,n]};t.prototype.setData=function(t){var e;for(e in t)e in this&&void 0!==t[e]&&(this[e]=t[e]);return null===t.aggregatorFn&&(this.aggregatorFn=this.getDefaultAggregationMethod()),this},t.prototype.getAllAggregationMethod=function(){var t=i.extend2({},this.fnLibrary);return delete t.ohlcAggregator,t},t.prototype.getDefaultAggregationMethod=function(){return this.fnLibrary.sum},t.prototype.getCurrentAggregationMethod=function(){return this.aggregatorFn},t.prototype.getAggregationTimeRules=function(){return this.timeRules.getRules()},t.prototype.getData=function(){return{data:this.data,category:this.category}},t.prototype.fnLibrary={sum:{def:function(t){var e,n,i=0,r=t[0]instanceof Array,o=0,a=0;if(r){for(e=0,n=t.length;n>e;e+=1)a+=t[e][0],o+=t[e][1];i=[a,o]}else for(e=0,n=t.length;n>e;e+=1)i+=t[e];return i},formalName:"Sum",nickName:"sum"},mean:{def:function(t){var e,n,i=this.fnLibrary.sum.def(t),r=t.length;return t[0]instanceof Array?(e=i[0],n=i[1],[e/r,n/t.length]):i/r},formalName:"Average",nickName:"mean"},min:{def:function(t){var e=t[0]instanceof Array;return e?u(t):a.min.apply(null,t)},formalName:"Minimum",nickName:"min"},max:{def:function(t){var e=t[0]instanceof Array;return e?s(t):a.max.apply(null,t)},formalName:"Maximum",nickName:"max"},firstValue:{def:function(t){return t[0]},formalName:"First value",nickName:"firstValue"},lastValue:{def:function(t){return t[t.length-1]},formalName:"Last value",nickName:"lastValue"},ohlcAggregator:{def:function(t){var e,n,i=t[0][0],r=[],o=[],a=t[t.length-1][3];for(e=0,n=t.length;n>e;e+=1)r.push(t[e][1]),o.push(t[e][2]);return[i,Math.max.apply(null,r),Math.min.apply(null,o),a]},formalName:"OHLC",nickName:"ohlcAggregator"}},t.prototype.registerFunction=function(t,e,n){return n||(n=i.capitalizeFirst(t)),this.fnLibrary[t]={def:e,formalName:n,isCustomDefined:!0},this},t.prototype.recreateCategory=function(t,e,n){var i,r=e.length,o=Math.ceil(e[0]/t)*t,a=0;e[0]<o&&n.push(o-t+t/2);do{if(o>e[r-1])break;for(i=0;r>a&&!(e[a]>o);a+=1)i+=1;i&&n.push(o+t/2)}while(o+=t);return this},t.prototype.recreateCategoryTimeSeries=function(t,e,n){var i,r,a=e.length-1;return i=this.timeRules.getSuitableInterval(t-1),r={timeRules:this.timeRules,preSetTimeIntervalCallback:function(t){return t}},void 0!==i.index&&o.prototype.setIntervals.call(r,{max:e[a]+t,min:e[0]-t,index:i.index,step:i.step,intervalStore:n,type:"aggregation"}),this},t.prototype.applyAggregation=function(t,e){var n,i,r,o,a;for(n=0,i=t.length;i>n;n+=1)for(a=t[n].aggregatorFn||this.aggregatorFn,"object"!=typeof a&&(a=this.fnLibrary[a]),r=0,o=t[n].data.length;o>r;r+=1)t[n].data[r]=t[n].data[r]&&a.def.call(this,t[n].data[r],e&&e[r]);return this},t.prototype.recreateData=function(t,e,n,i,r){var o,a,s,u,l,c=0;for(r=r||0,i.length=0,a=0,s=e.length;s>a;a+=1)for(o=t.length;o>c&&!(t[c]>=(e[a+1]-r/2||1/0));c+=1)for(u=0,l=n.length;l>u;u+=1)void 0!==n[u].data[c]&&(i[u]||(i[u]={data:[],seriesId:n[u].seriesId,aggregatorFn:n[u].aggregatorFn}),i[u].data[a]||(i[u].data[a]=[]),i[u].data[a].push(n[u].data[c]));return this},t.prototype.getAggregatedData=function(t){var e,n,i,r=this.category,o=this.data,a=this.maxPlotPoints,s=[],u=[];return e=Math.abs((r[r.length-1]-r[0])/a),i=t||this.timeRules.getSuitableInterval(e),n=i.span||e,r.length<a&&!t||!n||!isFinite(n)||1>n?{data:this.data,category:this.category}:(this.timeSeriesCompatable?this.recreateCategoryTimeSeries(n,r,s):this.recreateCategory(n,r,s),this.recreateData(r,s,o,u,n),this.applyAggregation(u,s),{data:u,category:s,rules:i})},FusionCharts.registerComponent("api","dataaggregator",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-dataset-api",function(){function t(e,n,i,r){this._id=(new Date).getTime()+""+t._instanceCount++,this.name=e||0,this.data=i,this.plotType=n,this.parsedData=[],this.config=r,this.mappedAggregatedData=this.aggregatedData=this.parsedData,this.config=r,this.active=void 0!==r.active?r.active:!0,this.min=void 0,this.max=void 0,this.config.plot.group.oriClassName=this.config.plot.group.className,this.parseStyles()}function e(){t.apply(this,arguments)}function n(){t.apply(this,arguments)}function i(){n.apply(this,arguments)}function r(){t.apply(this,arguments)}function o(){t.apply(this,arguments)}function a(){this.aggregatorFn="ohlcAggregator",t.apply(this,arguments)}function s(){this.series=[]}function u(){s.apply(this,arguments)}function l(t){this.data=t.data,this.dateformat=t.dateformat,this.min=void 0,this.max=void 0,this.excludeIndex={},this.parsedData=[],this.mappedAggregatedData=this.aggregatedData=this.parsedData,this.df=void 0,this.minimumConsecutiveDifference=void 0,this.parseRaw()}function c(t,e,n,i,r){var o;this.category=e,this.series=n,this.seriesGroups=i,this.seriesIdPlotMap=this.getSeriesIdPlotMap(),this.id=t,this.globalReactiveModel=void 0,this.min={x:this.category.getMin(),y:void 0},this.max={x:this.category.getMax(),y:void 0},this.visibilityPointer={start:0,end:this.category.getSize()-1},(o=(r||{}).preDrawingHook)&&"function"==typeof o&&o(this),this.calculateLimits()}function h(t){this.datasetConf=t,this.category=new l(t.category),this.datasets=[],this.createDataset(t.dataset)}var p,f=this,g=f.hcLib,d=f.window,m=d.Number,y=d.Math,v=d.parseFloat,x=g.DateTimeFormatter,w=g.paletteFCTS,b="<br/>",C='<span style="vertical-align: sub; color :',_='; font-size : 14px">',M="</span>",S="&#9679; ",A="   <b> Open</b>",k="  <b> Close</b> ",N="  <b> High</b>",I="  <b> Low</b>",T="last-updated-dataset";p=function(){var t={line:e,area:n,column:r,candlestick:a,arearange:i,columnrange:o},l={line:s,area:s,column:u,candlestick:s,arearange:s,columnrange:s};return{getInstanceFor:function(e,n){var i=t[arguments[0]];return new i(n[0],e,n[1],n[2])},getGroupInstanceFor:function(t){var e=l[t];return new e}}}(),t._instanceCount=0,t.prototype.setActiveStatus=function(t){return this.active=t,this},t.prototype.parseStyles=function(){var t=this,e=t.config.plot,n=e.group.style,i=function(e,n){for(var i in e)e[i]instanceof Function?n[i]=e[i](w,t.config.index,g):n[i]=e[i]};e.group.className=e.group.oriClassName+"-"+t.config.index,e.group.parsedStyle=g.extend2({},n),i(n,e.group.parsedStyle)},t.prototype.parse=function(t,e){var n,i,r,o=this.data,a=this.parsedData;for(0!==a.length&&(a.length=0),e=e||{},i=0,r=t;r>i;i++)i in e||(n=o[i],void 0!==n&&(n=this.parseAtomicData(n),this.isValid(n)||(n=void 0)),a.push(n));return this.calculateLimits(0,t),this},t.prototype.parseAtomicData=function(t){return t instanceof Array?t.map(function(t){return v(t,10)}).sort(function(t,e){return t-e}):v(t,10)},t.prototype.isValid=function(t){var e,n;if(t instanceof Array){for(e=0,n=t.length;n>e;e++)if(!isFinite(t[e]))return!1;return!0}return isFinite(t)},t.prototype.setAggregatedData=function(t){return this.aggregatedData=t,this.calculateLimits(0,t.length),this},t.prototype.getAggregatedData=function(){return this.aggregatedData},t.prototype.setAggregatedMappedData=function(t){return this.mappedAggregatedData=t,this.calculateMappedLimits(0,t.length),this},t.prototype.getAggregatedMappedData=function(){return this.mappedAggregatedData},t.prototype.setOriginalData=function(t){return this.data=t,this},t.prototype.getOriginalData=function(){return this.parsedData},t.prototype.addData=function(t){return isFinite(t=v(t,10))||this.parsedData.push(void 0),this.parsedData.push(t),this},t.prototype.minMaxGetter=function(t,e,n){var i,r,o,a=m.POSITIVE_INFINITY,s=m.NEGATIVE_INFINITY;for(e=e||0,n=isFinite(n)?n:t.length,r=e,o=n;o>r;r++)i=t[r],void 0!==i&&(a=y.min(a,i),s=y.max(s,i));return[a,s]},t.prototype.calculateLimits=function(t,e){var n=this.minMaxGetter(this.aggregatedData,t,e);return this.min=n[0],this.max=n[1],this},t.prototype.getId=function(){return this._id},t.prototype.getMin=function(){return this.min},t.prototype.getMax=function(){return this.max},t.prototype.getPlotType=function(){return this.plotType},t.prototype.calculateMappedLimits=function(){var e=t.prototype.minMaxGetter.call(this,this.getMappedData());return this.min=e[0],this.max=e[1],this},t.prototype.setComputedStyle=function(t){this.config._computedStyle=t},t.prototype.getMappedData=function(){return this.mappedAggregatedData},t.prototype.getOriginalMappedData=function(){return this.parsedData},t.prototype.getItemStyle=function(){var t=this.config._computedStyle;return{fill:t.stroke,"fill-opacity":t["stroke-opacity"]}},t.prototype.getTooltext=function(t,e){var n=this.getItemStyle(),i=n.fill,r="";return void 0!==t&&this.active&&(r+=C+i+_+S+this.name+M,r+=C+"#000000"+_+e+"<b>"+t+"</b>"+M+b),r},t.prototype.getMappedPlotStyle=function(){var t=this.config._computedStyle,e={};return e.stroke=t.fill,e["stroke-opacity"]=t["fill-opacity"]||1,e["stroke-width"]=2,e},e.prototype=Object.create(t.prototype),e.prototype.getMappedPlotStyle=function(){var t=this.config._computedStyle;return t},n.prototype=Object.create(t.prototype),n.prototype.getItemStyle=function(){var t=this.config._computedStyle;return{fill:t.fill,"fill-opacity":t["fill-opacity"]||1}},i.prototype=Object.create(n.prototype),i.prototype.minMaxGetter=function(t,e,n){var i,r,o,a=m.POSITIVE_INFINITY,s=m.NEGATIVE_INFINITY;for(e=e||0,n=isFinite(n)?n:t.length,r=e,o=n;o>r;r++)i=t[r],void 0!==i&&(a=y.min(a,i[0]),s=y.max(s,i[1]));return[a,s]},i.prototype.getOriginalMappedData=function(){return this.parsedData.map(function(t){return t&&t[1]})},r.prototype=Object.create(t.prototype),r.prototype.constructor=r,o.prototype=Object.create(r.prototype),o.prototype.minMaxGetter=i.prototype.minMaxGetter,o.prototype.getOriginalMappedData=i.prototype.getOriginalMappedData,r.prototype.minMaxGetter=function(t,e,n){var i,r,o,a=m.POSITIVE_INFINITY,s=m.NEGATIVE_INFINITY;for(e=e||0,n=isFinite(n)?n:t.length,r=e,o=n;o>r;r++)i=t[r],void 0!==i&&(a=y.min(a,i),s=y.max(s,i));return a>0&&(a=0),[a,s]},r.prototype.getItemStyle=function(){var t=this.config._computedStyle;return{fill:t.fill,"fill-opacity":t["fill-opacity"]}},a.prototype=Object.create(t.prototype),a.prototype.constructor=a,a.prototype.minMaxGetter=function(t,e,n){var i,r,o,a=m.POSITIVE_INFINITY,s=m.NEGATIVE_INFINITY;for(e=e||0,n=isFinite(n)?n:t.length,r=e,o=n;o>r;r++)i=t[r],void 0!==i&&(a=y.min(a,y.min.apply(y,i)),s=y.max(s,y.max.apply(y,i)));return[a,s]},a.prototype.parse=function(t,e){var n,i,r,o=this.data,a=this.parsedData;for(e=e||{},i=0,r=t;r>i;i++)i in e||(n=o[i],n instanceof Array?n.map(v):n=void 0,a.push(n));return this.calculateLimits(0,t),this},a.prototype.getMappedData=function(){return this.mappedAggregatedData},a.prototype.getOriginalMappedData=function(){return this.parsedData.map(function(t){return t&&v(t[3])})},a.prototype.getAggregatorFn=function(){return this.aggregatorFn},a.prototype.getItemStyle=function(){return{fill:"#7f7f7f"}},a.prototype.getMappedPlotStyle=function(){var t={};return t.stroke="#7f7f7f",t["stroke-width"]=2,t},a.prototype.addData=function(t){return this.parsedData.push(t),this},a.prototype.getTooltext=function(t,e){var n,i,r,o,a=this,s=a.getItemStyle(),u=s.fill,l="";return t&&(n=t[0],i=t[1],r=t[2],o=t[3],l+=C+u+_+"<b>"+S+a.name+"</b>"+M+b,l+=C+"#000000"+_+A+e+"<b>"+n+"</b>"+M+b,l+=C+"#000000"+_+N+e+"<b>"+i+"</b>"+M+b,l+=C+"#000000"+_+I+e+"<b>"+r+"</b>"+M+b,l+=C+"#000000"+_+k+e+"<b>"+o+"</b>"+M+b),l},a.prototype.parseStyles=function(){var t=this,e=t.config.plot,n=e.group.style,i=e.bull.style,r=e.bear.style,o=e.wick.style,a=function(e,n){for(var i in e)e[i]instanceof Function?n[i]=e[i](w,t.config.index,g):n[i]=e[i]};e.group.className=e.group.oriClassName+"-"+t.config.index,e.group.parsedStyle=g.extend2({},n),e.bull.parsedStyle=g.extend2({},i),e.bear.parsedStyle=g.extend2({},r),e.wick.parsedStyle=g.extend2({},o),a(n,e.group.parsedStyle),a(i,e.bull.parsedStyle),a(r,e.bear.parsedStyle),a(o,e.wick.parsedStyle)},s.prototype.addSeries=function(t){this.series.push(t)},s.prototype.calculateLimits=function(t,e){var n,i=this.series,r=0,o=-(1/0),a=+(1/0),s=i.length;for(r=0;s>r;r++)n=i[r],n.calculateLimits(t,e),o=Math.max(o,n.max),a=Math.min(a,n.min);this.max=o,this.min=a},s.prototype.getMin=function(){return this.min},s.prototype.getMax=function(){return this.max},u.prototype=Object.create(s.prototype),u.prototype.calculateLimits=function(t,e){var n,i,r,o,a=this.series,s=a.length,u=0,l=-(1/0),c=+(1/0),h=0;for(o=t||0;e>o;o++){for(u=h=0,r=0;s>r;r++)i=a[r].aggregatedData,n=i[o]||0,h+=0>n?n:0,u+=n>=0?n:0;l=Math.max(l,u),c=Math.min(c,h)}this.min=c,this.max=l},l.prototype.parseRaw=function(){var t,e,n,i,r,o,a=this.data,s=this.dateformat,u=this.parsedData,l=this.excludeIndex,c=m.POSITIVE_INFINITY,h=m.NEGATIVE_INFINITY,p=m.POSITIVE_INFINITY;for(s&&(n=this.df=new x(s)),r=0,o=a.length;o>r;r++)i=a[r],e=n?n.getNativeDate(i).getTime():i instanceof Date?i.getTime():i,isFinite(e)?(u.push(e),r&&(p=y.min(p,e-t)),c>e&&(c=e),e>h&&(h=e),t=e):l.push(r);return this.min=c,this.max=h,this.minimumConsecutiveDifference=p,this},l.prototype.calculateLimitOf=function(t){var e,n,i,r=m.POSITIVE_INFINITY,o=m.NEGATIVE_INFINITY;for(n=0,i=t.length;i>n;n++)e=t[n],r>e&&(r=e),e>o&&(o=e);return[r,o]},l.prototype.calculateOriginalDataLimit=function(){var t;return t=this.calculateLimitOf(this.parsedData),this.min=t[0],this.max=t[1],this},l.prototype.calculateAggregatedDataLimits=function(){var t;return t=this.calculateLimitOf(this.aggregatedData),this.min=t[0],this.max=t[1],this},l.prototype.setAggregatedData=function(t){return this.aggregatedData=t,this.calculateAggregatedDataLimits(),this},l.prototype.calculateMappedAggregatedDataLimits=function(){var t;return t=this.calculateLimitOf(this.mappedAggregatedData),this.min=t[0],this.max=t[1],this},l.prototype.setAggregatedMappedData=function(t){return this.mappedAggregatedData=t,this.calculateMappedAggregatedDataLimits(),this},l.prototype.getAggregatedMappedData=function(){return this.mappedAggregatedData},l.prototype.getAggregatedData=function(){return this.aggregatedData},l.prototype.getOriginalData=function(){return this.parsedData},l.prototype.setData=function(t){return this.parsedData=t,this.parseRaw()},l.prototype.addData=function(t){var e,n=this.df;return t&&isFinite(e=n.getNativeDate(t).getTime())?(this.max=e,this.parsedData.push(e),!0):!1},l.prototype.getMin=function(){return this.min},l.prototype.getRawSize=function(){return this.data.length},l.prototype.getSize=function(){return this.aggregatedData.length},l.prototype.getInvalidDatapointIndex=function(){return this.excludeIndex},l.prototype.getMax=function(){return this.max},l.prototype.getLimits=function(){return{min:this.getMin(),max:this.getMax()}},c.prototype.moveVisibilityPointers=function(t,e){return void 0!==t&&(this.visibilityPointer.start=y.max(t-1,0)),void 0!==e&&(this.visibilityPointer.end=y.min(e+1,this.category.getSize()-1)),this},c.prototype.getActiveSeries=function(){var t,e,n=[];for(t=0,e=this.series.length;e>t;t++)this.series[t].active&&n.push(this.series[t]);return n},c.prototype.getVisibilityPointers=function(){return{start:this.visibilityPointer.start,end:this.visibilityPointer.end}},c.prototype.getCategoryData=function(){return this.category.parsedData},c.prototype.getSeriesIdPlotMap=function(){var t,e,n,i=this.series,r={};for(e=0,n=i.length;n>e;e++)t=i[e],r[t.getId()]=[t,void 0];return r},c.prototype.addUnitData=function(t){var e,n,i,r,o=this.series;if(!this.category.addData(t.x))return this;for(i=t.y,e=0,n=o.length;n>e;e++)o[e].addData(i[e]);return(r=this.globalReactiveModel)&&r.prop(T,this),this},c.prototype.updatePlotInMap=function(t,e){var n=this.seriesIdPlotMap[t];return n?(n[1]=e,this):this},c.prototype.getPlotInstanceBySeriesId=function(t){var e=this.seriesIdPlotMap[t];return e?e[1]:this},c.prototype.calculateLimits=function(){this.calculateMin(),this.calculateMax()},c.prototype.calculateVisibleLimits=function(){var t,e,n=this,i=n.seriesGroups,r=this.visibilityPointer;for(e in i)t=i[e],t.calculateLimits(r.start,r.end+1);return this.calculateMin(),this.calculateMax(),this},c.prototype.calculateMappedLimits=function(){var t=this,e=t.series;return e.forEach(function(t){t.calculateMappedLimits()}),this.category.calculateMappedAggregatedDataLimits(),this.calculateMinFromSeries(),this.calculateMaxFromSeries(),this},c.prototype.calculateMin=function(){var t,e,n=[],i=this.seriesGroups;for(e in i)t=i[e],n.push(t.getMin());this.min.x=this.category.getMin(),this.min.y=y.min.apply(y,n)},c.prototype.calculateMax=function(){var t,e,n=[],i=this.seriesGroups;for(e in i)t=i[e],n.push(t.getMax());this.max.x=this.category.getMax(),this.max.y=y.max.apply(y,n)},c.prototype.calculateMinFromSeries=function(){for(var t=[],e=this.series,n=0,i=e.length;i>n;n++)t.push(e[n].getMin());this.min.x=this.category.getMin(),this.min.y=y.min.apply(y,t)},c.prototype.calculateMaxFromSeries=function(){for(var t=[],e=this.series,n=0,i=e.length;i>n;n++)t.push(e[n].getMax());this.max.x=this.category.getMax(),this.max.y=y.max.apply(y,t)},c.prototype.getMin=function(t){return t?this.min[t]:this.min},c.prototype.getMax=function(t){return t?this.max[t]:this.max},c.prototype.getLimits=function(t){return t&&t.call(this),{min:this.getMin(),max:this.getMax()}},c.prototype.getSeries=function(){return this.series},c.prototype.getSeriesById=function(t){var e,n,i,r=this.series;for(i=0,n=r.length;n>i;i++)if(e=r[i],e.getId()===t)return e},c.prototype.setReaciveModel=function(t){return this.globalReactiveModel=t,this},c.prototype.getSeriesByPlotType=function(t){var e,n=this,i=n.series,r=[];return i.forEach(function(n){e=n.getPlotType(),e===t&&r.push(n)}),r},c.prototype.getSeriesByName=function(t){var e,n,i,r=this.series;for(i=0,n=r.length;n>i;i++)if(e=r[i],e.name&&e.name.toUpperCase()===t.toUpperCase())return e},c.prototype.getOriginalCategoryData=function(){return this.category.parsedData},c.prototype.forEachSeries=function(){var t,e,n,i,r,o,a,s,u=this.series,l=!1;for(arguments.length>=3?(i=arguments[0],s=arguments[1],l=!!arguments[2]):"function"==typeof(o=arguments[0])?(s=o,l=!!arguments[1]):(i=o,s=arguments[1]),a=this.getCategoryData(),e=0,n=u.length;n>e;e++)t=u[e],r=l?t.getMappedData():t.getAggregatedData(),i?i===t.getPlotType()&&s.call(this,a,r,this.visibilityPointer,t):s.call(this,a,r,this.visibilityPointer,t)},c.prototype.getCategoryData=function(){return this.category.getAggregatedData()},c.prototype.getAllPlotTypes=function(){var t,e=this.series,n={};for(t=0;t<e.length;t++)n[e[t].getPlotType()]=1;return n},c.prototype.calculateStackedValues=function(t){var e,n,i,r,o,a,s,u,l,c,h,p=-(1/0),f=+(1/0);i=[],s=0,this.forEachSeries(t,function(t,g,d,m){if(m.active){for(g=m.aggregatedData,r=i[s]=[],a=i[s-1],e=d.start,n=d.end+1;n>e;e++)u=a&&a[e-(d.start||0)],h=g[e],o=u&&u.y||0,l=u&&u.prevPosY||0,c=u&&u.prevNegY||0,l+=o>=0?o:0,c+=0>o?o:0,r.push({y:h,prevPosY:l,prevNegY:c}),p=Math.max(p,h>=0?h+l:0),f=Math.min(f,0>h?h+c:0);m.stackedData=i[s],s++}})},c.prototype.setAggregatedCategory=function(t){
this.category.setAggregatedData(t)},c.prototype.setCategoryData=function(t){return this.category.setData(t)},c.prototype.setDataBySeries=function(t){var e,n,i,r=this.series,o=this.category;for(n=0,i=r.length;i>n;n++)e=r[n],t.apply(null,[e]),e.parse(o.getRawSize(),o.getInvalidDatapointIndex());return this},h.prototype.createDataset=function(t){function e(t){var e,n=["plottype","name","data"],i={};for(e in t)n.indexOf(e)>=0||(i[e]=t[e]);return i}var n,i,r,o,a,s,u,l,h,f,g,d,m=[],y=this.datasets,v=this.category,x=v.getRawSize(),w=v.getInvalidDatapointIndex();for(a=0,s=t.length;s>a;a++){for(o=t[a],m=o.series,i=[],n={},u=0,g=m.length;g>u;u++)r=m[u],r.dsIndex=a,r.index=u,l=r.plot.type,f=p.getInstanceFor(r.plot.type,[r.name,r.data,e(r)]),i.push(f),h=n[l],h||(h=n[l]=p.getGroupInstanceFor(l)),h.addSeries(f);for(d in n)n[d].calculateLimits(0,x);for(y.push(new c(o.id||a,v,i,n,{preDrawingHook:o.preDrawingHook})),u=0,g=i.length;g>u;u++)i[u].parse(x,w)}},h.prototype.getDatasets=function(){return this.datasets},FusionCharts.registerComponent("api","dataset",h)}]),FusionCharts.register("module",["private","modules.components.timeseries-canvas-impl",function(){function t(t){if(!t)return{x:void 0,y:void 0};var e=r.getBrowserDetails();return t?"firefox"===e.name.toLowerCase()?{x:t.layerX,y:t.layerY}:{x:t.offsetX,y:t.offsetY}:{x:void 0,y:void 0}}function e(t,e){var n,i,r=[];for(n=0,i=e.length;i>n;n++)r.push(t.getPlotInstanceBySeriesId(e[n].getId()));return r}function n(){h.apply(this,arguments),this.measurement={x:void 0,y:void 0,width:void 0,height:void 0},this.scroller=void 0,this.plotBands=void 0,this.refMarkers=[],this.svgElements={},this.elementRecycleInstance=new O,this.aggregationConfigHistory=void 0,this.timeZone=void 0,this.avgAggTime=0}var i=this,r=i.hcLib,o=i.window,a=o.document,s=o.Math,u=o.Number,l="createTouch"in a,c=r.getClosestIndexOf,h=FusionCharts.getComponent("interface","component"),p=FusionCharts.getComponent("api","canvas"),f=FusionCharts.getComponent("api","cross-line"),g=FusionCharts.getComponent("api","reference-plots"),d="x-axis-visible-range-start",m="x-axis-visible-range-end",y="x-axis-absolute-range-start",v="x-axis-absolute-range-end",x="y-axis-visible-range-start",w="y-axis-visible-range-end",b="x-axis-maximum-allowed-ticks",C="timeline-interaction-start",_="timeline-interaction-ongoing",M="timeline-interaction-end",S="bin-size",A="max-plot-point",k="aggregation-fn",N="bin-size-ext",I="max-plot-point-ext",T="aggregation-fn-ext",P="hover-x",L="hover-y",D="hover-evt",F="visible-series",E="hidden-series",R="focused-series",O=FusionCharts.getComponent("api","ElementRecycle"),j=FusionCharts.getComponent("api","dataaggregator");n.prototype=Object.create(h.prototype),n.prototype.constructor=n,n.prototype.init=function(t){var e,n=this;t(["xAxis","yAxis","graphics","chart","dataset","PlotManager","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","dataInstance","LegendImpl","CaptionImpl","parentGroup","smartLabel","chartInstance","numberFormatter","customExtremes",function(t,i,r,o,a,s,u,l,c,h,p,f,g,d,m,y,v,x,w){n.xAxis=t,n.yAxis=i,n.graphics=r,n.chart=o,n.dataset=a,n.plotManager=s,n.markerManager=l,n.canvasConfig=u,n.reactiveModel=c,n.globalReactiveModel=h,n.dataInstance=f,n.spaceManagerInstance=p,n.legend=g,n.caption=d,n.parentGroup=m,n.smartLabel=y,n.chartInstance=v,n.numberFormatter=x,n.customExtremes=w,e=r.paper}]),this.getDefaultGroup(),n.globalReactiveModel.linkExternalModel(n.reactiveModel),n.postInitHook&&n.postInitHook(),n.canvas=new p(n.canvasConfig,{paper:n.graphics.paper,plot:{}}).attachAxes(n.xAxis,n.yAxis),n.dataAggregator=this.getDataAggregator(),this.timeZone=this.getTimeZone()},n.prototype.getDefaultGroup=function(){var t=this.svgElements;return t.outerGroup=t.outerGroup||this.parentGroup.append("g").attr("class","fusioncharts-canvas")},n.prototype.updateAggreagtionHistory=function(t){return this.aggregationConfigHistory=t,this},n.prototype.clearAggreagtionHistory=function(){return this.aggregationConfigHistory=void 0,this},n.prototype.setReactivity=function(){var t=this.dataset;return this.globalReactiveModel.prop(P,void 0).prop(L,void 0).prop(D,void 0),t.calculateVisibleLimits(),this.updateYAxisLimitFromData(),this.reactiveModel.prop(F,t.getActiveSeries()).prop(E,[]).prop(R,void 0).prop(S,void 0).prop(A,void 0).prop(k,void 0).prop(N,void 0).prop(I,void 0).prop(T,void 0),this},n.prototype.createSVGGroups=function(t){var e,n,i=this.graphics.paper,r=this.svgElements,o=this.canvas,a=this.canvasConfig,s=a.divlines;return e=r.groups||(r.groups={parent:t}),t=t||e.parent,e.xAxis=e.xAxis||(e.xAxis=o.clipToDimension(r.outerGroup.append("g").attr("class","fusioncharts-x-axis-root"),"x",{x:20})),e.yAxis=e.yAxis||(e.yAxis=r.outerGroup.append("g").attr("class","fusioncharts-y-axis-root")),e.hBands||(n=i.getQualifiedClassName(s.className),i.cssAddRule("."+n[1],s.style),e.hBands=t.append("g").classed(n.join(" "),!0)),e.plot=e.plot||(e.plot=t.append("g")),e.crossline=e.crossline||(e.crossline=t.append("g")),e.markers=e.markers||(e.markers=t.append("g")),e.msgPane=e.msgPane||(e.msgPane=t.append("g").attr("class","fusioncharts-message-pane")),e.tracker=e.tracker||(e.tracker=r.outerGroup.append("g").attr("class","fusioncharts-tracker")),e},n.prototype.getAggregationFactor=function(){var t=this.globalReactiveModel;return(t.prop(v)-t.prop(y))/(t.prop(m)-t.prop(d))},n.prototype.updateInteractionStatus=function(t){var e=this.globalReactiveModel;switch(t.toLowerCase()){case"start":e.prop(C,{}).prop(M,null);break;case"ongoing":e.prop(_,{});break;case"end":e.prop(C,null).prop(_,null).prop(M,{})}return this},n.prototype.resetCanvasZoomTransformation=function(){var t,e=this,n=this.graphics.paper.getInstances().d3,i=e.xAxis.getScaleObj(),r=n.select("#"+e.chartInstance.id+" .fusioncharts-tracker rect"),o=e.globalReactiveModel.model,a=o["x-axis-absolute-range-start"],s=o["x-axis-absolute-range-end"],u=o["x-axis-visible-range-start"],l=o["x-axis-visible-range-end"];t=(s-a)/(l-u),r.node().__zoom=n.zoomIdentity.scale(t).translate(-(i.getPvr()*(u-a))/t,0)},n.prototype.resetCanvasZoom=function(){var t=this.globalReactiveModel.model,e=t["x-axis-absolute-range-start"],n=t["x-axis-absolute-range-end"],i=t["minimum-consecutive-datestamp-diff"],r=t["x-axis-maximum-allowed-ticks"];this.d3xAxisZoom&&this.d3xAxisZoom.scaleExtent([1,Math.abs(n-e)/(i*r*.5)])},n.prototype.manageCanvasZoom=function(e,n){var i,r,o,a=this,s=a.graphics.paper.getInstances().d3,u=a.updateInteractionStatus.bind(a),c=s.select("#"+a.chartInstance.id+" .fusioncharts-tracker rect"),h=a.globalReactiveModel.model,p=h["x-axis-absolute-range-start"],f=h["x-axis-absolute-range-end"],g=h["minimum-consecutive-datestamp-diff"],d=h["x-axis-maximum-allowed-ticks"],m=a.plotManager.getAxisOffset(),y=25;return i=function(){var n,i,l,c,h=a.globalReactiveModel.model,p=h["x-axis-absolute-range-start"],f=h["x-axis-absolute-range-end"],g=s.event.transform;n=t(s.event.sourceEvent),n.x&&n.y&&(a.crossLine.currentMousePos=n),a.crossLine.hide(),a.crossLine.tooltip.hide(),l=(f-p)/((e-2*m)*g.k),i=p-g.x*l,c=i+(e-2*m)*l,c>f&&(c=f,i=c-(e-2*m)*l),r={start:i,end:c},o||(o=setTimeout(function(){a.globalReactiveModel.lock().prop("x-axis-visible-range-start",r.start).prop("x-axis-visible-range-end",r.end).unlock(),o=void 0},y)),u("ongoing")},a.d3xAxisZoom=s.zoom().scaleExtent([1,Math.abs(f-p)/(g*d*.5)]).translateExtent([[m,0],[e-m,n]]).extent([[m,0],[e-m,n]]).on("start",function(){u("start")}).on("zoom",i).on("end",function(){var t=a.crossLine.currentMousePos||{};!l&&t.x&&t.y&&(a.crossLine.hidden!==!1&&(a.globalReactiveModel.lock().prop(P,t.x).prop(L,t.y).unlock(),"mouseout"!==a.crossLine.evtFired&&a.crossLine.tooltip.show([t.x,t.y])),setTimeout(function(){u("end")},500))}),c.call(a.d3xAxisZoom),a},n.prototype.drawTracker=function(t,e,n,i){var r=this.svgElements,o=this.createSVGGroups().tracker,a=this.graphics.paper;return r.tracker||(r.tracker=o.append("rect")),a.setAttrs(r.tracker,{x:0,y:0,width:n,height:i,transform:"translate("+t+","+e+")"}),a.setStyles(r.tracker,{fill:"#FFFFFF","fill-opacity":0,"stroke-width":0}),r.tracker},n.prototype.getDataAggregator=function(){var t,e,n=this.canvasConfig;return(t=this.dataAggregator)||(n.aggregation=n.aggregation&&"function"==typeof n.aggregation&&n.aggregation||function(){},t=this.dataAggregator=new j({}),e=n.aggregation.apply(t,[])||{},t.setData({aggregatorFn:e.method})),t},n.prototype.updateAggregationModel=function(t){return this.reactiveModel.keepSilence().prop(N,t.binSize).prop(I,t.maxPlotPoints).prop(T,t.fn).resetSilence().lock().prop(S,t.binSize).prop(A,t.maxPlotPoints).prop(k,t.fn).unlock(),this},n.prototype.createAggregatedDataset=function(t,e){function n(t,e,n,i){w.push({data:i.getOriginalData(),aggregatorFn:i.getAggregatorFn&&i.getAggregatorFn(),seriesId:i.getId()})}var i,r,o,a,u,l,c,h,p,f,g,d,m,y,v=this.dataAggregator,x=this.dataset,w=[];for(i=t||{},"function"==typeof e&&(e=e.call(this)),u=this.getAggregationFactor(),h=this.plotManager.getMaxPlotPoints(),h=s.min(h,i.maxPlotPoints||Number.POSITIVE_INFINITY),x.forEachSeries(n),v.setData({data:w,category:x.getOriginalCategoryData(),aggregatorFn:i.fn||null,maxPlotPoints:Math.floor(h*u)}),d=i.binSize&&!e?{span:t.binSize}:i.binSize=void 0,a=v.getAggregatedData(d),r=a.data,l=this._aggregationRules=a.rules,x.setAggregatedCategory(a.category),m=0,y=r.length;y>m;m++)o=r[m].data,c=r[m].seriesId,p=x.getSeriesById(c),p.setAggregatedData(o);return this.updateAggregationModel({maxPlotPoints:h,binSize:g=l&&l.span,fn:f=v.aggregatorFn}),{maxPlotPoints:h,binSize:g,fn:f}},n.prototype.resetAggregation=function(){this.reactiveModel.keepSilence().prop(S,void 0).prop(A,void 0).prop(k,void 0).prop(N,void 0).prop(I,void 0).prop(T,void 0).resetSilence(),this.clearAggreagtionHistory(),this.createAggregatedDataset(),this.adjustVisibleLimits().updateYAxisLimitFromData()},n.prototype.update=function(){return this.createAggregatedDataset(this.aggregationConfigHistory),this.adjustVisibleLimits().updateYAxisLimitFromData(),this},n.prototype.adjustVisibleLimits=function(t,e){var n,i,r,o=this.dataset,a=this.globalReactiveModel;return t=void 0===t?a.prop(d):t,e=void 0===e?a.prop(m):e,r=o.getCategoryData(),n=c(r,t,"right"),i=c(r,e,"left"),o.moveVisibilityPointers(n,i),this},n.prototype.updateYAxisLimit=function(t,e){var n=this.reactiveModel;return n.lock(),void 0!==t&&n.prop(x,t),void 0!==e&&n.prop(w,e),n.unlock(),this},n.prototype.updateYAxisLimitFromData=function(){var t=this.dataset;return t.calculateVisibleLimits(),this.updateYAxisLimit(t.getMin("y"),t.getMax("y"))},n.prototype.configureXAxis=function(t,e,n){var i,r,o=this.globalReactiveModel,a=this.xAxis,s=a.getScaleObj();return a.setRange(o.prop(m),o.prop(d)),a.setAxisLength(n),r=this.plotManager.getAxisOffset(),r>0&&a.setAxisLength(n-2*r),this.setXAxisPos&&this.setXAxisPos.apply(this,arguments),i=s.getConfig("posY"),a.setAxisPosition(t+r,i),this},n.prototype.drawXAxis=function(){var t,e=this.xAxis,n=e.getScaleObj();return n.getIntervalObj().setConfig("showSingleTick",e.config.userConfig.value.singleTick),t=n.getConfig("scaleGroup"),this.createSVGGroups().xAxis.node().appendChild(t.node()),this.canvasConfig.showAxes.x&&e.draw(),this},n.prototype.configureYAxis=function(t,e,n,i){var r=this.reactiveModel,o=this.yAxis;return o.setRange(r.prop(w),r.prop(x)),o.setAxisLength(i),this.setYAxisPos&&this.setYAxisPos.apply(this,arguments),this},n.prototype.drawYAxis=function(){var t;return t=this.yAxis.getScaleObj().getConfig("scaleGroup"),this.createSVGGroups().yAxis.node().appendChild(t.node()),this.canvasConfig.showAxes.y&&this.yAxis.draw(),this},n.prototype.initInteractivity=function(t){var n,i,r,o,a,u,l=this,c=this.xAxis,h=this.yAxis,p=this.markerManager,f=this.plotManager,g=this.dataset,y=this.canvasConfig,C=y.showAxes.x,_=y.showAxes.y,M=this.globalReactiveModel,S=!1;return a=function(t,e){var a=t[0],u=t[1],h=e[0],d=e[1],m=s.round(u-a),y=s.round(d-h);f.unfadeAll({enabled:!1}),h===d&&a===u&&S||(c.setRange(d,u),C&&c.draw(),p.plot(),(!S||s.abs(m-y)>2)&&l.createAggregatedDataset(l.aggregationConfigHistory,function(){var t=this.aggregationConfigHistory;return t?!1:!1}),S=!0,l.adjustVisibleLimits(u,d),l.updateYAxisLimitFromData(),l.resetCanvasZoomTransformation(),r=g.getMin("y"),o=g.getMax("y"),n=r,i=o)},a.deferTill=function(t,e){if(!t||!e)return 0;var n=t[0],i=t[1],r=e[0],o=e[1],a=s.round(i-n),u=s.round(o-r);return s.abs(a-u)>2?(S=!1,f.fadeAllExcept([],{enabled:!1}),1.5*l.avgAggTime):0},a.fallbackExecutor=function(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];(r!==o||n!==i)&&(c.setRange(o,i),C&&c.draw(),l.adjustVisibleLimits(i,o),l.updateYAxisLimitFromData(),l.resetCanvasZoomTransformation())},M.prop(b,u=c.getScaleObj().getIntervalObj().getNoOfTicks()),M.prop("min-plot-point",Math.floor(.5*u)),M.onPropsChange([d,m],a,void 0,l.avgAggTime>10?!0:(S=!0,!1)).onPropChange(v,function(){l.resetCanvasZoom()}),this.reactiveModel.onPropsChange([x,w],function(e,n){h.setRange(n[1],e[1]),_&&h.draw(),l.drawHorizontalPlotBands(l.createSVGGroups().hBands),f.plot(t.plot)}).onPropsChange([N,I,T],function(t,e,n){var i={},r=l.aggregationConfigHistory;i.binSize=t[1]||r.binSize,i.maxPlotPoints=e[1]||r.maxPlotPoints,i.fn=n[1]||r.fn,l.updateAggreagtionHistory(l.createAggregatedDataset(i)),l.adjustVisibleLimits(),l.updateYAxisLimitFromData()}).onPropsChange([F,E],function(t,n){f.manageVisibility(e(g,t[1]),e(g,n[1]))}).onPropChange(R,function(t,n){n?f.fadeAllExcept(e(g,n)):f.unfadeAll()}),this},n.prototype.drawMarkers=function(t){return this.markerManager.plot(this.canvas,t),this},n.prototype.drawPlots=function(t){return this.plotManager.plot(t),this},n.prototype.drawScrollBar=function(t,e,n,i,r){function o(e,i,r){r+=t;var o,a,s=i.attr("handle"),u=s.width,l=r-u/2,c=r+u/2,h=i.attr("bar").margin,p=i.attr("buttons").width,f=t+p+h.left,g=t+n-h.right-p;f>=l&&(l=f,c=l+u),c>=g&&(c=g,l=c-u),w.startX===l&&w.endX===c||!isFinite(l+c)||(o=x.getValue(l),a=x.getValue(c),l-w.startX<0?v.lock().prop(d,o).prop(m,a).unlock():v.lock().prop(m,a).prop(d,o).unlock(),w.startX=l,w.endX=c)}var a,s,l,c,h,p,f,g=this,y=g.graphics,v=g.globalReactiveModel,x=g.xAxis,w={startX:u.NEGATIVE_INFINITY,endX:u.POSITIVE_INFINITY},b=g.canvasConfig.scroller,C=y.paper,_=b.group;s=C.getQualifiedClassName(_.className),h=r.selectAll("g").data([1]).enter().append("g").classed(s.join(" "),!0),C.cssAddRule("."+s[1],_.style),(p=g.scroller)||(p=g.scroller=C.getInstances().d3.scroller(h).on("slide",o)),p.attr("width",n).attr("height",i).attr("bar",{margin:b.track.margin}).attr("transform","translate("+t+","+e+")").draw();for(l in b)c=b[l],a=c.className,(f=h.selectAll("."+l)).empty()||(s=C.getQualifiedClassName(a),f.classed(s.join(" "),!0),C.cssAddRule("."+s[1],c.style));return this},n.prototype.drawHorizontalPlotBands=function(t){var e=this.svgElements,n=this.canvasConfig.divlines;return n.hide?this:(e.plotBands=this.canvas.drawHorizontalSpans({data:this.yAxis.getScaleObj().getIntervalObj().getConfig("intervals").major.intervalPoints,group:t,config:n,elementRecycleInstance:this.elementRecycleInstance}),this)},n.prototype.drawReferenceMarkers=function(){var t,e,n,i,r,o=this.canvasConfig,a=o.referenceMarkers,s=this.svgElements,u=this.graphics.paper,l=s.hRefPlots||(s.hRefPlots={}),c=this.canvas,h=c.getSVGGroup(),p=this.refMarkers;if(t=!(!a||!a.length),!t)return this;for(e=l.group=u.group("canvas-h-plot-band",h).toFront(),i=0,r=a.length;r>i;i++)n=a[i],p.push(new g(g.PLOT_TYPE[(n.type||"").toUpperCase()],{style:n.style},{paper:u}).draw([n.start,n.end],this.canvas,e));return this},n.prototype.drawLegend=function(){return this.legend.draw(),this},n.prototype.isTimeZone=function(){return!1},n.prototype.manageSpace=function(){return this.caption.manageSpace(),this.legend.manageSpace(),this},n.prototype.drawCaption=function(){return this.caption.draw(),this},n.prototype.getPlotBands=function(){return this.plotBands},n.prototype.getReferenceMarkers=function(){return this.referenceMarkers},n.prototype.attachEvents=function(){function e(t,e,n){r.lock().prop(P,t).prop(L,e).prop(D,n).unlock()}var n,i,r=this.globalReactiveModel,o=this.svgElements.tracker,a=this.graphics.paper.getInstances().d3,s=a.select("#"+this.chartInstance.id),u=300,c=this;return l?(o.on("touchstart.default1",function(){return c.crossLine.tooltip.hide(),e(void 0,void 0,a.event),a.event.touches.length>1?!0:(i=+new Date,void(n=void 0))}.bind(c)),o.on("touchmove.default1",function(){var t,r,o;return void 0===n&&(n=+new Date-i>u),a.event.touches.length>1||!n?(c.crossLine.tooltip.hide(),e(void 0,void 0,a.event),!0):(t=s.node().getBoundingClientRect(),r=a.event.touches[0].clientX-t.left,o=a.event.touches[0].clientY-t.top,a.event.preventDefault(),a.event.stopImmediatePropagation(),e(r,o,a.event),void c.crossLine.tooltip.show())}.bind(c)),o.on("touchend.default1",function(){c.crossLine.tooltip.hide(),e(void 0,void 0,a.event)})):(o.on("mouseover.default",function(){var n=t(a.event);e(n.x,n.y,a.event)}.bind(c)),o.on("mousemove.default",function(){var n=t(a.event);e(n.x,n.y,a.event)}.bind(c)),o.on("mouseout.default",function(){e(void 0,void 0,a.event)})),this},n.prototype.initCrossLine=function(t,e){return this.crossLine=this.crossLine||new f(t,{crossline:this.dataInstance.crossline[0],tooltip:this.dataInstance.tooltip[0]},{xAxis:this.xAxis,yAxis:this.yAxis,graphics:this.graphics,dataset:this.dataset,plotManager:this.plotManager,group:e,globalReactiveModel:this.globalReactiveModel,reactiveModel:this.reactiveModel,canvas:this,dataAggregator:this.dataAggregator,smartlabel:this.smartLabel,numberFormatter:this.numberFormatter}),this.crossLine.initTooltip(),this},n.prototype.setDrawingConfiguration=function(t,e,n,i,r){var o=this.measurement;return o.x=t,o.y=e,o.width=n,o.height=i,o.group=r,this},n.prototype.getTimeZone=function(){var t,e,n,i,r=this.canvasConfig.standardTimeZone,o=this.graphics.paper,a=this.timeZone;return!a&&this.isTimeZone()&&(t=this.createSVGGroups(this.parentGroup).timeZoneGroup.classed(n=r.group.className,!0),(i=r.group.style)&&o.cssAddRule("."+n,i),a=o.getInstances().d3.fusiontext()),a&&(a.getParentSelection(t),e=r.label,a.label(e.text,e,function(){o.cssAddRule("."+e.className,e.style)})),a},n.prototype.getMargin=function(){return this.canvas.config.margin},n.prototype.canvasHook=function(){var t=this.getParentComponentGroup();this.config.x=t.config.x,this.config.y=t.config.y,this.config.width=t.config.width,this.config.height=t.config.height},n.prototype.getDefaultDependency=function(){return{x:function(){return 1*this.get("x","canvasLeft")},width:function(){return 1*this.get("width","canvasWidth")}}},n.prototype.drawTimeZone=function(){var t,e=this.timeZone;return e&&(t=e.measurement,e.draw().transform("rotate(-90,"+t.x+","+t.y+") translate("+-t.height+","+t.width/2+")")),this},n.prototype.draw=function(t,e,n,i){var r,o,a,s=this.canvas,u=this.measurement;t=void 0===t?u.x:t,e=void 0===e?u.y:e,n=void 0===n?u.width:n,i=void 0===i?u.height:i,s.draw(t,e,n,i,a=u.group),o=this.createSVGGroups(s.clipToDimension(s.getSVGGroup(a))),this.configureXAxis(t,e,n,i),r=(new Date).getTime(),!this.postDrawing&&this.createAggregatedDataset(),this.avgAggTime=(new Date).getTime()-r,this.drawTracker(t,e,n,i),this.plotManager.assignCanvas(s),this.drawTimeZone().adjustVisibleLimits().drawXAxis().updateYAxisLimitFromData().configureYAxis(t-30,e,n,i).drawYAxis().drawCaption().drawMarkers(o.markers).drawPlots(o.plot).drawLegend().drawHorizontalPlotBands(o.hBands).drawReferenceMarkers().initCrossLine({x1:t,y1:e,x2:t+n,y2:e+i},o.crossline),!this.postDrawing&&this.initInteractivity(o),this.attachEvents(t,e,n,i).manageCanvasZoom(n,i),this.postDrawing=!0},FusionCharts.registerComponent("main","canvas",n)}]),FusionCharts.register("module",["private","modules.components.timeseries-resolvers",function(){function t(){r.apply(this,arguments),this.target=[],t.allResolvers.push(this)}function e(){t.apply(this,arguments)}function n(){t.apply(this,arguments)}function i(){t.apply(this,arguments)}var r=FusionCharts.getComponent("interface","resolver"),o=FusionCharts.getComponent("main"),a=FusionCharts.getComponent("api","canvas-group"),s=FusionCharts.getComponent("api","dataset"),u=Object.create;t.prototype=u(r.prototype),t.prototype.constructor=t,t.allResolvers=[],t.resolveAll=function(e){function n(t){t.resolve(e)}var i=t.allResolvers;i.forEach(n),t.allResolvers.length=0},t.prototype.resolveTo=function(t){return this.target.push(t),this},t.prototype.resolve=function(t){var e,n,i,r,o=this.getInstance(t),a=this.target;for(i=0,r=a.length;r>i;i++)e=a[i][0],n=a[i][1],e[n]=o},e.prototype=u(t.prototype),e.prototype.constructor=e,e.prototype.getInstance=function(){return new s(this.definitions).getDatasets()},e.prototype.resolve=function(t){var e,n,i,r,o=this.getInstance(t),a=this.target,s={};for(i=0,r=o.length;r>i;i++)s[o[i].id]=o;for(i=0,r=a.length;r>i;i++)e=a[i][0],n=a[i][1],"number"==typeof n?e[n]=o[n]:e[n]=s[n]},n.prototype=u(t.prototype),n.prototype.constructor=n,n.prototype.getInstance=function(t){var e,n=this.definitions,i=this.args;return"function"==typeof n?n(t):(e=new o.axis(n),"y"===i.type?(e.getScaleObj().setConfig("vertical",!0),e.getScaleObj().setConfig("groupClassName","fusioncharts-y-axis-"+i.index)):(e.setConfig("scale","timescale"),e.getScaleObj().setConfig("interval","timeintervals"),e.getScaleObj().setConfig("groupClassName","fusioncharts-x-axis-"+i.index)),e)},i.prototype=u(t.prototype),i.prototype.constructor=i,i.prototype.getInstance=function(t){var e,n,i=this.definitions,r=["dataset","axes"],o={};for(e in i)n=i[e],"function"==typeof n&&r.indexOf(e)>=0?(o[e]=n(t),delete i[e]):o[e]=n;return o.impl=new this.args.impl(this.definitions),new a(o)},FusionCharts.registerComponent("resolvers","generic-resolver",t),FusionCharts.registerComponent("resolvers","axis-resolver",n),FusionCharts.registerComponent("resolvers","canvasgroup-resolver",i),FusionCharts.registerComponent("resolvers","dataset-resolver",e)}]),FusionCharts.register("module",["private","modules.components.timeseries-active-window-api",function(){function t(){var t;i.apply(this,arguments),t=this.dependencies,n=t.paper.getInstances().d3,t.globalReactiveModel=arguments[1].globalReactiveModel,t.xAxis=arguments[1].axes.x,this.evtMap={}}var e,n,i=FusionCharts.getComponent("api","canvas"),r=this,o=r.window,a=o.Math,s=r.hcLib.hasTouch,u=a.min;t.prototype=Object.create(i.prototype),t.prototype.constructor=t,t.prototype.utils=function(){return{cache:function(t,e,n){return t.each(function(t,i){var r=e?e[i]:t.config,o=r.className,a=n.renderer;t&&(t.key=n.key,t.pRef=n.ref),o=a.getQualifiedClassName(o),r.style&&a.cssAddRule("."+o[1],r.style),a.getInstances().d3.select(this).classed(o.join(" "),!0)})}}}(),t.prototype.createSelectionBox=function(t,i,r,a,s){var l,c,h,p,f,g,d,m,y,v,x,w,b,C,_,M=this,S=this.graphics,A=S[t],k=this.config.activeWindow,N=k.buttons,I=N.left,T=N.right,P=this.dependencies.paper,L={renderer:P,key:t,ref:this},D=this.utils.cache,F=M.evtMap,E=F.onmouseover,R=F.onmouseout;if(c=M.buttonWidth=u(12,a/45),A=S[t]=this.group,p=A.call(D,[k.group],L).selectAll("g").data([{config:k.selectionGroup}]),p=p.enter().append("g").merge(p).call(D,e,L),l=p.selectAll(".trackers, .track").data([{ref:"track",config:k.track},{ref:"trackers",config:k.trackers},{ref:"trackers",config:k.trackers}]),l=l.enter().append("rect").attr("class",function(t){return t.ref}).merge(l).call(D,e,L),h=p.selectAll("g").data([{ref:I,config:I.group},{ref:T,config:T.group}]).enter().insert("g","rect.trackers").call(D,e,L).call(function(t){t.each(function(t){var e,i=n.select(this),r=t.ref,o=r.rect,a=r.arrow,s=L.renderer;e=s.getQualifiedClassName(o.className),s.cssAddRule("."+e[1],o.style),i.append("rect").classed(e.join(" "),!0),e=s.getQualifiedClassName(a.className),s.cssAddRule("."+e[1],a.style),i.append("path").classed(e.join(" "),!0)}),M.setHandles(t,c,u(20,.4*s))}),p.on("mouseover.default",function(){E&&E()}).on("mouseout.default",function(){R&&R()}),f=p.select(".track"),"none"!==o.getComputedStyle(f.node()).backgroundImage){for(g=k.track.style.background,d=g.replace(/\s+/g,""),m=d.substring("linear-gradient".length),y=m.match(/^\((.*)\)$/)[1],v=y.match(/([^,]+)(.*)/)[2],x=v.match(/\(([\d.]+\,*)+\)(([\d.])+%)*/g),C=p.append("defs").append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%").attr("spreadMethod","pad"),w=0,b=x.length;b>w;w+=1)_=x[w].split(/(\d+)%$/),C.append("stop").attr("offset",_[1]+"%").attr("stop-color","rgba"+_[0]);f.style("fill","url(#gradient)")}!M.eventsAdded&&p.call(M.bindDragEvent,M)},t.prototype.bindDragEvent=function(t,e){function i(){var t=e.dependencies,i=t.globalReactiveModel.model,o=i["x-axis-visible-range-start"],u=i["x-axis-visible-range-end"],c=t.xAxis;r=n.event.x,l&&l(),a=c.getPixel(o)-e.x,s=c.getPixel(u)-c.getPixel(o)}e.eventsAdded=!0;var r,o,a=0,s=e.width,u=e.evtMap,l=u.ondragstart,c=u.ondragend,h=u.ondrag;t.select(".track").each(function(){n.select(this).call(n.drag().on("start",i).on("drag",function(){var t;if(s<=e.width){if(o=n.event.x-r,e.x+a+o+s>e.x+e.width)return t=e.x+e.width-s,void(e.fn&&e.fn.call(null,t,t-e.x,s));e.x+a+o<e.x&&(o=-a),e.fn&&e.fn.call(null,e.x+a+o,a+o,s),h&&h()}}).on("end",function(){a+=o,r=o=0,c&&c()}))}),t.selectAll(".trackers").each(function(t,u){n.select(this).call(n.drag().on("start",i).on("drag",function(){o=n.event.x-r,s<=e.width&&(u?(e.x+a+o<e.x&&(o=-a),e.fn&&e.fn.call(null,e.x+a+o,a+o,s-o)):(e.x+a+o+s>e.x+e.width&&(o=e.width-a-s),e.fn&&e.fn.call(null,e.x+a,a,s+o))),h&&h()}).on("end",function(){r=0,u?(a+=o,s-=o):s+=o,o=0,c&&c()}))})},t.prototype.draw=function(t,e,n,i,r){var o="lead";this.x=t,this.y=e,this.width=n,this.height=i,this.group=r,this.createSelectionBox(o,t,e,n,i)},t.prototype.on=function(t,e){return this.evtMap[t.toLowerCase()]=e&&"function"==typeof e&&e,this},t.prototype.updateSelectionBox=function(t,i,r){var o,a,l,c=this,h=this.graphics,p=h[t],f=this.config.activeWindow,g=f.buttons,d=g.left,m=g.right,y=this.dependencies.paper,v={renderer:y,key:t,ref:this},x=this.utils.cache,w=this.dependencies.paper,b=c.buttonWidth,C=i,_=c.y,M=r-i,S=c.height,A=[{x:C,width:M},{x:C+M-b*(s?1:.5),width:b*(s?2:1)},{x:C-b*(s?1:.5),width:b*(s?2:1)}];p=h[t]=this.group,o=p.selectAll("g"),a=o.selectAll(".trackers, .track").each(function(t,e){var n=t.attrs={y:_,height:S},i=A[e];n.x=i.x,n.width=i.width}),a=a.each(function(t){w.setAttrs(n.select(this),t.attrs)}),l=o.selectAll("g").data([{ref:d,config:d.group},{ref:m,config:m.group}]).call(x,e,v).call(function(t){c.setHandles(t,b,u(20,.4*S)),t.call(c.updateHandles,C,_,M,S)})},t.prototype.pathGenerator=function(t,e,n){var i=t*(1===n?0:1),r=i+n*(72/249*t),o=172/355*e,a=i+n*(144/249*t),s=function(t,e,n){return t+e+","+n};return s("M",r,o)+s("L",a,118/355*e)+s("M",r,o)+s("L",a,230/355*e)},t.prototype.setHandles=function(t,e,i){var r=this;t.each(function(t,o){var a=n.select(this),s=t.ref.rect.style.r;t.buttonWidth=e,a.select("path").attr("d",r.pathGenerator(e,i,o?-1:1)),a.select("rect").attr("width",e).attr("height",i).attr("rx",s).attr("ry",s)})},t.prototype.updateHandles=function(t,e,n,i,r){return t.attr("transform",function(t,o){return"translate("+(e+o*i-t.buttonWidth/2)+","+(n+.3*r)+")"})},t.prototype.registerListener=function(t){this.fn=t},FusionCharts.registerComponent("api","active-window",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-navigator-impl",function(){function t(t){var e,n,i,r=[],a=[];for(n=0,i=t.length;i>n;n++)e=t[n],e.calculateMappedLimits(),r.push(e.getMin("y")),a.push(e.getMax("y"));return{min:s.apply(o,r),max:u.apply(o,a)}}function e(){c.apply(this,arguments),this.activeWindows=[],this.svgElems={},this.datamodelUpdateFn=void 0}var n=this,i=n.window,r=n.hcLib,o=i.Math,a=i.Number,s=o.min,u=o.max,l=o.floor,c=FusionCharts.getComponent("main","canvas"),h=FusionCharts.getComponent("api","active-window"),p="x-axis-visible-range-start",f="x-axis-visible-range-end",g="x-axis-visible-time-window",d="x-axis-absolute-range-start",m="x-axis-absolute-range-end",y="y-axis-visible-range-start",v="y-axis-visible-range-end",x="x-axis-maximum-allowed-ticks",w="timeline-interaction-start",b="timeline-interaction-ongoing",C="timeline-interaction-end",_="minimum-consecutive-datestamp-diff",M="last-updated-dataset";e.prototype=Object.create(c.prototype),e.prototype.constructor=e,e.prototype.getDefaultGroup=function(){var t=this.svgElements;return t.outerGroup=t.outerGroup||this.parentGroup.append("g").attr("class","fusioncharts-timeline-navigator")},e.prototype.postInitHook=function(){var t,e=this.dataset,n=[];for(t in e)n.push(e[t]);e=this.dataset=n},e.prototype.setReactivity=function(){var t,e,n=this.globalReactiveModel,i=(this.reactiveModel,this.dataset),r=i[0],o=r.category,s=this.canvasConfig;n.prop(w,null).prop(C,null).prop(b,null),o.calculateOriginalDataLimit(),t=o.getMin(),e=o.getMax(),i.forEach(function(t){t.setReaciveModel(n)}),s.startDate&&(this.customExtremes.startDate=s.startDate),s.endDate&&(this.customExtremes.endDate=s.endDate),n.lock().prop(p,s.startDate||t).prop(f,s.endDate||e).prop(g,e-t).prop(d,t).prop(m,e).prop(x,a.POSITIVE_INFINITY).prop(M,void 0).prop(_,o.minimumConsecutiveDifference).unlock(),n.registerFilter(x,function(t,e){return e>t?!1:!0}),n.registerFilter(_,function(){return!1}),n.registerFilter(p,function(t,e){return n.prop(f)-e<n.prop(x)*o.minimumConsecutiveDifference*.5||e<n.prop(d)?!1:!0}),n.registerFilter(f,function(t,e){return t>e&&e-n.prop(p)<n.prop(x)*o.minimumConsecutiveDifference*.5||e>n.prop(m)?!1:!0})},e.prototype.updateYAxisLimit=function(){var e,n=this.dataset,i=this.reactiveModel;return e=t(n),i.lock(),i.prop(y,e.min).prop(v,e.max),i.unlock(),this},e.prototype.updateXAxisLimit=function(t){var e,n,i,r,o,a,s=this.dataset[0],u=this.globalReactiveModel;return this.canvasConfig.pseudort&&(s.category.calculateOriginalDataLimit(),a=s.category.getLimits().max),e=s.getMin("x"),n=a||s.getMax("x"),i=u.prop(p),r=u.prop(f),o=t&&"function"==typeof t?t.call(this,[i,e],[r,n]):[i,r],u.lock().prop(d,e).prop(m,n).prop(p,o[0]).prop(f,o[1]).unlock(),this},e.prototype.initInteractivity=function(){var t=this,e=t.yAxis,n=t.xAxis,i=t.activeWindows[0],r=t.scroller;return t.globalReactiveModel.onPropsChange([d,m,p,f],function(e,o,a,s){var u=n.getPixel(a[1]),l=n.getPixel(s[1]);(e[0]!==e[1]||o[0]!==o[1])&&(n.setRange(o[1],e[1]),t.canvasConfig.showX&&n.draw(),t.plotManager.plot(),u=n.getPixel(a[1]),l=n.getPixel(s[1])),i&&i.updateSelectionBox("lead",u,l),r&&r.update(u-t.measurement.x,l-t.measurement.x,!0)},!0),t.globalReactiveModel.onPropChange(M,function(){t.createAggregatedDataset().updateYAxisLimit().updateXAxisLimit(t.datamodelUpdateFn).drawXAxis()}),t.reactiveModel.onPropsChange([y,v],function(n,i){(n[0]!==n[1]||i[0]!==i[1])&&(e.setRange(i[1],n[1]),t.canvasConfig.showY&&e.draw(),t.plotManager.plot())}),this},e.prototype.drawHandles=function(){},e.prototype.isTimeZone=function(){return!0},e.prototype.createSVGGroups=function(t){var e=this.svgElems,n=e.groups||(e.groups={parent:t});return n.navPlots=n.navPlots||(n.navPlots=t.append("g")),n.plot=n.plot||(n.plot=n.navPlots.append("g")),n.axis=n.axis||(n.axis=n.navPlots.append("g")),n.activeWin=n.activeWin||(n.activeWin=t.append("g")),n.scrollerContainer=n.scrollerContainer||(n.scrollerContainer=t.append("g")),n.labelGroup=n.labelGroup||(n.labelGroup=t.append("g")),n.timeZoneGroup=n.timeZone||(n.timeZone=t.append("g")),n},e.prototype.drawActiveWindow=function(t,e,n,i,o){var s,u,c,g,d=!1,m=this.activeWindows,y=this.updateInteractionStatus.bind(this),v=this.globalReactiveModel,x=this.xAxis,w=this.yAxis,b={x:a.NEGATIVE_INFINITY,width:void 0},C=function(t,e){return l(t)===l(e)};for((u=m.length)||(g=new h(this.canvasConfig,{paper:this.graphics.paper,axes:{x:x,y:w},globalReactiveModel:this.globalReactiveModel}).on("onDragStart",function(){clearTimeout(s),d=!0,y("start")}).on("onDrag",function(){y("ongoing")}).on("onDragEnd",function(){d=!1,y("end")}).on("onMouseOver",function(){y("start"),s=setTimeout(function(){
y("end")},3e3)}).on("onMouseOut",function(){d||y("end")}),g.registerListener(function(t,e,n){var i,o;return C(b.x,e)&&C(b.width,n)||!isFinite(t+e+n)?this:(i=r.toPrecision(x.getValue(t),10),o=r.toPrecision(x.getValue(t+n),10),e-b.x<0?v.lock().prop(p,i).prop(f,o).unlock():v.lock().prop(f,o).prop(p,i).unlock(),b.x=e,void(b.width=n))}),m.push(g),u=m.length),c=0;u>c;c+=1)m[c].draw(t,e,n,i,o);return this},e.prototype.drawXAxis=function(t){var e=this.xAxis,n=e.getScaleObj().getIntervalObj().getConfig("intervals"),i=n.minor,r=n.major,o=e.getScaleObj();return e._height=t=t||e._height,o.getIntervalObj().setConfig("showSingleTick",!0),o.getIntervalObj().setConfig("showSingleTickWithMajor",!0),i.tickLength=r.tickLength=t,i.valuePadding=r.valuePadding=3,i.labelBgOpacity=r.labelBgOpacity=.8,i.intervalGraphicObj.filterAttr=r.intervalGraphicObj.filterAttr=function(t,e){"label"===t&&(e["text-anchor"]="start",e.x=e.x+4)},o.setConfig("scaleGroup",this.createSVGGroups().axis),this.canvasConfig.showAxes.x&&e.draw(),this},e.prototype.setDataModelUpdateFn=function(t){return t&&"function"==typeof t&&(this.datamodelUpdateFn=t),this},e.prototype.setYAxisPos=function(t,e){this.yAxis.setAxisPosition(t,e)},e.prototype.configureXAxis=function(t,e,n){var i=this.globalReactiveModel,r=this.xAxis;return r.setRange(i.prop(m),i.prop(d)),r.setAxisPosition(t,e),r.setAxisLength(n),r.getScaleObj().getIntervalObj().getNoOfTicksFilter=function(t){return Math.ceil(t/2)},this},e.prototype.createAggregatedDataset=function(){function t(t,e,n,i){var r=this,o=i.getId();p.push({data:i.getOriginalMappedData(),seriesId:o,aggregatorFn:"mean"}),f[o]=r}var e,n,i,r,o,a,s,u,l=this.dataAggregator,c=this.dataset,h=c[0],p=[],f={};for(c.forEach(function(e){e.forEachSeries(t)}),l.setData({data:p,category:h.getOriginalCategoryData(),maxPlotPoints:Math.floor(this.plotManager.getMaxPlotPoints()/2)}),i=l.getAggregatedData(),e=i.data,this._aggregationRules=i.rules,h.category.setAggregatedMappedData(i.category),s=0,u=e.length;u>s;s++)n=e[s].data,r=e[s].seriesId,o=f[r],a=o.getSeriesById(r),a.setAggregatedMappedData(n);return this},e.prototype.manageSpace=function(){var t=this.spaceManagerInstance,e=t.cacheByName("navigationContainingRow"),n=t.cacheByName("canvasContainingRow"),i=this.canvasConfig,r=[],o=this.timeZone,a=function(){var t=this.getParentComponentGroup(),e=t.getWidth(),n=t.getHeight(),i=o.getLogicalSpace(o.getParentSelection(),{width:n,height:e}),r=i.width;return i.width=i.height,i.height=r,i},u=i.scroller.hide;return i.position({bottom:0,top:1})&&e.modifyIndex(n.getIndex()),i.hide||(r.push({type:"VerticalSwimLane4",name:"navContaner",initProp:.9,components:[{type:"Modules",index:0,initProp:1,name:"navigation",ref:this,dependencies:this.getDefaultDependency(),preDrawHook:this.canvasHook,alignment:0,layout:"inline",dimensions:[function(){var e=t.getHeight(),n=i.scroller,r=n.scrollHeight,o=0;return n.hide||(o+=n.scrollHeight=s(n.maxHeight,r,.2*e*.3)),i.activeWindow.hide||(o+=s(i.activeWindow.maxHeight,.2*e*.7)),{width:.3*t.getWidth(),height:o}}]}]}),this.isTimeZone()&&(o=this.timeZone,r.push({type:"VerticalSwimLane1",name:"timeZoneContainer",initProp:.1,index:1,padding:function(){return i.standardTimeZone.margin},components:[{type:"Modules",name:"timeZone",preDrawHook:function(t){if(t){var e=this,n=e.getParents()[0].cacheByName("navigation").config,i=this.config,r=n.width;i.x=n.x+r+(u?Math.min(12,r/45)/2:0)}},ref:o,alignment:2,layout:0,dimensions:[a]}]})),e.addComponent(r)),this},e.prototype.setLabelPosition=function(t,e){var n=this.graphics.label;return n.attr({x:t,y:e}),this.canvas.applyStyle({label:this.canvasConfig.label.style},{label:n}),this},e.prototype.draw=function(e,n,i,r,o){var a,s,l,c=this.canvas,h=this.measurement,p=this.canvasConfig,f=p.activeWindow,g=p.scroller,d=g.scrollHeight,m=g.margin,x=m.top,w=m.left,b=m.right,C=w+b,_=g.track.margin,M=_.left,S=M+_.right,A=u(5,d),k=2*A,N=this.reactiveModel,I=this.dataset;p.hide||(g.hide&&(d=0,A=0,k=0,w=0,b=0,C=0),e=void 0===e?h.x:e,n=void 0===n?h.y:n,i=void 0===i?h.width:i,r=void 0===r?h.height:r,s=void 0===o?h.group:o,f.hide||c.draw(e,n,i,r-d-x,s),a=this.createSVGGroups(c.getSVGGroup(s)),this.plotManager.assignCanvas(c),a.navPlots.attr({"clip-rect":[e+A+w,n,i-k-C,r-d-x]}),this.configureXAxis(e+A+w+M,n,i-k-C-S,r-d-x).configureYAxis(e+w+S,n,i-C,r-d-x),f.hide||(this.createAggregatedDataset(),l=t(I),N.lock(),N.lock().prop(y,l.min).prop(v,l.max).unlock(),this.configureYAxis(e+w+S,n,i-C,r-d-x),this.drawXAxis(r-A-x).drawActiveWindow(e+A+w+M,n,i-k-C-S,r-d-x,a.activeWin).drawPlots(a.plot)),g.hide||this.drawScrollBar(e+w,n+r-d,i-C,d,a.scrollerContainer),!this.postDrawing&&this.initInteractivity(a),this.postDrawing=!0,this.drawTimeZone())},FusionCharts.registerComponent("main","navigator",e)}]),FusionCharts.register("module",["private","modules.components.timeseries-plot-manager-api",function(){function t(){e.apply(this,arguments),this.dataset=arguments[0],this.dependencies=arguments[1],this.plotInstances={},this.svgElements={group:void 0}}var e=FusionCharts.getComponent("interface","manager"),n=FusionCharts.getComponent("plot");t.prototype=Object.create(e.prototype),t.prototype.getPlotClass=function(t){return n[t]},t.prototype.getPlotInstanceOf=function(t,e,n){var i,r=this.getPlotClass(t),o=n.getId();return e.unshift(r),(i=this.plotInstances[o])||(i=this.plotInstances[o]=new(Function.prototype.bind.apply(r,e)),i.manager=this),i.setJSONData(e[1]),i.seriesId=n.getId(),i},t.prototype.createGroup=function(t){var e=this,n=e.svgElements,i=n.group;return i||(i=n.group||(n.group=t.append("g"))),i},t.prototype.plot=function(t){var e,n,i=this,r=i.dataset,o=i.dependencies,a=o.dataInstance.animation;n=i.createGroup(t),r.forEachSeries(i.plotType,function(t,s,u,l){e=i.getPlotInstanceOf(i.plotType,[{x:t,y:s,visibilityPointers:u,series:l},l.config.plot,{paper:o.graphics.paper,xAxis:o.xAxis,yAxis:o.yAxis,canvas:i.canvas}],l),r.updatePlotInMap(l.getId(),e),e.draw(n,a),l.active?e.show({enabled:!1}):e.hide({enabled:!1})})},t.prototype.getInstancesByPlotType=function(t){var e,n,i=this,r=i.plotInstances,o=[];for(e in r)n=r[e],n.plotType===t&&o.push(n);return o},t.prototype.getMaxPlotPoints=function(t){return t/2},t.prototype.assignCanvas=function(t){this.canvas=t},FusionCharts.registerComponent("manager","plotmanager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-columnbase-manager-api",function(){function t(){e.apply(this,arguments)}var e=FusionCharts.getComponent("manager","plotmanager"),n=this,i=n.hcLib,r=i.getMinConsecutiveDifference;t.prototype=Object.create(e.prototype),t.prototype.getDefaultConfig=function(){return{groupPadding:.1,maxColWidth:50,minColWidth:3}},t.prototype.calculateColumnWidth=function(){var t,e,n,i,o=this,a=o.dependencies.xAxis,s=a.getScaleObj(),u=s.getPvr(),l=o.config,c=l.maxColWidth,h=o.dataset.getOriginalCategoryData(),p=1/0,f=l.minColWidth;return p=r(h),t=p*u,n=t*l.groupPadding,e=t-2*n,l.groupPaddingInPixels=n,i=Math.min(Math.max(e,f),c)},t.prototype.getPlotSpace=function(){var t,e=this,n=e.config;return t=e.calculateColumnWidth(),n.columnWidth=t,t/2},t.prototype.getMaxPlotPoints=function(t){var e,n=this.config.minColWidth,i=n+2*this.config.groupPadding*n;return e=t/i},FusionCharts.registerComponent("manager","ColumnBaseManager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-marker-manager-api",function(){function t(){i.apply(this,arguments)}var e=this,n=e.hcLib,i=FusionCharts.getComponent("interface","manager"),r=FusionCharts.getComponent("api","elementrecycle"),o=FusionCharts.getComponent("api","acyclic-plot-band"),a=FusionCharts.getComponent("api","cyclic-plot-band"),s=FusionCharts.getComponent("api","cyclic-time-instant"),u=FusionCharts.getComponent("api","acyclic-time-instant"),l=n.DateTimeFormatter,c=n.BLANKSTRING;t.prototype=Object.create(i.prototype),t.prototype.init=function(t){var e,n=this;t(["xAxis","yAxis","graphics","chartInstance","dataset","dataInstance","canvasConfig",function(t,i,r,o,a,s,u){n.xAxis=t,n.yAxis=i,n.graphics=r,n.dataset=a,n.dataInstance=s,n.canvasConfig=u,e=n.chartInstance=o,n.canvasConfig=u}]),n.elementRecycle=new r,n.count=0},t.prototype.doOverlap=function(t){return function(e){var n,i,r,o,a,s,u,l=!1,c=e.x1,h=e.x2;for(n=0,i=t.length;i>n;n+=1)if(r=t[n],o=r.x1,a=r.x2,s=h>=a,u=c>=o,o>c?h>o&&(l=!0):a>c&&(l=!0),l)return!0}},t.prototype.drawPlotBands=function(t,e,n,i){var r,l,h,p,f,g,d=this,m=e.height,y=this.elementRecycle,v=d[n]||(d[n]={}),x=v.textDrawn,w="acyclic"===n,b={paper:d.graphics.paper,axes:{x:d.xAxis,y:d.yAxis},plot:{}},C=t.x1,_=t.x2,M=C&&_?"timeSpan":"timeInstant",S=d.isAlternate?"alternate":"regular",A=e.parentId+S,k=M+n+(A||""),N=w?o:a,I=c,T=i.bottomLabel&&i.bottomLabel.name||e.bottomLabel;return(l=y.getDrawnElements(k,C))?I=d[M][n].count++:((l=y.getElementIfExist(k,C))||(C&&_?l=new N(i,b):(h=w?u:s,l=new h(i,b)),y.insertElement(k,C,l)),f=l.config[M],g=f[S],l._parentConfig=g,l.config.index=e.index,r=g.label.text||f.regular.label.text,p=l.draw(t.x1,t.x2,d.canvas,{group:e.group(l,g,k+"container"),height:m,isAlternate:d.isAlternate,label:x?c:r,isVertical:e.isVertical,"stroke-dasharray":e["stroke-dasharray"],stroke:e.stroke,"stroke-width":e["stroke-width"],"background-color":e["background-color"]}),l.drawLabel&&l.drawLabel(!w&&x?void 0:T)),l.addEvent?x=l.addEvent(!w&&x?void 0:r,k+I):w||x||(x=!!p),d.fixedDuration?(d.count+=1,d.count>1&&this.setTextDrawn(v,x)):this.setTextDrawn(v,x),t},t.prototype.setTextDrawn=function(t,e){!t.textDrawn&&e&&(t._textDrawn=e,t.textDrawn=e)},t.prototype.getGroup=function(t,e,n,i,r){var o,a=this.elementRecycle,s=a.getDrawnElements(r,e);return s||(s=a.getElementIfExist(r,e))||(s=n.getStubGroup(this.parentGroup.append("g")),a.insertElement(r,e,s),n.applyCSS(o=s.getGroups(),i,e)),o=s.getGroups(),n.group=o,o},t.prototype.dispose=function(){var t,e,n,i=this,r=i.graphicsArr;for(t=0,e=r.length;e>t;t+=1)n=r[t],i.remove(n)},t.prototype.remove=function(t){var e;for(e in t)t[e]&&(t[e].remove?t[e].remove():this.remove(t[e]),t[e]=void 0)},t.prototype.processTokens=function(t,e,n,i){var r,o,a=t.slice();for(void 0===i&&(i=0),n&&a[i]&&(a[i]-=1),r=0,o=(e||[]).length;o>r;r+=2)a[e[r+1].index]=e[r+1].parser(e[r]);return a},t.prototype.wrapTimeLine=function(t,e,n){var i=this.joinTokens;t&&e&&i(t)>i(e)&&(t[n]-=1)},t.prototype.increment=function(t,e,n,i,r,o){var a,s,u=this.joinTokens,l=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()],c=0;for(i[n+1]>r&&r[n+1]&&(i[n]-=1);i[n]<=l[n];)this.wrapTimeLine(i,r,n),t(a||i&&u(i),s||r&&u(r),o,c),c+=1,i[n]+=1,r&&(r[n]+=1)},t.prototype.incrementFixedDuration=function(t,e,n,i,r,o,a){var s,u,l=this,c=l.joinTokens,h=0,p=a===r;for(p&&(l.fixedDuration=!0,l.count=0),s=s||i&&c(i).getTime(),e=e.getTime();e>=s;)u=s+r,p&&(l.isAlternate=h%2?!1:!0),t(s,u,o,n),h+=1,s+=a;delete l.isAlternate,delete l.fixedDuration,delete l.count},t.prototype.joinTokens=function(t){return new Date(t[0],t[1],t[2],t[3],t[4],t[5])},t.prototype.getMajorTickLevel=function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e=this.xAxis.getScaleObj().getIntervalObj().getConfig("intervals");return t[e.major.timeUnit.name||e.minor.timeUnit.name]},t.prototype.normalise=function(t,e,n,i){if(e>n)n=e;else if(n>t)return!1;return i>t&&(i=t),n>i?!1:{x1:n,x2:i}},t.prototype.drawCyclicGroups=function(t,e){var n,i,r,o,a,s=this,u=s.getMajorTickLevel(),c=l.getTokenFormalNames(),h=function(i,r,o,a){var u;(u=s.normalise(g,d,i,r))&&s.drawPlotBands(u,{parentId:e,index:a,group:C,label:o,bottomLabel:n,isVertical:!0,"stroke-dasharray":x,stroke:w,"stroke-width":v,"background-color":b},"cyclic",t)},p=s.xAxis,f=p.getScaleObj().getVisibleRange(),g=new Date(f.max),d=new Date(f.min),m=[],y=[d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()],v=1,x=5,w="#ff0000",b="#ff0000",C=function(n,i,r){return s.getGroup(t,e,n,i,r)};u=0,(o=t.level(c))===u&&(m=t.start(c),i=t.duration,n=this.getBottomLabel(m,u,!0),r=t.start&&s.processTokens(y,m,!!i,o),a=t.end&&s.processTokens(y,t.end(c)),i?s.incrementFixedDuration(h,g,o,r,s.getDurationMilli(i(),o+1,y,d),t.label&&t.label.name,s.getDurationMilli(t.step(),o+1,y,d)):s.increment(h,g,o,r,a,t.label&&t.label.name,d))},t.prototype.getDurationMilli=function(t,e,n){var i=0,r=n.slice(),o=n.slice();return void 0!==r[e]&&(o[e]=0,r[e]=t,i=this.joinTokens(r)-this.joinTokens(o)),i},t.prototype.textSanitizer=function(t){return t?t+" ":c},t.prototype.getBottomLabel=function(t,e,n){var i=this.textSanitizer;return n?i(t[e])+i(t[e+2])+i(t[e+4]):i(t[e+4])+i(t[e+2])+i(t[e])},t.prototype.drawAcyclicGroups=function(t,e,n){var i,r,o,a,s,u,c,h=this,p=h.getMajorTickLevel(),f=l.getTokenFormalNames(),g=h.xAxis,d=g.getScaleObj().getVisibleRange(),m=new Date(d.max),y=new Date(d.min),v=[y.getFullYear(),y.getMonth(),y.getDate(),y.getHours(),y.getMinutes(),y.getSeconds()],x=h.joinTokens,w=[],b=1,C=5,_="#ff0000",M="#ffffff",S=20,A=function(n,i,r){return h.getGroup(t,e,n,i,r)};(o=t.level(f))===p&&(a=t.start&&h.processTokens(v,w=t.start(f)),s=t.end&&h.processTokens(v,t.end(f)),i=this.getBottomLabel(w,p),this.wrapTimeLine(a,s,o),(u=h.normalise(m,y,a&&x(a,m,y),s&&x(s,m,y)))&&(c=t.label&&t.label.name,r=n?h.drawPlotBands(u,{parentId:e,index:0,group:A,bottomLabel:i,isVertical:!0,"stroke-dasharray":C,stroke:_,"stroke-width":b,"background-color":M,label:c,height:S},"acyclic",t):h.drawPlotBands(u,{parentId:e,index:0,group:A,bottomLabel:i,isVertical:!0,"stroke-dasharray":C,stroke:_,"stroke-width":b,"background-color":M,label:c},"acyclic",t)))},t.prototype.plot=function(t,e){var n,i,r,o,a,s,u,l=this.canvasConfig,c=l.markers||{},h=this.graphicsArr,p=c.group,f=this.graphics.paper;for(t&&(this.canvas=t),this.parentGroup||(u=f.getQualifiedClassName(p.className),this.parentGroup=(e||t.group.append("g")).classed(u.join(" "),!0),i=t.parseStyle(p.style).body,f.cssAddRule("."+u[1],i)),h||(h=this.graphicsArr=[]),this.acyclic||(this.acyclic={}),this.cyclic||(this.cyclic={}),this.span||(this.span={cyclic:{count:0},acyclic:{count:0}}),this.instant||(this.instant={cyclic:{count:0},acyclic:{count:0}}),this.instant.cyclic.count=0,this.instant.acyclic.count=0,this.span.cyclic.count=0,this.span.acyclic.count=0,this.cyclic.textDrawn&&(this.cyclic._textDrawn=this.cyclic.textDrawn),this.acyclic.textDrawn&&(this.acyclic._textDrawn=this.acyclic.textDrawn),this.elementRecycle.preProcessor(),o=0,n=c.cyclic,r=n&&n.length;r>o;o+=1)this.cyclic.textDrawn=!1,this.drawCyclicGroups(n[o],o);for(o=0,a=c.acyclic,s=a&&a.length;s>o;o+=1)this.acyclic.textDrawn=!1,this.drawAcyclicGroups(a[o],o,r);this.elementRecycle.postProcessor()},FusionCharts.registerComponent("manager","markermanager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-column-manager-api",function(){function t(){this.config=this.getDefaultConfig(),e.apply(this,arguments),this.plotType="column",this.stacked=!0}var e=FusionCharts.getComponent("manager","columnbasemanager");t.prototype=Object.create(e.prototype),t.prototype.plot=function(t){var e,n,i,r,o=this,a=o.dataset,s=o.dependencies,u=s.xAxis,l=u.getScaleObj().getPvr(),c=o.config,h=c.groupPadding,p=s.reactiveModel,f=p.prop("bin-size"),g=s.dataInstance.animation;r=o.createGroup(t),f?(i=Math.floor(f*l),n=2*i*h,c.columnWidth=i-n):c.columnWidth=o.calculateColumnWidth(),this.stacked&&a.calculateStackedValues(o.plotType),a.forEachSeries(o.plotType,function(t,n,i,u){e=o.getPlotInstanceOf(o.plotType,[{x:t,y:o.stacked?u.stackedData:n,visibilityPointers:i,series:u},u.config.plot,{paper:s.graphics.paper,xAxis:s.xAxis,yAxis:s.yAxis}],u),a.updatePlotInMap(u.getId(),e),e.show(g),e.draw(r,g),u.active?e.show(g):e.hide(g)})},FusionCharts.registerComponent("manager","ColumnManager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-columnrange-manager-api",function(){function t(){this.config={},e.apply(this,arguments),this.plotType="columnrange",this.stacked=!1}var e=FusionCharts.getComponent("manager","columnmanager");t.prototype=Object.create(e.prototype),FusionCharts.registerComponent("manager","ColumnRangeManager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-arearange-manager-api",function(){function t(){this.config={},e.apply(this,arguments),this.plotType="arearange"}var e=FusionCharts.getComponent("manager","plotmanager");t.prototype=Object.create(e.prototype),FusionCharts.registerComponent("manager","AreaRangeManager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-legend-impl",function(){function t(){e.apply(this,arguments),this.svgElems={},this.measurement={}}var e=FusionCharts.getComponent("interface","component"),n=FusionCharts.getComponent("api","legend"),i="focused-series",r="visible-series",o="hidden-series";t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.init=function(t){var e,i,r,o,a,s,u=this,l=this.svgElems;t(["chart","graphics","dataset","PlotManager","spaceManagerInstance","smartLabel","reactiveModel","canvasGroupIndex","dataInstance","parentGroup",function(t,e,n,i,r,o,a,s,l,c){u.chart=t,u.dataset=n,u.plotManager=i,u.graphics=e,u.spaceManagerInstance=r,u.smartLabel=o,u.reactiveModel=a,u.canvasGroupIndex=s,u.dataInstance=l,u.parentGroup=c}]),r=u.dataInstance.legend[0],s=u.graphics.paper,e=u.spaceManagerInstance,r.group.className=o=s.getQualifiedClassName(r.group.className),i=l.group=u.parentGroup.append("g").attr("class",o.join(" ")),(a=r.group.style)&&s.cssAddRule("."+o[1],a),u.legend=new n(u.dataInstance.legend[0],{chart:u.chart,dataset:u.dataset,plotManager:u.plotManager,paper:u.graphics.paper,smartLabel:u.smartLabel,parentGroup:i}),this.addLegendItems()},t.prototype.manageSpace=function(){var t=this,e=t.legend,n=e.config;return n.hide||t.drawLegend===!1?t:(t.spaceManagerInstance.add([{name:function(){return"Legend"},preDrawHook:e.config.preDrawHook,ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:n.layout,orientation:[{type:n.orientation,position:[{type:n.position,alignment:[{type:n.alignment,dimensions:[function(){var t=this.getParentComponentGroup(),n=t.getWidth(),i=t.getHeight(),r=e.getLogicalSpace(n,i);return{width:Math.min(n,r.width),height:Math.min(i,r.height)}}]}]}]}]}]),t)},t.prototype.setDrawingConfiguration=function(t,e,n,i,r){var o=this.measurement;return o.x=t,o.y=e,o.width=n,o.height=i,this.parentGroup=r,this},t.prototype.onHover=function(t){var e=this.legend.config;e.fadePlots&&t.active&&this.reactiveModel.prop(i,[t])},t.prototype.onHoverOut=function(){var t=this.legend.config;t.fadePlots&&this.reactiveModel.prop(i,void 0)},t.prototype.onClick=function(t,e){var n,i=this.reactiveModel,a=i.prop(r),s=i.prop(o);e?(n=a.indexOf(t),a.splice(n,1),s.push(t)):(n=s.indexOf(t),s.splice(n,1),a.push(t)),i.lock(),i.prop(r,a),i.prop(o,s),i.unlock()},t.prototype.getDefaultGroup=function(){return this.svgElems.group},t.prototype.draw=function(t,e,n,i,r){var o=this.measurement,a=this.legend.config;return a.hide||this.drawLegend===!1?this:(t=void 0===t?o.x:t,e=void 0===e?o.y:e,n=void 0===n?o.width:n,i=void 0===i?o.height:i,r=void 0===r?this.parentGroup:r,void 0!==e&&n&&i&&(this.legend.attachEventHandlers({click:this.onClick.bind(this),mouseover:this.onHover.bind(this),mouseout:this.onHoverOut.bind(this)}),this.legend.draw(t,e,r)),this)},t.prototype.addLegendItems=function(){var t=this,e=t.dataset,n=e.series,i=[];1===n.length?t.drawLegend=!1:(e.forEachSeries&&e.forEachSeries(function(t,e,n,r){i.push({name:r.name,seriesId:r.getId(),series:r})}),t.drawLegend=!0,t.legend.addItems(i))},FusionCharts.registerComponent("main","Legend",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-line-manager-api",function(){function t(){this.config={},e.apply(this,arguments),this.plotType="line"}var e=FusionCharts.getComponent("manager","plotmanager");t.prototype=Object.create(e.prototype),FusionCharts.registerComponent("manager","linemanager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-area-manager-api",function(){function t(){this.config={},e.apply(this,arguments),this.plotType="area"}var e=FusionCharts.getComponent("manager","plotmanager");t.prototype=Object.create(e.prototype),FusionCharts.registerComponent("manager","AreaManager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-multidatasetplot-manager-api",function(){function t(){e.apply(this,arguments)}var e=FusionCharts.getComponent("manager","PlotManager"),n="line",i="fusioncharts-plot-multidsplot-";t.prototype=Object.create(e.prototype),t.prototype.plot=function(t){var e,r=this,o=r.dataset,a=r.dependencies,s=a.dataInstance.animation,u=function(e,o,u,l){var c,h,p=this.category,f=l.config.index;h=l.getMappedPlotStyle(),c={className:i+f,parsedStyle:h},r.getPlotInstanceOf(n,[{x:p.getAggregatedMappedData(),y:l.getAggregatedMappedData()},{group:c},{paper:a.graphics.paper,xAxis:a.xAxis,yAxis:a.yAxis,canvas:r.canvas},r],l).draw(t,s,!0)};for(e in o)o[e].forEachSeries(u,!0)},FusionCharts.registerComponent("manager","MultiDSPlotManager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-candlestick-manager-api",function(){function t(){this.config=this.getDefaultConfig(),e.apply(this,arguments),this.plotType="candlestick"}var e=FusionCharts.getComponent("manager","ColumnBaseManager");t.prototype=Object.create(e.prototype),t.prototype.plot=function(t){var e,n,i,r=this,o=r.dataset,a=r.dependencies,s=r.config,u=a.xAxis,l=a.dataInstance.animation,c=s.groupPadding,h=u.getScaleObj().getPvr(),p=a.reactiveModel,f=p.prop("bin-size");f?(n=Math.floor(f*h),i=2*c*n,s.columnWidth=n-i):s.columnWidth=r.calculateColumnWidth(),r.createGroup(t),o.forEachSeries("candlestick",function(n,i,s,u){e=r.getPlotInstanceOf(r.plotType,[{x:n,y:i,visibilityPointers:s},u.config.plot,{paper:a.graphics.paper,xAxis:a.xAxis,yAxis:a.yAxis}],u),o.updatePlotInMap(u.getId(),e),e.draw(t,l)})},FusionCharts.registerComponent("manager","CandlestickManager",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-plot-manager-factory-api",function(){function t(){i.apply(this,arguments),this.plotManagers={}}var e=this.window,n=e.Math,i=FusionCharts.getComponent("interface","manager"),r=FusionCharts.getComponent("manager"),o=FusionCharts.getComponent("main","navigator"),a="line",s="plotmanager";t.prototype=Object.create(i.prototype),t.prototype.init=function(t){var e,n,i=this;t(["xAxis","yAxis","graphics","chartInstance","dataset","impl","reactiveModel","dataInstance","canvas",function(t,r,o,a,s,u,l,c){i.xAxis=t,i.yAxis=r,i.graphics=o,i.dataset=s,e=i.chartInstance=a,i.dataInstance=c,i.reactiveModel=l,n=i.impl=u}]),i.defPlotType=e.args.plottype||a,i.createManagerInstancesByCaller(n)},t.prototype.getPlotManagerClass=function(t){return r[t+"manager"]||r[s]},t.prototype.getInstanceOfManager=function(t,e){var n,i=this.getPlotManagerClass(t);return e.unshift(i),this.plotManagers[t]=n=new(Function.prototype.bind.apply(i,e)),n.managerFactory=this,n},t.prototype.createManagerInstancesByCaller=function(t){var e=this;return t instanceof o?void e.getInstanceOfManager("multidsplot",[e.dataset,{xAxis:e.xAxis,yAxis:e.yAxis,graphics:e.graphics,dataInstance:e.dataInstance}]):this.createManagerInstances()},t.prototype.createManagerInstances=function(){var t,e,n=this,i=n.dataset;t=i.getAllPlotTypes();for(e in t)n.getInstanceOfManager(e,[i,{xAxis:n.xAxis,yAxis:n.yAxis,graphics:n.graphics,impl:n.impl,dataInstance:n.dataInstance,reactiveModel:n.reactiveModel,canvas:n.canvas}])},t.prototype.assignCanvas=function(t){this.canvas=t},t.prototype.plot=function(t){var e,n,i=this,r=i.plotManagers,o=this.canvas;for(e in r)n=r[e],n.assignCanvas(o),n.plot(t)},t.prototype.getAxisOffset=function(){var t,e,n=this.plotManagers,i=0;for(t in n)e=n[t],i=Math.max(i,e.getPlotSpace&&e.getPlotSpace()||0);return i},t.prototype.getInstancesByPlotType=function(t){var e,n=this,i=n.plotManagers,r=[];for(e in i)r=r.concat(i[e].getInstancesByPlotType(t));return r},t.prototype.fadeAllExcept=function(t,e){var n,i,r,o,a,s=this,u=s.plotManagers,l=e?e:s.dataInstance.animation;for(a in u){n=u[a],r=n.getInstancesByPlotType(a);for(o in r)i=r[o],-1===t.indexOf(i)&&i.hidden!==!0&&i.fade(l)}},t.prototype.unfadeAll=function(t){var e,n,i,r,o,a=this,s=a.plotManagers,u=t?t:a.dataInstance.animation;for(o in s){e=s[o],i=e.getInstancesByPlotType(o);for(r in i)n=i[r],n.hidden!==!0&&n.unfade(u)}},t.prototype.manageVisibility=function(t,e){var n,i,r,o,a,s=this,u=s.plotManagers,l=["column"],c=s.dataInstance.animation;for(i=0,a=t.length;a>i;i++)n=t[i],-1===l.indexOf(n.plotType)&&n.show(c);for(i=0,a=e.length;a>i;i++)n=e[i],-1===l.indexOf(n.plotType)&&n.hide(c);for(r in u)o=u[r],-1!==l.indexOf(o.plotType)&&o.plot()},t.prototype.getMaxPlotPoints=function(){var t,e,i=this.plotManagers,r=this.xAxis,o=r.getScaleObj().getConfig("length"),a=[];for(t in i)e=i[t],a.push(e.getMaxPlotPoints(o));return n.min.apply(n,a)},FusionCharts.registerComponent("managerfactory","plotmanagerfactory",t)}]),FusionCharts.register("module",["private","modules.components.timeseries-caption-impl",function(){function t(){e.apply(this,arguments),this.measurement={},this.svgElems={},this.config={}}var e=FusionCharts.getComponent("interface","component"),n=this,i=n.hcLib,r=i.mergeRecursive,o=".";t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.setConfig=function(t){return r(this.config,t),this},t.prototype.init=function(t){var e,n,i,r,a,s,u=this,l=u.svgElems;t(["chart","graphics","dataset","PlotManager","spaceManagerInstance","smartLabel","reactiveModel","canvasGroupIndex","dataInstance","parentGroup",function(t,e,i,r,o,a,s,l,c,h){u.chart=t,u.graphics=e,u.spaceManagerInstance=o,u.smartLabel=a,u.canvasGroupIndex=l,n=u.data=c.caption[0],u.parentGroup=h}]),e=u.graphics.paper,n.group.className=i=e.getQualifiedClassName(n.group.className),s=l.group=u.parentGroup.append("g").attr("class",i.join(" ")),a=e.getInstances().d3,(r=n.group.style)&&e.cssAddRule(o+i[1],r),u.setConfig(n),u.title=a.fusiontext(),u.subtitle=a.fusiontext()},t.prototype.getDefaultGroup=function(){return this.svgElems.group},t.prototype.manageSpace=function(){var t=this,e=function(){var e=this.getParentComponentGroup(),n=e.getWidth(),i=e.getHeight(),r=t.getLogicalSpace(n,i);return r},n=this.config,i=function(t){return function(){var e=this,n=e.getParents(),i=n[0].cacheByName("canvasContainer"),r=this.config;switch(t){case"left":r.x=i.getX();break;case"right":r.x=i.getX()+i.getWidth()-e.getWidth();break;default:r.x=i.getX()+i.getWidth()/2-e.getWidth()/2}}};this.spaceManagerInstance.addComponent([{pIndex:1,index:0,initProp:.2,type:"HorizontalSwimLane1",name:"captionContainingRow",padding:function(){return n.margin},components:[{type:"VerticalSwimLane4",name:"captionContaner",initProp:1,components:[{type:"Modules",index:0,initProp:1,name:"caption",preDrawHook:i(n.alignment),ref:t,alignment:0,layout:n.layout,position:n.position,dimensions:[e]}]}]}],0)},t.prototype.setDrawingConfiguration=function(t,e,n,i,r){var o=this.measurement;return o.x=t,o.y=e,o.width=n,o.height=i,this.parentGroup=r,this},t.prototype.getLogicalSpace=function(t,e){var n,i,r,o,a,s=this.title,u=this.subtitle,l=this.config,c=l.padding,h=l.title,p=l.subtitle,f=h.text,g=p.text,d=c.left+c.right,m=c.top+c.bottom,y=t-(c.left+c.right),v=e-(c.top+c.bottom);return this.createSVGGroups(),n=this.svgElems.titleGroup,a=this.svgElems.subtitleGroup,s.label(f,{className:h.className.join(" "),valign:"top"}),u.label(g,{className:p.className.join(" "),valign:"top"}),this.titleSpace=r=s.getLogicalSpace(n,{width:y,height:.6*v}),this.subtitleSpace=o=u.getLogicalSpace(a,{width:y,height:.4*v}),this.logicalSpace=i={width:Math.max(r.width,o.width),height:r.height+o.height},{width:i.width+d,height:i.height+m}},t.prototype.createSVGGroups=function(){var t=this.config,e=t.title,n=t.subtitle,i=e.className,r=e.style,a=n.className,s=n.style,u=this.svgElems,l=u.titleGroup,c=u.subtitleGroup,h=this.svgElems.group,p=t.bound,f=p.className,g=p.style,d=this.graphics.paper;l||(l=this.svgElems.titleGroup=h.append("g"),i=e.className=d.getQualifiedClassName(i),d.cssAddRule(o+i[1],r),f=p.className=d.getQualifiedClassName(f),d.cssAddRule(o+f[1],g)),c||(c=this.svgElems.subtitleGroup=h.append("g"),a=n.className=d.getQualifiedClassName(a),d.cssAddRule(o+a[1],s))},t.prototype.draw=function(t,e,n,i,r){var o=this.measurement,a=this.title,s=this.subtitle,u=this.config,l=u.padding,c=this.logicalSpace,h=c.width+l.left+l.right,p=c.height+l.top+l.bottom,f=this.svgElems,g=f.bound,d=this.graphics.paper,m=u.bound.className;t=void 0===t?o.x:t,e=void 0===e?o.y:e,n=void 0===n?o.width:n,i=void 0===i?o.height:i,r=void 0===r?this.parentGroup:r,n&&i&&(g||(g=f.bound=r.append("rect")),d.setAttrs(g,{x:t,y:e,width:h,height:p,"class":m.join(" ")}),a.draw(r,{x:t+h/2-this.titleSpace.width/2,y:e+l.top}),s.draw(r,{x:t+h/2-this.subtitleSpace.width/2,y:e+this.titleSpace.height+l.top}))},FusionCharts.registerComponent("main","Caption",t)}]),FusionCharts.register("module",["private","modules.chart-config.timeseries",function(){function t(e,n){var i;for(i in n)i in e?"object"==typeof n[i]&&t(e[i],n[i]):u(n[i])?e[i]=o.extend2({},n[i]):e[i]=n[i]}function e(t,e){var n,i=t.length,r={};for(n=0;i>n;n++)r[t[n][e]]=t[n];return r}function n(){this.config={chart:{animation:{duration:1e3,effect:"Cubic"},realtime:{mode:"auto",fetchDuration:1e3,source:"http://feed-me-data.com"},container:{paddingX:10,paddingY:10,group:{className:"fusioncharts-root",style:{"font-family":"Lucida Grande, sans-serif"}},bound:{className:"fusioncharts-root-container",style:{stroke:s,fill:s}}},axes:{x:{"class":"fusioncharts-x-axis-0",span:{tick:{hide:!0,length:5,style:{stroke:"#6e6e6e","stroke-width":"1"}},text:{hide:!1,style:{"font-size":"11px","font-weight":"normal",fill:"#898989"}}},context:{tick:{hide:!0,length:5,style:{stroke:"#696969","stroke-width":"1.2"}},text:{hide:!1,style:{"font-size":"12px",fill:"#696969"}}},major:{tick:{hide:!1,length:5,style:{stroke:"#696969","stroke-width":"1.2"}},text:{hide:!1,style:{"font-size":"12px",fill:"#696969"}}},minor:{tick:{hide:!1,length:5,style:{stroke:"#6e6e6e","stroke-width":"1"}},text:{hide:!1,style:{"font-size":"11px","font-weight":"normal",fill:"#898989"}}},margin:{top:2,left:0,bottom:0,right:0}},y:{"class":"fusioncharts-y-axis-0",numberFormatter:{config:{fill:"",align:"",sign:"",symbol:"",zero:"",width:"",comma:"",precision:"1",type:"s"},suffix:"",prefix:""},major:{formatter:function(t,e){var n=e.numberFormatter;return n.prefix+n.formatter.format(t)+n.suffix},tick:{hide:!0,style:{stroke:"#707070","stroke-width":"1"}},text:{hide:!1,style:{"font-size":"13px",fill:"#898989"}}},margin:{top:0,left:0,bottom:0,right:0},name:{group:{className:"fusioncharts-yAxis-name-container",style:{fill:"#C8C8C8"}},label:{customTagName:"FT",customTagClassName:"fusioncharts-yAxis-custom-name",text:"",className:"fusioncharts-yAxis-name",style:{"font-size":"12px"},valign:"top"},margin:{left:0,right:0,top:0,bottom:0},interaction:{hide:!1,listeners:[{action:"click"}],tooltip:{hide:!1,text:"ABC"},className:"fusioncharts-navigator-standardTimeZone-tracker-rect",style:{fill:"rgba(192,192,192,0)","stroke-width":"0",cursor:"pointer"}},labelBound:{hide:!1,className:"fusioncharts-navigator-standardTimeZone-label-bound",style:{fill:"NONE","stroke-width":"1",stroke:"#000"},customLogicalSpace:i,defaultConfig:{pathFn:function(t,e,n,i){return["M",t,e,"L",t+n,e,"L",t+n,e+i,"L",t,e+i,"Z"]},getLogicalSpace:function(t,e,n){var i=2*n["stroke-width"];return t+=i,e+=i,{width:t,height:e}}},customPathFn:i}}}},datasets:{dataset:{series:{plot:[{type:"line",connectNullData:!0,group:{className:"fusioncharts-plot-line",style:{stroke:function(t,e,n){return n.hashify(t[e%t.length])},"stroke-width":"2","stroke-linecap":l,"stroke-linejoin":c,fill:"#ff0000"}}},{type:"column",group:{className:"fusioncharts-plot-column",style:{fill:function(t,e,n){return n.hashify(t[e%t.length])},"stroke-opacity":"1"}}},{type:"area",connectNullData:!0,
group:{className:"fusioncharts-plot-area",style:{fill:function(t,e,n){return n.hashify(t[e%t.length])},"stroke-width":2,"stroke-opacity":"0.5","fill-opacity":"0.7","stroke-linecap":l,"stroke-linejoin":c}}},{type:"arearange",connectNullData:!0,group:{className:"fusioncharts-plot-arearange",style:{fill:function(t,e,n){return n.hashify(t[e%t.length])},"stroke-width":2,"stroke-opacity":"0.5","fill-opacity":"0.7","stroke-linecap":l,"stroke-linejoin":c}}},{type:"columnrange",connectNullData:!0,group:{className:"fusioncharts-plot-columnrange",style:{fill:function(t,e,n){return n.hashify(t[e%t.length])},"stroke-width":2,"stroke-opacity":"0.5","fill-opacity":"0.7","stroke-linecap":l,"stroke-linejoin":c}}},{type:"candlestick",group:{className:"fusioncharts-plot-candlestick",style:{stroke:"#000000","stroke-width":1}},bear:{className:"fusioncharts-plot-candlestick-bear",style:{fill:"#ff0000","stroke-opacity":0}},bull:{className:"fusioncharts-plot-candlestick-bull",style:{fill:"#ffffff","stroke-opacity":0}},wick:{className:"fusioncharts-plot-candlestick-wick",style:{stroke:"#000000"}}}]}}},canvas:{className:"fusioncharts-canvas-container",style:{fill:"#ffffff",stroke:"none","fill-opacity":"0","border-top":"2px #b1b1b1 solid","border-right":"0px #aaaaaa solid","border-bottom":"2px #b1b1b1 solid","border-left":"0px #aaaaaa solid"},margin:{top:0,right:0,left:0,bottom:0},markers:{group:{className:"fusioncharts-markers",style:{"font-family":"myriad-pro, sans-serif Semibold","font-size":"14px"}},cyclic:{timeSpan:{regular:{plotBand:{group:{className:"fusioncharts-markers-cylic-timeSpan-regular-plotBand",style:{fill:function(t,e,n){return n.hashify(t[e])},stroke:"#898989","stroke-opacity":.5,"fill-opacity":.5}}},label:{margin:{top:5,bottom:0,left:5},group:{className:"fusioncharts-markers-cylic-timeSpan-regular-label",style:{fill:"#3c3b3b"}}}},alternate:{plotBand:{group:{className:"fusioncharts-markers-cylic-timeSpan-alternate-cyclic",style:{fill:function(t,e,n){return n.hashify(t[e+4])},stroke:"#898989","stroke-opacity":.5,"fill-opacity":.5}}},label:{margin:{top:5,bottom:0,left:5},group:{className:"fusioncharts-markers-cylic-timeSpan-alternate-label",style:{fill:"#3c3b3b"}}}}},timeInstant:{regular:{label:{margin:{top:5,bottom:0,left:5},group:{className:"fusioncharts-markers-cylic-timeSpan-timeInstant-label",style:{fill:"#3c3b3b"}}},plotLine:{group:{className:"fusioncharts-markers-cylic-timeSpan-timeInstant-plotLine",style:{"fill-opacity":1,stroke:"#d83131","stroke-dasharray":5,"stroke-width":2}}},labelBound:{margin:{bottom:5,left:0,top:0},group:{className:"fusioncharts-markers-cylic-timeSpan-timeInstant-labelBound",style:{fill:"#ffffff","stroke-width":1.5,stroke:"#d83131"}}},refLabel:{margin:{bottom:5,left:0,top:0},group:{className:"fusioncharts-markers-cylic-timeSpan-timeInstant-bottomLabel",style:{fill:"#353535"}}}}}},acyclic:{timeSpan:{regular:{plotBand:{group:{className:"fusioncharts-markers-acylic-timeSpan-regular-plotBand",style:{fill:"#b5c1e2",stroke:"#898989","stroke-opacity":.5,"fill-opacity":.5}}},label:{margin:{top:5,bottom:0,left:5},group:{className:"fusioncharts-markers-cylic-timeSpan-timeInstant-label",style:{fill:"#7f7f7f"}}}}},timeInstant:{regular:{label:{margin:{top:5,bottom:0,left:5},group:{className:"fusioncharts-markers-cylic-timeSpan-timeInstant-label",style:{fill:"#7f7f7f"}}},plotLine:{group:{className:"fusioncharts-markers-cylic-timeSpan-timeInstant-plotLine",style:{"fill-opacity":1,stroke:"#cea310","stroke-dasharray":0,"stroke-width":2}}},labelBound:{group:{className:"fusioncharts-markers-cylic-timeSpan-timeInstant-labelBound",style:{fill:"#cea310","stroke-width":0}}},refLabel:{margin:{bottom:5,top:0,left:0},group:{className:"fusioncharts-markers-cylic-timeSpan-timeInstant-bottomLabel",style:{fill:"#cea310"}}}}}}},divlines:{hide:!1,className:"fusioncharts-canvas-divlines",style:{fill:"#F3F3F3",stroke:"#dbdbdb","fill-opacity":.5}},aggregation:a,messageLogger:{container:{className:"fusioncharts-message-logger-container",style:{"fill-opacity":.65,fill:"#eaeaea"}},text:{className:"fusioncharts-message-logger-text",style:{fill:"#eaeaea"}}}},navigator:{hide:!1,style:{fill:"#FFFFFF",stroke:"none","fill-opacity":1,"border-top":"1px #aaaaaa solid","border-right":"0px #ffffff solid","border-bottom":"0px #aaaaaa solid","border-left":"0px #ffffff solid"},position:function(t){return t.bottom},activeWindow:{hide:!1,maxHeight:50,buttons:{hide:!1,left:{group:{className:"fusioncharts-navigator-active-window-button-left"},rect:{className:"fusioncharts-navigator-active-window-button-left-rect",style:{fill:"#ffffff",stroke:"#9e9e9e","fill-opacity":1,"border-top":"2px #aaaaaa solid","border-right":"0px #ffffff solid","border-bottom":"2px #aaaaaa solid","border-left":"0px #ffffff solid",r:1.5}},arrow:{className:"fusioncharts-navigator-active-window-button-left-arrow",style:{stroke:"#717171"}}},right:{group:{className:"fusioncharts-navigator-active-window-button-right"},rect:{className:"fusioncharts-navigator-active-window-button-right-rect",style:{fill:"#ffffff",stroke:"#9e9e9e","fill-opacity":1,"border-top":"2px #aaaaaa solid","border-right":"0px #ffffff solid","border-bottom":"2px #aaaaaa solid","border-left":"0px #ffffff solid",r:1.5}},arrow:{className:"fusioncharts-navigator-active-window-button-right-arrow",style:{stroke:"#717171"}}},group:{className:"fusioncharts-navigator-active-window-buttons",style:{}}},track:{className:"fusioncharts-navigator-active-window-selection-box",style:{opacity:.5,background:"linear-gradient(180deg,rgba(254,254,254,1)30%,rgba(230,230,230,1)100%)",stroke:"#A9A9A9",cursor:"move"}},trackers:{className:"fusioncharts-navigator-active-window-tracker",style:{fill:"rgba(192,192,192, 0.000001)","stroke-width":0,cursor:"ew-resize"}},group:{className:"fusioncharts-navigator-active-window"},selectionGroup:{className:"fusioncharts-navigator-active-window-selection-container"}},scroller:{hide:!1,step:.2,scrollHeight:14,maxHeight:20,margin:{top:2,left:0,right:0},arrows:{className:"fusioncharts-scroller-arrows",style:{fill:"#434343",stroke:"#9e9e9e","stroke-width":0}},track:{className:"fusioncharts-scroller-track",style:{fill:"#F3F6F6","stroke-width":"0px"},margin:{left:2,right:2,top:0,bottom:0}},"track-inset":{className:"fusioncharts-scroller-track-inset",style:{fill:"#F3F6F6","stroke-width":"0px"}},"track-overlay":{className:"fusioncharts-scroller-track-overlay",style:{fill:"rgba(192,192,192,0)","stroke-width":"0px"}},handle:{className:"fusioncharts-scroller-handle",style:{fill:"#CDD2D2",stroke:"#2b2b2a","stroke-width":"0px"}},buttonGroup:{className:"fusioncharts-scroller-buttonGroup",style:{fill:"#CDD2D2",stroke:"#bfbdbd","stroke-width":0}},goti:{className:"fusioncharts-scroller-goti",style:{fill:"#333333",stroke:"#2b2b2a","stroke-width":1}},group:{className:"fusioncharts-scroller",style:{}}},standardTimeZone:{group:{className:"fusioncharts-navigator-standardTimeZone-container",style:{fill:"#C8C8C8"}},label:{customTagName:"FT",customTagClassName:"fusioncharts-navigator-standardTimeZone-custom-label",text:"GMT",className:"fusioncharts-navigator-standardTimeZone-label",style:{"font-size":"12px"}},margin:{left:0,right:0,top:0,bottom:0},interaction:{hide:!1,listeners:[{action:"click"}],tooltip:{hide:!1,text:"ABC"},className:"fusioncharts-navigator-standardTimeZone-tracker-rect",style:{fill:"rgba(192,192,192,0)","stroke-width":"0",cursor:"pointer"}},labelBound:{hide:!0,className:"fusioncharts-navigator-standardTimeZone-label-bound",style:{fill:"NONE","stroke-width":"1",stroke:"#000"},customLogicalSpace:i,defaultConfig:{pathFn:function(t,e,n,i){return["M",t,e,"L",t+n,e,"L",t+n,e+i,"L",t,e+i,"Z"]},getLogicalSpace:function(t,e,n){var i=2*n["stroke-width"];return t+=i,e+=i,{width:t,height:e}}},customPathFn:i}},axes:{x:{"class":"fusioncharts-navigator-x-axis",minor:{tick:{hide:!1,length:5,style:{stroke:"#D7D7D7","stroke-width":"1"}},text:{hide:!1,style:{"font-weight":"normal","font-size":"12px",fill:"#C6C6C6"}},textBg:{hide:!1,style:{fill:"#ffffff","fill-opacity":"0.8"}}},major:{tick:{hide:!1,length:5,style:{stroke:"#9A9A9A","stroke-width":"1"}},text:{hide:!1,style:{"font-weight":"normal","font-size":"12px",fill:"#686868"}},textBg:{hide:!1,style:{fill:"#ffffff","fill-opacity":"0.8"}}}}},margin:{top:0,bottom:5,left:0,right:0},className:"fusioncharts-navigator-container"},legend:{hide:!1,fadePlots:!0,group:{className:"fusioncharts-legend",style:{"font-size":"13px"}},bound:{className:"fusioncharts-legend-container",style:{"fill-opacity":"0","stroke-width":0,stroke:"#000","stroke-opacity":"0"}},text:{className:"fusioncharts-legend-text",style:{fill:"#696969","font-weight":"bold","font-family":"Lucida Grande, sans-serif"}},symbol:{shapeType:"rect",width:20,height:12,borderRadius:1},margin:{top:0,bottom:0,right:0,left:10},boxPadding:10,symbolPadding:10,itemPadding:20,layout:function(t){return t.block},position:function(t){return t.bottom},orientation:function(t){return t.horizontal},alignment:function(t){return t.center}},crossline:{horizontal:{hide:!1,className:"fusioncharts-horizontal-crossline",style:{stroke:"#000000","stroke-width":1,"stroke-opacity":.5,"stroke-dasharray":[1,1]},label:{hide:!1,formatter:function(t,e){var n=e.numberFormatter;return n.prefix+n.formatter.format(t)+n.suffix},tick:{hide:!1,length:5,style:{stroke:"#9A9A9A","stroke-width":"1"}},text:{hide:!1,style:{"font-weight":"normal","font-size":"12px",fill:"#000000"}},textBg:{hide:!1,style:{fill:"#fff","fill-opacity":.5}}}},vertical:{hide:!1,className:"fusioncharts-vertical-crossline",style:{stroke:"#000000","stroke-width":1,"stroke-opacity":.5,"stroke-dasharray":[1,1]},label:{hide:!1,formatter:function(t){return this.formatter.formatAs(t,"%Y-%m-%d")},tick:{hide:!1,length:5,style:{stroke:"#9A9A9A","stroke-width":"1"}},text:{hide:!1,style:{"font-weight":"normal","font-size":"12px",fill:"#000000"}},textBg:{hide:!1,style:{fill:"#fff","fill-opacity":.7}}}},marker:{radius:5,className:"fusioncharts-crossline-marker",style:{"stroke-width":2,stroke:"#fff"}},markerPlotTypes:["line","area"]},tooltip:{separator:": ",numberFormatter:{config:{fill:"",align:"",sign:"",symbol:"",zero:"",width:"",comma:",",precision:"",type:""},suffix:"",prefix:""},formatter:function(t,e,n,i){var r=t[0],o=t[1],a=i.numberFormatter,s=n.formatAs(r,"%a %b %d, %Y"),u="",l=function(t){return a.formatter.config(a.config),a.prefix+a.formatter.format(t)+a.suffix};return u+=s,o&&(u+=" - "+n.formatAs(o,"%a %b %d, %Y")),{x:u,y:void 0===e?"No Data":e instanceof Array?e.map(l):l(e)}},dateFormat:"%a %b %e, %Y",container:{className:"fusioncharts-d3-tooltip-container",style:{fill:"rgba(255, 255, 255, .85)",stroke:"rgba(85, 85, 85, .5)","stroke-width":"1"}},title:{className:"fusioncharts-d3-tooltip-title",style:{fill:"rgba(85, 85, 85, 1)","font-family":"Lucida Grande, sans-serif","font-size":"13px"},container:{className:"fusioncharts-d3-tooltip-title-container",style:{fill:"#ffffff","fill-opacity":"0.2","stroke-width":"0"}}},body:{className:"fusioncharts-d3-tooltip-body",style:{"font-family":"Lucida Grande, sans-serif","font-size":"13px","font-weight":"bold"},container:{className:"fusioncharts-d3-tooltip-body-container",style:{"fill-opacity":"0"}}}},caption:{margin:{top:10,bottom:10,left:0,right:0},alignment:"center",layout:function(t){return t.block},position:function(t){return t.bottom},orientation:function(t){return t.horizontal},padding:{top:0,bottom:0,left:0,right:0},group:{className:"fusioncharts-caption",style:{"font-weight":"bold","font-family":"Lucida Grande"}},bound:{className:"fusioncharts-caption-container",style:{"stroke-opacity":"0","fill-opacity":"0"}},title:{className:"fusioncharts-caption-title",style:{"font-size":"25px"}},subtitle:{className:"fusioncharts-caption-subtitle",style:{"font-size":"18px",fill:"#7b7b7b"}}}}}}var i,r=this,o=r.hcLib,a=function(){},s="none",u=function(t){return"object"==typeof t&&t.constructor==Object},l="round",c="miter";n.prototype.getDefaultConfig=function(){return this.config},n.prototype.parseConfig=function(e){var n=e.chart,i=this.config.chart,r=n.crossline||(n.crossline=[{}]),o=n.legend||(n.legend=[{}]),a=n.caption||(n.caption=[{}]),s=n.tooltip||(n.tooltip=[{}]),u=n.animation||(n.animation={}),l=n.realtime||(n.realtime={});return n.container=n.container||{},t(n.container,i.container),this.parseAxesConfig(n.axes,i.axes).parseCanvasConfig(n.canvas,i.canvas).parseDatasetConfig(n.datasets,i.datasets).parseNavigatorConfig(n.navigator,i.navigator).parseCommonConfig(o,i.legend).parseCommonConfig(r,i.crossline).parseCommonConfig(a,i.caption).parseCommonConfig(s,i.tooltip).parseCommonConfig(u,i.animation).parseCommonConfig(l,i.realtime),e},n.prototype.parseAxesConfig=function(e,n){var i,r;for(i=0,r=e.length;r>i;i++)t(e[i],n);return this},n.prototype.parseMarkersConfig=function(e,n){var i,r,o,a,s;for(i in e)for(r=e[i],o=n[i],a=0,s=r.length;s>a;a+=1)t(r[a],o);return this},n.prototype.parseAdditionalAxesConfig=function(e,n){var i;return(i=e.axes)?("function"==typeof i?e.axes=i.bind(n.axes||{}):t(e.axes,n.axes),this):this},n.prototype.parseCanvasConfig=function(e,n){var i,r,o;for(i=0,r=e.length;r>i;i++)o=e[i],this.parseMarkersConfig(o.markers,n.markers),this.parseAdditionalAxesConfig(o,n),t(o,n);return this},n.prototype.parseNavigatorConfig=n.prototype.parseCanvasConfig,n.prototype.parseDatasetConfig=function(t,e){var n,i,r=t[0],o=r.dataset;for(n=0,i=o.length;i>n;n++)this.parseSeriesConf(o[n].series,e.dataset.series);return this},n.prototype.parseSeriesConf=function(n,i){var r,o,a,s=i.plot;for(s=e(s,"type"),r=0,o=n.length;o>r;r++)a={},a.plot=s[n[r].plot.type],t(n[r],a);return this},n.prototype.parseCommonConfig=function(e,n){var i,r;if(e instanceof Array)for(i=0,r=e.length;r>i;i++)t(e[i],n);else t(e,n);return this},FusionCharts.registerComponent("config","chart-config",n)}]),FusionCharts.register("module",["private","modules.components.timeseries-realtime-manager-api",function(){function t(t,e){this.config=t,this.dependencies=e,this.updateFn=void 0,this.isCustomFnDefined=!1,this.cachedData=[],this._isInited=!1}var e,n="timeline-interaction-start",i="timeline-interaction-ongoing",r="timeline-interaction-end";(e=t.prototype).constructor=t,t.BEHAVIOUR={fixedPosition:function(t,e){return[t[1],e[1]]},fixedEnd:function(t,e){return[t[0],e[1]]},fixedTime:function(t,e){return[t[0],e[0]]},fixedWidth:function(t,e){var n=t[0],i=e[0],r=e[1],o=i-n;return[r-o,r]}},e.registerUpdateFn=function(t){return t&&"function"==typeof t&&(this.updateFn=t,this.isCustomFnDefined=!0),this},e._normalizeUpdateFn=function(){var e=this.dependencies.globalReactiveModel,n=e.prop("x-axis-visible-range-end"),i=e.prop("x-axis-absolute-range-end");return xVisStart=e.prop("x-axis-visible-range-start"),xAbsStart=e.prop("x-axis-absolute-range-start"),this.isCustomFnDefined?this:("AUTO"===this.config.mode.toUpperCase()&&(n===i?xVisStart!==xAbsStart?this.updateFn=t.BEHAVIOUR.fixedWidth:this.updateFn=t.BEHAVIOUR.fixedPosition:this.updateFn=t.BEHAVIOUR.fixedTime),this)},e.enQueueData=function(t){return t instanceof Array||(t=[t]),[].push.apply(this.cachedData,t),this},e.deQueueData=function(){var t=this.cachedData.slice(0);return this.cachedData.length=0,t},e.updateWith=function(t,e){var n,i;if(e instanceof Array)for(n=0,i=e.length;i>n;n++)t.addUnitData(e[n]);else t.addUnitData(e);return this},e.update=function(t){var e=this.dependencies.store,n=e.getNavigatorByIndex(0),i=n.getComposition(),r=i.dataset[0];return this._normalizeUpdateFn(),i.impl.setDataModelUpdateFn(this.updateFn),this.updateWith(r,t),this},e.updateRouter=function(t){var e=this,o=e.dependencies.globalReactiveModel;return e._isInited||o.onPropChange(r,function(t,n){null!==n&&e.update(e.deQueueData())}),e._isInited=!0,o.prop(n)||o.prop(i)?e.enQueueData(t):e.update(t),e},FusionCharts.registerComponent("api","realtime-manager",t)}]),FusionCharts.register("module",["private","modules.chart-api.timeseries",function(){function t(t,e){var n=o.core.options.extensions[t];return n?l(l({},n),e):e}function e(t){var e,n,i,r,o,a;e=this.storeById={},n=this.storeByIndex={},a=this.seq={};for(o in t)i=e[o]={},r=n[o]={},a[o]=0,this["get"+s(o)+"ById"]=function(t){return function(e){return t[e]}}(i),this["get"+s(o)+"ByIndex"]=function(t){return function(e){return t[e]}}(r),this["getAll"+s(o)]=function(t){return function(){return t}}(r)}function n(t){return function(e){var n,i,r,o,a=[].slice.call(e,0),s=[];for(i=a.splice(a.length-1,1)[0],r=0,o=a.length;o>r;r++)n=a[r],s.push(t[n]);return i.apply(void 0,s)}}function i(t,e){var n,i,r,o=t.chart;for(r in e)i=e[r],n=i[4],o[r]=n?n(o[r],i[0]):[i[0]];return t}function r(t,e,n){function i(){var t,e,n,i=[].slice.call(arguments,0),r=i.shift();for(e=0,n=i.length;n>e;e++)if(r instanceof m)r.resolveTo(i[e]);else for(t in r)r[t].resolveTo([i[e][1],t])}function r(t,n,r){var o,a,s,u,l,c,h,p,f,g,d,m=t.length,y=[],v=n[3],x=[];if(n instanceof Array)for(c=0;m>c;c++){if(s=t[c],d=new n[2](s,{type:r,impl:n[3]}),o=v.resolveIn)for(x=s[o],h=0,p=x.length;p>h;h++)l=x[h].uid,l=void 0===l?c:l,l+="",d.resolveTo([y,h]),e.saveInstance(r,d,l,h,i);else l=s.uid,l=void 0===l?c:l,l+="",d.resolveTo([y,c]),e.saveInstance(r,d,l,c,i);y.push(d)}else for(c=0;m>c;c++){a={},u=t[c],l=u.uid,l=void 0===l?c:l;for(f in n)s=u[f],g=n[f],d=new g[2](s,{type:f,impl:g[2],index:c}),a[f]=d,d.resolveTo([a,f]);e.saveInstance(r,a,l,c,i),y.push(a)}return y}var o,a,s=t.chart,u={};for(o in s)s.hasOwnProperty(o)&&(o in n?(a="axes"===o?n[o][0]:n[o],u[o]=r(s[o],a,o)):u[o]=s[o]);return u}var o=this,a=o.hcLib,s=(o.window,a.capitalizeFirst),u=a.shallowCopy,l=a.extend2,c=FusionCharts.getComponent("interface","component"),h=FusionCharts.getComponent("main","navigator"),p=FusionCharts.getComponent("main","legend"),f=FusionCharts.getComponent("main","caption"),g=FusionCharts.getComponent("interface","manager"),d=FusionCharts.getComponent("main"),m=FusionCharts.getComponent("resolvers","generic-resolver"),y=FusionCharts.getComponent("resolvers","axis-resolver"),v=FusionCharts.getComponent("resolvers","canvasgroup-resolver"),x=FusionCharts.getComponent("resolvers","dataset-resolver"),w=FusionCharts.getComponent("managerfactory"),b=FusionCharts.getComponent("manager"),C=FusionCharts.getComponent("api","reactive-model"),_=FusionCharts.getComponent("api","spacemanager"),M=FusionCharts.getComponent("api","container"),S=FusionCharts.getComponent("api","Renderer"),A=FusionCharts.getComponent("api","realtime-manager"),k=FusionCharts.getComponent("config","chart-config"),N=d.canvas,I=a.chartAPI,T=FusionCharts.getComponent("api","NumberFormatter"),P=!1,L=FusionCharts.getComponent("main","standardstyles");o.core.options.extensions={},o.core.getGlobalConfig=function(t){return o.core.options[t]},e.prototype.getInstanceById=function(t,e){return this.getInstances(t)[e]},e.prototype.getInstances=function(t){return this.storeById[t]||{}},e.prototype.saveInstance=function(t,e,n,i,r){var o,a,s=this.storeById,u=this.storeByIndex,l=this.seq;return o=s[t]||(s[t]={}),a=u[t]||(u[t]={}),l[t]=l[t]||0,void 0===n&&(n=e.uid=l[t]++),o[n]=e,a[i]=e,r&&r(e,[o,n],[a,i]),n},e.prototype.getFormalName=function(){return Object.keys(this.composition)},I("timeseries",{standaloneInit:!0,friendlyName:"Time Series Chart",creditLabel:P,init:function(t,o,a){var s,h,p,f,d,y,v,x,w,b,M,S,A,I,P,L,D,F,E,R,O,j=this,H=j.origRenderHeight,B=j.origRenderWidth,G=j.getDefaultDataStub().chart,W=j.store=new e(G),z=j.getPerComponentsGroup(),X=j.otherDependencies={},Y=j.instances=[],V=[],U=this.getRenderer(B,H,t),q=[],Z=function(t){var e=this,n=e.getParents()[0].cacheByName("canvasContainer").config;t||(e.recurse(e.getX,n.x),e.recurse(e.getWidth,n.width),e.reset(),e.allocate())},$=function(t){var e=this,n=e.getParents()[0].cacheByName("canvasContainer").config;e.config.height=n.height,e.config.y=n.y,t&&e.getLinkedItems("ref").setAxisPosition(e.getX()+e.getWidth(),e.getY())},Q=function(){var t=this,e=this.getParentComponentGroup(),n=t.getHeight(),i=e.getHeight(),r=e.getY(),o=this.config,a=o.alignment;return 0===o.layout&&(1===a?this.config.y=r+i/2-n/2:0===a?this.config.y=r:this.config.y=r+i-n),this},K=function(){return{width:R.getLogicalSpace().width+(R.getScaleObj().getConfig("userConfig").padding||0),height:1}},J=function(){var t=this.getParentComponentGroup(),e=R.getConfig("axisName"),n=e.getLogicalSpace(e.getParentSelection(),{width:t.getHeight(),height:t.getWidth()}),i=n.width;return n.width=n.height,n.height=i,n},tt=function(t){var e=this;t?e.getLinkedItems("ref").setAxisPosition(e.getX(),e.getY()):e.config.width=e.getParents()[0].cacheByName("canvasContainer").getWidth()},et=function(t){return function(){return t}},nt=function(){var t=this.getParentComponentGroup(),e=t.getWidth(),n=t.getHeight(),i=O.getLogicalSpace(e,n);return{width:Math.min(1,e),height:Math.min(i.height,n)}},it=function(){return{top:0,bottom:0,left:0,right:0}};for(this.svgElements={},o=l({},o),A=i(o,G),I=new k(a).parseConfig(A),this.data=y=r(I,W,G),m.resolveAll(W),this.parentGroup=d=j.getParentContainer(I.chart.container),h=this.offsetX=I.chart.container.paddingX,p=this.offsetY=I.chart.container.paddingY,this.spaceManagerInstance=s=new _({x:h,y:p,width:B-2*h,height:H-2*p}),X={userData:o,dataInstance:y,graphics:{paper:U,container:t},chart:{width:B,height:H},chartInstance:this.chartInstance,smartLabel:this.chartInstance.jsVars.smartLabel,globalReactiveModel:this.globalReactiveModel=new C,parentGroup:d,spaceManagerInstance:s,numberFormatter:new T(this).init({paper:U}),customExtremes:{}},this.realtimeManager=this.realtimeManager(I.chart.realtime),this.createDefaultStyles(U),x=y.canvas,[].push.apply(x,y.navigator),D=0,F=x.length;F>D;D++){w=x[D],X.canvasData=w.context,X.canvasConfig=w.getConfig(),b=w.getComposition();for(P in z)E=z[P],L=E[1],L=isFinite(L)?(E[1]--,L):Number.POSITIVE_INFINITY,L--&&(S=E[0],M=new S,b[P]=M);for(P in b)M=b[P],v=u({canvasGroupIndex:D},b,[M]),v=u(v,X),M instanceof N?Y.push(M):q.push(M),(M instanceof c||M instanceof g)&&M.init(n(v))}for(D=Y.length-1;D>=0;D--)Y[D].setReactivity();for(D=0,F=Y.length-1;F>D;D++)M=Y[D],R=M.yAxis,O=M.xAxis,V.push({index:0,pIndex:2,type:"HorizontalSwimLane1",padding:it,name:"extension1",preDrawHook:Z,initProp:.175,components:[{type:"VerticalSwimLane3",padding:it,initProp:1,index:0,pIndex:2,name:"Extension1",components:[]}]}),V.push({type:"HorizontalSwimLane1",padding:et(M.getMargin()),name:"canvasContainingRow",pIndex:0,index:1,initProp:.1,components:[{type:"VerticalSwimLane1",pIndex:2,initProp:.3,index:0,name:"Extension2",components:[]},{type:"VerticalSwimLane1",pIndex:1,initProp:.4,index:1,padding:et(R.getScaleObj().getConfig("userConfig").margin),name:"yAxisContainer",components:[{type:"Modules",pIndex:1,index:0,name:"yAxis",initProp:.8,preDrawHook:$,alignment:1,ref:R,layout:0,dimensions:[K]},{type:"Modules",pIndex:1,index:1,name:"yAxisName",initProp:.2,alignment:1,preDrawHook:Q,ref:R.getConfig("axisName"),layout:0,dimensions:[J]}]},{type:"VerticalSwimLane1",pIndex:0,initProp:.15,index:2,name:"canvasContainer",components:[{type:"Modules",pIndex:2,name:"canvas",preDrawHook:M.canvasHook,alignment:0,dependencies:M.getDefaultDependency(),ref:M,layout:"inline",dimensions:[et({width:1,height:1})]}]},{type:"VerticalSwimLane2",pIndex:2,initProp:.15,index:3,name:"Extension3",components:[]}]}),V.push({pIndex:1,index:2,initProp:.15,type:"HorizontalSwimLane1",padding:et(O.getScaleObj().getConfig("userConfig").margin),name:"xAxisContainingRow",preDrawHook:Z,components:[{type:"VerticalSwimLane4",name:"xAxisContaner",initProp:1,components:[{type:"Modules",index:0,initProp:1,name:"xAxis",preDrawHook:tt,ref:M.xAxis,alignment:0,layout:"inline",dimensions:[nt]}]}]});for(V.push({pIndex:1,index:3,initProp:.2,type:"HorizontalSwimLane1",padding:et(Y[D].getMargin()),name:"navigationContainingRow",components:[]}),V.push({index:4,pIndex:2,type:"HorizontalSwimLane1",padding:it,name:"extension4",preDrawHook:Z,initProp:.175,components:[{type:"VerticalSwimLane4",initProp:1,index:0,pIndex:2,name:"Extension4",components:[]}]}),s.addComponent(V),D=0,F=Y.length;F>D;D++)Y[D].manageSpace&&Y[D].manageSpace();this.extensions=f=j.addExtensions(o.extensions||{},X),s.allocate(),j.setAndDraw(!0,B,H),a.jsVars.instanceAPI=a.apiInstance},drawCreditLabel:function(){},setAndDraw:function(t,e,n){var i,r,o=this.instances,a=this.getRenderer(e,n);for(this.drawCreditLabel(),this.spaceManagerInstance.setDrawingConfiguration(this.parentGroup,t?a:void 0),r=0,i=o.length;i>r;r++)o[r].draw();this.drawExtensions(this.extensions)},resizeTo:function(t){t?(this.origRenderHeight=t.height,this.origRenderWidth=t.width):t={width:this.origRenderWidth,height:this.origRenderHeight},t.width&&(t.width-=2*this.offsetX),t.height&&(t.height-=2*this.offsetY),this.spaceManagerInstance.resizeTo(t),this.setAndDraw(!1,this.origRenderWidth,this.origRenderHeight)},addExtensions:function(e,i){var r,o,s,u,l=FusionCharts.getComponent("extensions"),c=[];i.lib=a;for(r in l)o=e[r]||{},u=i.extData=t(r,o),u.disabled!==!0&&(s=new l[r],s.init(n(i)),s.placeInCanvas(),c.push(s));return c},drawExtensions:function(t){var e,n;for(e=0,n=t.length;n>e;e+=1)t[e].draw()},dispose:function(){for(var t,e,n=this,i=this.getRenderer(),r=this.instances,o=n.linkedItems&&n.linkedItems.eventListeners,a=o&&o.length;a--;)o[a].unlisten();for(i&&(i.clear(),i.remove()),n.chartInstance&&delete n.chartInstance.apiInstance,t=0,e=r.length;e>t;t+=1)r[t].dispose&&r[t].dispose()},getAxisName:function(t,e,n,i){n||(n=0),i||(i=0);var r=this.instances[i][t+"Axis"].getConfig("axisName");return e&&(r.label(e.text),this.resizeTo()),r.getConfig("label").text},getParentContainer:function(t){var e,n,i,r=this.svgElements,o=this._renderer,a=o.getInstances().paper;return r.group?r.group:(n=o.getQualifiedClassName(t.group.className),o.cssAddRule("."+n[1],t.group.style),e=a.append("g").attr("class",n.join(" ")),i=new M(t.bound,{paper:o}).drawSelf(0,0,this.origRenderWidth,this.origRenderHeight,e),r.group=e)},getDefaultDataStub:function(){function t(t,e){var n,i,r=[];if(!t)return[e];for(n=0,i=t.length;i>n;n++)r.push(l(l({},e),t[n]));return r}function e(t,e){function n(){var t,n={};for(t in e)n[t]=e[t][0];return n}var i,r,o;if(!t)return[n(e)];for(i=[],r=0,o=t.length;o>r;r++)i.push(l(l({},n(e)),t[r]));return i}return{chart:{axes:[{x:[{},"x",y],y:[{},"y",y]},void 0,void 0,void 0,e],datasets:[{category:{},dataset:{}},"dataset",x,{resolveIn:"dataset"},t],canvas:[{axes:function(t){return t.getAxesByIndex(0)},dataset:function(t){return t.getDatasetsByIndex(0)}},"canvas",v,N,t],navigator:[{showAxes:{y:!1},axes:function(){var t;return{x:((t=new d.axis(this.x)).setConfig("scale","timescale").getScaleObj().setConfig("interval","timeintervals").setConfig("groupClassName","fusioncharts-navigator-x-axis"),t),y:((t=new d.axis(this.y)).getScaleObj().setConfig("vertical",!0).setConfig("groupClassName","fusioncharts-navigator-y-axis"),t)}},dataset:function(t){return t.getAllDatasets()}},"navigator",v,h,t]}}},getPerComponentsGroup:function(){return{PlotManager:[w.plotmanagerfactory],MarkerManager:[b.markermanager],reactiveModel:[C],LegendImpl:[p,1],CaptionImpl:[f,1]}},getCanvasInstances:function(){return this.instances},getComponentStore:function(){return this.store},realtimeManager:function(t){return new A(t,{store:this.store,globalReactiveModel:this.globalReactiveModel})},feedData:function(t){return this.realtimeManager.updateRouter(t),this},getRenderer:function(t,e,n){var i,r;return n||(n=this._container),r=o.normalizeCSSDimension(t,e,n),void 0!==t&&(n.style.width=r.width),void 0!==e&&(n.style.height=r.height),(i=this._renderer)?i.setSize(t,e):(this._container=n,this._renderer=i=new S(n,t,e)),i},draw:function(t){t.draw()},createDefaultStyles:function(t){var e,n,i,r,o=L.styles;for(n in o){r=o[n];for(e in r)i=r[e],t.cssAddRule("."+e,i)}}},I.base)}]),e&&(t.FusionCharts=FusionCharts),FusionCharts});
